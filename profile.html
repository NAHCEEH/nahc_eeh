<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>내 건강 관리</title>
<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background: #F2E9E0;
    min-height: 100vh;
    color: #5a4a3a;
    margin: 0;
    padding: 0;
}

.container {
    max-width: 390px;
    margin: 0 auto;
    background: #F2E9E0;
    min-height: 100vh;
    position: relative;
}

/* 헤더 */
.header {
    background: transparent;
    padding: 20px;
    color: #5a4a3a;
    position: relative;
    text-align: center;
}

.back-btn {
    position: absolute;
    left: 20px;
    top: 50%;
    transform: translateY(-50%);
    background: none;
    border: none;
    color: #5a4a3a;
    font-size: 24px;
    cursor: pointer;
}

.header-title {
    font-size: 18px;
    font-weight: bold;
}

/* 메인 컨텐츠 */
.content {
    padding: 20px 0;
    padding-bottom: 100px;
}

/* 섹션 스타일 */
.section {
    background: rgba(255, 255, 255, 0.3);
    border-radius: 25px;
    padding: 20px;
    margin: 0 20px 20px 20px;
    backdrop-filter: blur(10px);
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
}

.section-title {
    font-size: 16px;
    font-weight: bold;
    color: #5a4a3a;
    margin-bottom: 15px;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.calendar-toggle {
    background: none;
    border: none;
    cursor: pointer;
    padding: 8px;
    border-radius: 50%;
    transition: background-color 0.3s ease;
    color: #5a4a3a;
}

.calendar-toggle:hover {
    background: rgba(255, 255, 255, 0.5);
}

.calendar-toggle svg {
    width: 24px;
    height: 24px;
}

/* 캘린더 스타일 */
.calendar-container {
    background: rgba(255, 255, 255, 0.5);
    border-radius: 20px;
    padding: 20px;
    margin-bottom: 20px;
    animation: slideDown 0.3s ease;
}

.calendar-container.hidden {
    display: none;
}

.calendar-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.calendar-date {
    font-size: 18px;
    font-weight: bold;
    color: #5a4a3a;
}

.calendar-subtitle {
    font-size: 12px;
    color: #EC9787;
    margin-top: 2px;
}

.calendar-nav {
    display: flex;
    gap: 10px;
}

.nav-arrow {
    background: none;
    border: none;
    color: #5a4a3a;
    font-size: 18px;
    cursor: pointer;
    padding: 5px 10px;
    border-radius: 10px;
    transition: background-color 0.3s ease;
}

.nav-arrow:hover {
    background: rgba(255, 255, 255, 0.5);
}

.calendar-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 8px;
}

.calendar-day-header {
    text-align: center;
    font-size: 12px;
    color: #666;
    font-weight: bold;
    padding: 8px 0;
}

.calendar-day {
    aspect-ratio: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    border-radius: 50%;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    color: #5a4a3a;
}

.calendar-day:hover {
    background: rgba(236, 151, 135, 0.2);
}

.calendar-day.today {
    background: #EC9787;
    color: white;
    font-weight: bold;
}

.calendar-day.completed {
    background: #4CAF50;
    color: white;
}

.calendar-day.partial {
    background: #FF9800;
    color: white;
}

.calendar-day.missed {
    background: #f44336;
    color: white;
}

.calendar-day.other-month {
    color: #ccc;
}

/* 달성률 섹션 */
.achievement-container {
    animation: slideDown 0.3s ease;
}

.achievement-container.hidden {
    display: none;
}

.achievement-card {
    background: rgba(255, 255, 255, 0.5);
    border-radius: 20px;
    padding: 20px;
    margin-bottom: 20px;
}

.achievement-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.achievement-label {
    font-size: 14px;
    color: #5a4a3a;
}

.achievement-percentage {
    font-size: 20px;
    font-weight: bold;
    color: #5a4a3a;
}

/* 새로운 진행 바 스타일 */
.progress-container {
    position: relative;
    background: rgba(255, 255, 255, 0.5);
    height: 12px;
    border-radius: 20px;
    overflow: hidden;
    margin-bottom: 10px;
}

.progress-fill {
    position: absolute;
    left: 0;
    top: 0;
    height: 100%;
    background: #EC9787;
    border-radius: 20px;
    transition: width 1s cubic-bezier(0.4, 0, 0.2, 1);
}

.progress-info {
    display: flex;
    justify-content: space-between;
    font-size: 12px;
    color: #666;
    margin-top: 8px;
}

.progress-fill::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(180deg, rgba(255,255,255,0.3) 0%, transparent 50%);
    border-radius: 15px;
}

.progress-text {
    position: relative;
    z-index: 1;
    color: white;
    font-weight: bold;
    font-size: 16px;
    text-shadow: 0 1px 2px rgba(0,0,0,0.2);
}

.achievement-stats {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 12px;
    margin-top: 25px;
}

.stat-item {
    text-align: center;
    padding: 15px 10px;
    background: rgba(217, 188, 154, 0.3);
    border-radius: 15px;
    transition: transform 0.3s ease;
}

.stat-item:hover {
    transform: translateY(-2px);
}

.stat-value {
    font-size: 18px;
    font-weight: bold;
    color: #5a4a3a;
    margin-bottom: 3px;
}

.stat-label {
    font-size: 11px;
    color: #666;
}

/* 새로운 목표 추가 애니메이션 */
@keyframes slideInFromRight {
    from {
        opacity: 0;
        transform: translateX(100%);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

/* 목표 섹션 개선 */
#goals-container {
    position: relative;
}

.goal-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 15px;
    background: rgba(236, 151, 135, 0.05);
    border-radius: 10px;
    margin-bottom: 10px;
    border: 1px solid rgba(236, 151, 135, 0.2);
    position: relative;
    transition: all 0.3s ease;
}

.goal-item:hover {
    transform: translateX(5px);
}

.goal-info {
    flex: 1;
}

.goal-title {
    font-weight: bold;
    margin-bottom: 5px;
}

.goal-progress {
    font-size: 12px;
    color: #666;
}

.goal-actions {
    display: flex;
    align-items: center;
    gap: 10px;
}

.goal-status {
    width: 60px;
    text-align: center;
}

.progress-ring {
    width: 50px;
    height: 50px;
    position: relative;
}

.progress-ring svg {
    transform: rotate(-90deg);
}

.progress-text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 12px;
    font-weight: bold;
    color: #4CAF50;
}

/* 삭제 버튼 스타일 */
.delete-btn {
    background: none;
    border: none;
    color: #ff6b6b;
    cursor: pointer;
    padding: 8px;
    border-radius: 50%;
    transition: all 0.3s ease;
    opacity: 0.7;
}

.delete-btn:hover {
    background: rgba(255, 107, 107, 0.1);
    opacity: 1;
    transform: scale(1.1);
}

.delete-btn svg {
    width: 20px;
    height: 20px;
}

.add-goal-btn {
    width: 100%;
    padding: 12px;
    background: rgba(217, 188, 154, 0.5);
    color: #5a4a3a;
    border: none;
    border-radius: 20px;
    font-size: 14px;
    font-weight: bold;
    cursor: pointer;
    margin-top: 15px;
    transition: all 0.3s ease;
}

.add-goal-btn:hover {
    background: rgba(217, 188, 154, 0.7);
    transform: translateY(-2px);
}

/* 식단 기록 섹션 */
.meal-time-tabs {
    display: flex;
    gap: 10px;
    margin-bottom: 20px;
}

.meal-tab {
    flex: 1;
    padding: 10px;
    background: #f5f5f5;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 500;
}

.meal-tab.active {
    background: #EC9787;
    color: white;
}

.meal-record {
    background: rgba(236, 151, 135, 0.05);
    border-radius: 10px;
    padding: 15px;
    margin-bottom: 10px;
    border: 1px solid rgba(236, 151, 135, 0.2);
    position: relative;
    transition: all 0.3s ease;
}

.meal-record:hover {
    transform: translateX(5px);
}

.meal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
}

.meal-title {
    font-weight: bold;
    color: #EC9787;
}

.meal-calories {
    font-size: 14px;
    color: #EC9787;
    font-weight: bold;
}

.meal-items {
    font-size: 14px;
    color: #666;
    line-height: 1.6;
    margin-bottom: 8px;
}

.meal-time {
    font-size: 12px;
    color: #999;
    margin-top: 5px;
}

.meal-delete-btn {
    position: absolute;
    top: 15px;
    right: 15px;
    background: none;
    border: none;
    color: #ff6b6b;
    cursor: pointer;
    padding: 5px;
    border-radius: 50%;
    opacity: 0;
    transition: all 0.3s ease;
}

.meal-record:hover .meal-delete-btn {
    opacity: 0.7;
}

.meal-delete-btn:hover {
    background: rgba(255, 107, 107, 0.1);
    opacity: 1;
    transform: scale(1.1);
}

.meal-delete-btn svg {
    width: 16px;
    height: 16px;
}

.add-meal-btn {
    width: 100%;
    padding: 12px;
    background: rgba(217, 188, 154, 0.5);
    border: none;
    border-radius: 20px;
    color: #5a4a3a;
    font-weight: bold;
    font-size: 14px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.add-meal-btn:hover {
    background: rgba(217, 188, 154, 0.7);
}

/* 영양 요약 카드 */
.nutrition-summary {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 10px;
    margin-top: 15px;
}

.nutrition-card {
    background: rgba(236, 151, 135, 0.05);
    border-radius: 10px;
    padding: 15px;
    text-align: center;
    border: 1px solid rgba(236, 151, 135, 0.2);
}

.nutrition-icon {
    font-size: 24px;
    margin-bottom: 5px;
}

.nutrition-value {
    font-size: 20px;
    font-weight: bold;
    color: #EC9787;
}

.nutrition-label {
    font-size: 12px;
    color: #666;
    margin-top: 3px;
}

/* 하단 네비게이션 */
.bottom-nav {
    position: fixed;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    max-width: 390px;
    background: white;
    border-top: 1px solid #eee;
    display: flex;
    padding: 15px 0;
    box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
}

.nav-item {
    flex: 1;
    text-align: center;
    padding: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
    border-radius: 10px;
    margin: 0 5px;
}

.nav-item:hover {
    background: #faf8f6;
    transform: translateY(-2px);
}

.nav-item.active {
    background: #EC9787;
    color: white;
}

.nav-icon {
    font-size: 24px;
    margin-bottom: 5px;
    display: flex;
    justify-content: center;
    align-items: center;
}

.nav-label {
    font-size: 12px;
    font-weight: 500;
}

/* 모달 스타일 */
.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.5);
    z-index: 1000;
    align-items: center;
    justify-content: center;
}

.modal.show {
    display: flex;
}

.modal-content {
    background: #F2E9E0;
    border-radius: 25px;
    padding: 30px;
    width: 90%;
    max-width: 350px;
    max-height: 80vh;
    overflow-y: auto;
    animation: modalSlideIn 0.3s ease;
}

/* 확인 모달 특별 스타일 */
.confirm-modal-content {
    text-align: center;
    padding: 40px 30px;
}

.confirm-icon {
    font-size: 48px;
    color: #ff6b6b;
    margin-bottom: 20px;
}

.confirm-title {
    font-size: 20px;
    font-weight: bold;
    color: #5a4a3a;
    margin-bottom: 15px;
}

.confirm-message {
    font-size: 14px;
    color: #666;
    margin-bottom: 30px;
    line-height: 1.5;
}

@keyframes modalSlideIn {
    from {
        transform: translateY(-50px);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.modal-header {
    text-align: center;
    margin-bottom: 25px;
}

.modal-title {
    font-size: 20px;
    font-weight: bold;
    color: #8b6f47;
}

.form-group {
    margin-bottom: 20px;
}

.form-label {
    display: block;
    font-weight: bold;
    margin-bottom: 8px;
    color: #8b6f47;
}

.text-input {
    width: 100%;
    padding: 12px;
    border: 2px solid #e9bf94;
    border-radius: 10px;
    font-size: 16px;
}

.text-input:focus {
    outline: none;
    border-color: #d4a574;
    box-shadow: 0 0 10px rgba(212, 165, 116, 0.3);
}

.input-hint {
    font-size: 11px;
    color: #999;
    margin-top: 5px;
}

.text-input.error {
    border-color: #ff6b6b;
    box-shadow: 0 0 0 2px rgba(255, 107, 107, 0.2);
}

.error-message {
    color: #ff6b6b;
    font-size: 12px;
    margin-top: 5px;
    display: none;
}

textarea.text-input {
    resize: vertical;
    min-height: 100px;
}

.modal-footer {
    display: flex;
    gap: 10px;
    margin-top: 25px;
}

.btn {
    flex: 1;
    padding: 12px;
    border: none;
    border-radius: 10px;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
}

.btn-cancel {
    background: #f5f5f5;
    color: #666;
}

.btn-save {
    background: #EC9787;
    color: white;
}

.btn-delete {
    background: #ff6b6b;
    color: white;
}

.btn-save:hover {
    background: #E58775;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(236, 151, 135, 0.4);
}

.btn-delete:hover {
    background: #ff5252;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(255, 107, 107, 0.4);
}

/* 삭제 애니메이션 */
.deleting {
    animation: slideOut 0.3s ease forwards;
}

@keyframes slideOut {
    from {
        opacity: 1;
        transform: translateX(0);
    }
    to {
        opacity: 0;
        transform: translateX(-100%);
    }
}
</style>
</head>
<body>
<div class="container">
<!-- 헤더 -->
<header class="header">
    <button class="back-btn" onclick="goBack()">◀</button>
    <h1 class="header-title">내 건강 관리</h1>
</header>

<!-- 메인 컨텐츠 -->
<div class="content">
    <!-- 복용 달성률 섹션 -->
    <section class="section">
        <h2 class="section-title">
            복용 달성률
            <button class="calendar-toggle" onclick="toggleCalendar()">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/>
                </svg>
            </button>
        </h2>
        
        <!-- 캘린더 -->
        <div id="calendarContainer" class="calendar-container hidden">
            <div class="calendar-header">
                <div>
                    <div class="calendar-date">2025.07.14.월요일</div>
                    <div class="calendar-subtitle">2일 연속 복용 성공중</div>
                </div>
                <div class="calendar-nav">
                    <button class="nav-arrow" onclick="changeMonth(-1)">‹</button>
                    <button class="nav-arrow" onclick="changeMonth(1)">›</button>
                </div>
            </div>
            
            <div class="calendar-grid">
                <div class="calendar-day-header">일</div>
                <div class="calendar-day-header">월</div>
                <div class="calendar-day-header">화</div>
                <div class="calendar-day-header">수</div>
                <div class="calendar-day-header">목</div>
                <div class="calendar-day-header">금</div>
                <div class="calendar-day-header">토</div>
                
                <!-- 이전 달 말일들 -->
                <div class="calendar-day other-month">29</div>
                <div class="calendar-day other-month">30</div>
                
                <!-- 7월 -->
                <div class="calendar-day completed">1</div>
                <div class="calendar-day completed">2</div>
                <div class="calendar-day partial">3</div>
                <div class="calendar-day completed">4</div>
                <div class="calendar-day completed">5</div>
                
                <div class="calendar-day completed">6</div>
                <div class="calendar-day missed">7</div>
                <div class="calendar-day completed">8</div>
                <div class="calendar-day partial">9</div>
                <div class="calendar-day completed">10</div>
                <div class="calendar-day completed">11</div>
                <div class="calendar-day completed">12</div>
                
                <div class="calendar-day completed">13</div>
                <div class="calendar-day today">14</div>
                <div class="calendar-day">15</div>
                <div class="calendar-day">16</div>
                <div class="calendar-day">17</div>
                <div class="calendar-day">18</div>
                <div class="calendar-day">19</div>
                
                <div class="calendar-day">20</div>
                <div class="calendar-day">21</div>
                <div class="calendar-day">22</div>
                <div class="calendar-day">23</div>
                <div class="calendar-day">24</div>
                <div class="calendar-day">25</div>
                <div class="calendar-day">26</div>
                
                <div class="calendar-day">27</div>
                <div class="calendar-day">28</div>
                <div class="calendar-day">29</div>
                <div class="calendar-day">30</div>
                <div class="calendar-day">31</div>
                
                <!-- 다음 달 첫날들 -->
                <div class="calendar-day other-month">1</div>
                <div class="calendar-day other-month">2</div>
            </div>
        </div>
        
        <!-- 달성률 상세 정보 -->
        <div id="achievementContainer" class="achievement-container">
            <div class="achievement-card">
                <div class="achievement-header">
                    <div class="achievement-label">이번 주 평균 달성률</div>
                    <div class="achievement-percentage">87%</div>
                </div>
                
                <div class="progress-container">
                    <div class="progress-fill" style="width: 87%"></div>
                </div>
                <div class="progress-info">
                    <span>복용완료: 22개</span>
                    <span>전체: 25개</span>
                </div>
                
                <div class="achievement-stats" style="margin-top: 20px;">
                    <div class="stat-item">
                        <div class="stat-value">22일</div>
                        <div class="stat-label">이번 달 복용</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">5일</div>
                        <div class="stat-label">연속 일수</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">156개</div>
                        <div class="stat-label">총 복용 개수</div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- 내가 설정한 목표 섹션 -->
    <section class="section">
        <h2 class="section-title">
            내가 설정한 목표
        </h2>
        
        <div id="goals-container">
            <div class="goal-item" data-goal-id="1">
                <div class="goal-info">
                    <div class="goal-title">매일 영양제 100% 복용하기</div>
                    <div class="goal-progress">이번 달: 22일 / 30일</div>
                </div>
                <div class="goal-actions">
                    <div class="goal-status">
                        <div class="progress-ring">
                            <svg width="50" height="50">
                                <circle cx="25" cy="25" r="20" fill="none" stroke="#e0e0e0" stroke-width="5"/>
                                <circle cx="25" cy="25" r="20" fill="none" stroke="#EC9787" stroke-width="5" 
                                        stroke-dasharray="125.6" stroke-dashoffset="31.4"/>
                            </svg>
                            <div class="progress-text" style="color: #EC9787">73%</div>
                        </div>
                    </div>
                    <button class="delete-btn" onclick="confirmDeleteGoal(1, '매일 영양제 100% 복용하기')">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
                        </svg>
                    </button>
                </div>
            </div>
            
            <div class="goal-item" data-goal-id="2">
                <div class="goal-info">
                    <div class="goal-title">하루 2L 이상 물 마시기</div>
                    <div class="goal-progress">오늘: 1.5L / 2L</div>
                </div>
                <div class="goal-actions">
                    <div class="goal-status">
                        <div class="progress-ring">
                            <svg width="50" height="50">
                                <circle cx="25" cy="25" r="20" fill="none" stroke="#e0e0e0" stroke-width="5"/>
                                <circle cx="25" cy="25" r="20" fill="none" stroke="#2196F3" stroke-width="5" 
                                        stroke-dasharray="125.6" stroke-dashoffset="31.4"/>
                            </svg>
                            <div class="progress-text" style="color: #2196F3">75%</div>
                        </div>
                    </div>
                    <button class="delete-btn" onclick="confirmDeleteGoal(2, '하루 2L 이상 물 마시기')">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
                        </svg>
                    </button>
                </div>
            </div>
            
            <div class="goal-item" data-goal-id="3">
                <div class="goal-info">
                    <div class="goal-title">주 3회 이상 운동하기</div>
                    <div class="goal-progress">이번 주: 2회 / 3회</div>
                </div>
                <div class="goal-actions">
                    <div class="goal-status">
                        <div class="progress-ring">
                            <svg width="50" height="50">
                                <circle cx="25" cy="25" r="20" fill="none" stroke="#e0e0e0" stroke-width="5"/>
                                <circle cx="25" cy="25" r="20" fill="none" stroke="#FF9800" stroke-width="5" 
                                        stroke-dasharray="125.6" stroke-dashoffset="42"/>
                            </svg>
                            <div class="progress-text" style="color: #FF9800">67%</div>
                        </div>
                    </div>
                    <button class="delete-btn" onclick="confirmDeleteGoal(3, '주 3회 이상 운동하기')">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        
        <button class="add-goal-btn" onclick="openGoalModal()">
            + 새로운 목표 추가
        </button>
    </section>
    
    <!-- 식단 기록 섹션 -->
    <section class="section">
        <h2 class="section-title">
            오늘의 식단 기록
        </h2>
        
        <div class="meal-time-tabs">
            <button class="meal-tab active" onclick="selectMealTime('breakfast')">아침</button>
            <button class="meal-tab" onclick="selectMealTime('lunch')">점심</button>
            <button class="meal-tab" onclick="selectMealTime('dinner')">저녁</button>
            <button class="meal-tab" onclick="selectMealTime('snack')">간식</button>
        </div>
        
        <div id="meal-records">
            <div class="meal-record" data-meal-id="1">
                <button class="meal-delete-btn" onclick="confirmDeleteMeal(1, '아침 식사')">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
                    </svg>
                </button>
                <div class="meal-header">
                    <span class="meal-title">아침 식사</span>
                    <span class="meal-calories">380 kcal</span>
                </div>
                <div class="meal-items">
                    현미밥 1공기, 된장찌개, 계란후라이 2개, 김치
                </div>
                <div class="meal-time">오전 8:30</div>
            </div>
            
            <button class="add-meal-btn" onclick="openMealModal()">
                + 식단 추가하기
            </button>
        </div>
        
        <!-- 영양 요약 -->
        <div class="nutrition-summary">
            <div class="nutrition-card">
                <div class="nutrition-icon">🔥</div>
                <div class="nutrition-value">1,520</div>
                <div class="nutrition-label">칼로리</div>
            </div>
            <div class="nutrition-card">
                <div class="nutrition-icon">🥩</div>
                <div class="nutrition-value">68g</div>
                <div class="nutrition-label">단백질</div>
            </div>
            <div class="nutrition-card">
                <div class="nutrition-icon">🌾</div>
                <div class="nutrition-value">186g</div>
                <div class="nutrition-label">탄수화물</div>
            </div>
            <div class="nutrition-card">
                <div class="nutrition-icon">🥑</div>
                <div class="nutrition-value">52g</div>
                <div class="nutrition-label">지방</div>
            </div>
        </div>
    </section>
</div>

<!-- 하단 네비게이션 -->
<nav class="bottom-nav">
    <div class="nav-item" onclick="navigateTo('community')">
        <div class="nav-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                <circle cx="18.5" cy="10" r="2.5"/>
                <circle cx="5.5" cy="10" r="2.5"/>
                <path d="M18.5 12.5c-1.33 0-4 0.67-4 2v1.5h8V14.5c0-1.33-2.67-2-4-2z"/>
                <path d="M5.5 12.5c-1.33 0-4 0.67-4 2v1.5h8V14.5c0-1.33-2.67-2-4-2z"/>
            </svg>
        </div>
        <div class="nav-label">커뮤니티</div>
    </div>
    
    <div class="nav-item" onclick="navigateTo('home')">
        <div class="nav-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
            </svg>
        </div>
        <div class="nav-label">홈</div>
    </div>
    
    <div class="nav-item active" onclick="navigateTo('health')">
        <div class="nav-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/>
            </svg>
        </div>
        <div class="nav-label">내 건강</div>
    </div>
    
    <div class="nav-item" onclick="navigateTo('chatbot')">
        <div class="nav-icon">
            <svg width="24" height="24" viewBox="0 0 512 512" fill="currentColor">
                <!-- 메인 얼굴 -->
                <rect x="130" y="180" width="252" height="200" rx="60" fill="currentColor"/>
                <!-- 왼쪽 귀 -->
                <ellipse cx="160" cy="160" rx="35" ry="45" fill="currentColor"/>
                <!-- 오른쪽 귀 -->
                <ellipse cx="350" cy="160" rx="35" ry="45" fill="currentColor"/>
                <!-- 작은 하트 -->
                <path d="M256 120 C250 110, 240 110, 240 120 C240 110, 230 110, 230 120 C230 130, 240 140, 256 150 C270 140, 280 130, 280 120 C280 110, 270 110, 270 120 C270 110, 260 110, 256 120 Z" fill="#ffb3ba"/>
                <!-- 왼쪽 눈 -->
                <circle cx="190" cy="240" r="18" fill="white"/>
                <circle cx="190" cy="235" r="7" fill="currentColor"/>
                <!-- 오른쪽 눈 -->
                <circle cx="320" cy="240" r="18" fill="white"/>
                <circle cx="320" cy="235" r="7" fill="currentColor"/>
                <!-- 입 (두 개의 둥근 사각형) -->
                <rect x="200" y="310" width="45" height="30" rx="15" fill="white"/>
                <rect x="265" y="310" width="45" height="30" rx="15" fill="white"/>
                <line x1="255" y1="310" x2="255" y2="340" stroke="currentColor" stroke-width="5"/>
            </svg>
        </div>
        <div class="nav-label">챗봇</div>
    </div>
    
    <div class="nav-item" onclick="navigateTo('more')">
        <div class="nav-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                <circle cx="5" cy="12" r="2"/>
                <circle cx="12" cy="12" r="2"/>
                <circle cx="19" cy="12" r="2"/>
            </svg>
        </div>
        <div class="nav-label">더보기</div>
    </div>
</nav>

<!-- 목표 추가 모달 -->
<div id="goalModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title">새로운 목표 추가</h2>
        </div>
        
        <div class="form-group">
            <label class="form-label">목표 이름 *</label>
            <input type="text" class="text-input" id="goalName" placeholder="예: 매일 30분 운동하기" maxlength="50">
            <div class="input-hint">최대 50자까지 입력 가능합니다</div>
        </div>
        
        <div class="form-group">
            <label class="form-label">목표 유형 *</label>
            <select class="text-input" id="goalType">
                <option value="daily">매일</option>
                <option value="weekly">주간</option>
                <option value="monthly">월간</option>
            </select>
        </div>
        
        <div class="form-group">
            <label class="form-label">목표 수치 *</label>
            <input type="number" class="text-input" id="goalTarget" placeholder="예: 30" min="1" max="9999">
            <div class="input-hint">1~9999 사이의 숫자를 입력해주세요</div>
        </div>
        
        <div class="form-group">
            <label class="form-label">단위 *</label>
            <input type="text" class="text-input" id="goalUnit" placeholder="예: 분, 회, km, 잔" maxlength="10">
            <div class="input-hint">최대 10자까지 입력 가능합니다</div>
        </div>
        
        <div class="modal-footer">
            <button class="btn btn-cancel" onclick="closeGoalModal()">취소</button>
            <button class="btn btn-save" onclick="saveGoal()">저장</button>
        </div>
    </div>
</div>

<!-- 식단 추가 모달 -->
<div id="mealModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title">식단 추가</h2>
        </div>
        
        <div class="form-group">
            <label class="form-label">식사 시간</label>
            <select class="text-input" id="mealTime">
                <option value="breakfast">아침</option>
                <option value="lunch">점심</option>
                <option value="dinner">저녁</option>
                <option value="snack">간식</option>
            </select>
        </div>
        
        <div class="form-group">
            <label class="form-label">메뉴</label>
            <textarea class="text-input" id="mealMenu" placeholder="먹은 음식을 입력해주세요"></textarea>
        </div>
        
        <div class="form-group">
            <label class="form-label">예상 칼로리</label>
            <input type="number" class="text-input" id="mealCalories" placeholder="예: 500">
        </div>
        
        <div class="form-group">
            <label class="form-label">메모</label>
            <input type="text" class="text-input" id="mealNote" placeholder="예: 포만감 좋음, 소화 잘됨">
        </div>
        
        <div class="modal-footer">
            <button class="btn btn-cancel" onclick="closeMealModal()">취소</button>
            <button class="btn btn-save" onclick="saveMeal()">저장</button>
        </div>
    </div>
</div>

<!-- 삭제 확인 모달 -->
<div id="confirmModal" class="modal">
    <div class="modal-content confirm-modal-content">
        <div class="confirm-icon">🗑️</div>
        <div class="confirm-title" id="confirmTitle">정말 삭제하시겠어요?</div>
        <div class="confirm-message" id="confirmMessage">삭제된 항목은 복구할 수 없습니다.</div>
        
        <div class="modal-footer">
            <button class="btn btn-cancel" onclick="closeConfirmModal()">취소</button>
            <button class="btn btn-delete" id="confirmDeleteBtn">삭제</button>
        </div>
    </div>
</div>
</div>

<script>
let calendarVisible = false;
let currentMonth = 7; // 7월
let currentYear = 2025;
let goalIdCounter = 4; // 다음 목표 ID
let mealIdCounter = 2; // 다음 식단 ID

// 캘린더/달성률 토글 기능
function toggleCalendar() {
    const calendarContainer = document.getElementById('calendarContainer');
    const achievementContainer = document.getElementById('achievementContainer');
    
    calendarVisible = !calendarVisible;
    
    if (calendarVisible) {
        calendarContainer.classList.remove('hidden');
        achievementContainer.classList.add('hidden');
    } else {
        calendarContainer.classList.add('hidden');
        achievementContainer.classList.remove('hidden');
        
        // 프로그레스 바 애니메이션
        setTimeout(() => {
            const progressFill = document.querySelector('.progress-fill');
            if (progressFill) {
                progressFill.style.width = '0%';
                setTimeout(() => {
                    progressFill.style.width = '87%';
                }, 100);
            }
        }, 100);
    }
}

// 월 변경 기능
function changeMonth(direction) {
    currentMonth += direction;
    
    if (currentMonth > 12) {
        currentMonth = 1;
        currentYear++;
    } else if (currentMonth < 1) {
        currentMonth = 12;
        currentYear--;
    }
    
    updateCalendar();
}

// 캘린더 업데이트
function updateCalendar() {
    const monthNames = ['', '1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월'];
    const dayNames = ['일', '월', '화', '수', '목', '금', '토'];
    
    // 날짜 헤더 업데이트
    const today = new Date();
    const currentDate = new Date(currentYear, currentMonth - 1, today.getDate());
    const dayOfWeek = dayNames[currentDate.getDay()];
    
    document.querySelector('.calendar-date').textContent = 
        `${currentYear}.${String(currentMonth).padStart(2, '0')}.${String(today.getDate()).padStart(2, '0')}.${dayOfWeek}`;
    
    console.log(`캘린더 업데이트: ${currentYear}년 ${monthNames[currentMonth]}`);
}

// 식사 시간 선택
function selectMealTime(time) {
    document.querySelectorAll('.meal-tab').forEach(tab => {
        tab.classList.remove('active');
    });
    event.target.classList.add('active');
    
    // 선택된 시간대의 식단 표시
    updateMealRecords(time);
}

// 식단 기록 업데이트
function updateMealRecords(time) {
    const mealData = {
        breakfast: {
            records: [
                {
                    id: 1,
                    title: '아침 식사',
                    items: '현미밥 1공기, 된장찌개, 계란후라이 2개, 김치',
                    calories: 380,
                    time: '오전 8:30'
                }
            ]
        },
        lunch: {
            records: [
                {
                    id: 2,
                    title: '점심 식사',
                    items: '제육볶음 정식, 된장찌개, 상추쌈',
                    calories: 650,
                    time: '오후 12:30'
                }
            ]
        },
        dinner: {
            records: []
        },
        snack: {
            records: [
                {
                    id: 3,
                    title: '오후 간식',
                    items: '아메리카노, 초코칩 쿠키 2개',
                    calories: 180,
                    time: '오후 3:00'
                }
            ]
        }
    };
    
    const records = mealData[time].records;
    const recordsContainer = document.getElementById('meal-records');
    
    let html = '';
    if (records.length > 0) {
        records.forEach(record => {
            html += `
                <div class="meal-record" data-meal-id="${record.id}">
                    <button class="meal-delete-btn" onclick="confirmDeleteMeal(${record.id}, '${record.title}')">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
                        </svg>
                    </button>
                    <div class="meal-header">
                        <span class="meal-title">${record.title}</span>
                        <span class="meal-calories">${record.calories} kcal</span>
                    </div>
                    <div class="meal-items">${record.items}</div>
                    <div class="meal-time">${record.time}</div>
                </div>
            `;
        });
    }
    
    html += `<button class="add-meal-btn" onclick="openMealModal()">+ 식단 추가하기</button>`;
    recordsContainer.innerHTML = html;
}

// 목표 삭제 확인
function confirmDeleteGoal(goalId, goalName) {
    const modal = document.getElementById('confirmModal');
    const title = document.getElementById('confirmTitle');
    const message = document.getElementById('confirmMessage');
    const confirmBtn = document.getElementById('confirmDeleteBtn');
    
    title.textContent = '목표를 삭제하시겠어요?';
    message.innerHTML = `<strong>"${goalName}"</strong><br>삭제된 목표는 복구할 수 없습니다.`;
    
    confirmBtn.onclick = () => deleteGoal(goalId);
    modal.classList.add('show');
}

// 목표 삭제 실행
function deleteGoal(goalId) {
    const goalElement = document.querySelector(`[data-goal-id="${goalId}"]`);
    
    if (goalElement) {
        // 삭제 애니메이션 적용
        goalElement.classList.add('deleting');
        
        // 애니메이션 완료 후 요소 제거
        setTimeout(() => {
            goalElement.remove();
            showSuccessMessage('목표가 삭제되었습니다');
        }, 300);
    }
    
    closeConfirmModal();
}

// 식단 삭제 확인
function confirmDeleteMeal(mealId, mealTitle) {
    const modal = document.getElementById('confirmModal');
    const title = document.getElementById('confirmTitle');
    const message = document.getElementById('confirmMessage');
    const confirmBtn = document.getElementById('confirmDeleteBtn');
    
    title.textContent = '식단을 삭제하시겠어요?';
    message.innerHTML = `<strong>"${mealTitle}"</strong><br>삭제된 기록은 복구할 수 없습니다.`;
    
    confirmBtn.onclick = () => deleteMeal(mealId);
    modal.classList.add('show');
}

// 식단 삭제 실행
function deleteMeal(mealId) {
    const mealElement = document.querySelector(`[data-meal-id="${mealId}"]`);
    
    if (mealElement) {
        // 삭제 애니메이션 적용
        mealElement.classList.add('deleting');
        
        // 애니메이션 완료 후 요소 제거
        setTimeout(() => {
            mealElement.remove();
            showSuccessMessage('식단 기록이 삭제되었습니다');
            
            // 영양 정보 업데이트 (실제 앱에서는 계산 로직 필요)
            updateNutritionSummary();
        }, 300);
    }
    
    closeConfirmModal();
}

// 영양 정보 업데이트 (예시)
function updateNutritionSummary() {
    // 실제 앱에서는 남은 식단들의 칼로리를 계산해서 업데이트
    const nutritionCards = document.querySelectorAll('.nutrition-value');
    
    // 예시: 칼로리 감소
    if (nutritionCards[0]) {
        nutritionCards[0].textContent = '1,140'; // 380 칼로리 감소
    }
}

// 성공 메시지 표시
function showSuccessMessage(message) {
    // 간단한 토스트 메시지 (실제 앱에서는 더 예쁜 디자인 적용)
    const toast = document.createElement('div');
    toast.style.cssText = `
        position: fixed;
        top: 100px;
        left: 50%;
        transform: translateX(-50%);
        background: #4CAF50;
        color: white;
        padding: 12px 24px;
        border-radius: 25px;
        z-index: 10000;
        font-size: 14px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        animation: slideDown 0.3s ease;
    `;
    toast.textContent = message;
    
    document.body.appendChild(toast);
    
    // 3초 후 제거
    setTimeout(() => {
        toast.style.opacity = '0';
        toast.style.transform = 'translateX(-50%) translateY(-20px)';
        setTimeout(() => toast.remove(), 300);
    }, 3000);
}

// 확인 모달 닫기
function closeConfirmModal() {
    document.getElementById('confirmModal').classList.remove('show');
}

// 목표 모달 열기/닫기
function openGoalModal() {
    const modal = document.getElementById('goalModal');
    if (modal) {
        modal.classList.add('show');
        // 폼 초기화
        clearGoalForm();
        // 첫 번째 입력 필드에 포커스
        setTimeout(() => {
            const nameInput = document.getElementById('goalName');
            if (nameInput) nameInput.focus();
        }, 100);
    } else {
        console.error('목표 모달을 찾을 수 없습니다.');
    }
}

function closeGoalModal() {
    const modal = document.getElementById('goalModal');
    if (modal) {
        modal.classList.remove('show');
        clearGoalForm();
    }
}

// 목표 폼 초기화
function clearGoalForm() {
    const elements = {
        goalName: document.getElementById('goalName'),
        goalType: document.getElementById('goalType'),
        goalTarget: document.getElementById('goalTarget'),
        goalUnit: document.getElementById('goalUnit')
    };
    
    // 각 요소가 존재하는지 확인 후 초기화
    if (elements.goalName) elements.goalName.value = '';
    if (elements.goalType) elements.goalType.value = 'daily';
    if (elements.goalTarget) elements.goalTarget.value = '';
    if (elements.goalUnit) elements.goalUnit.value = '';
    
    // 에러 스타일 제거 (있는 경우)
    Object.values(elements).forEach(element => {
        if (element) {
            element.classList.remove('error');
            element.style.borderColor = '';
        }
    });
}

// 식단 모달 열기/닫기
function openMealModal() {
    document.getElementById('mealModal').classList.add('show');
}

function closeMealModal() {
    document.getElementById('mealModal').classList.remove('show');
    clearMealForm();
}

// 식단 폼 초기화
function clearMealForm() {
    document.getElementById('mealTime').value = 'breakfast';
    document.getElementById('mealMenu').value = '';
    document.getElementById('mealCalories').value = '';
    document.getElementById('mealNote').value = '';
}

// 목표 저장
function saveGoal() {
    const name = document.getElementById('goalName').value.trim();
    const type = document.getElementById('goalType').value;
    const target = document.getElementById('goalTarget').value.trim();
    const unit = document.getElementById('goalUnit').value.trim();
    
    if (!name || !target || !unit) {
        alert('모든 필드를 입력해주세요.');
        return;
    }
    
    // 목표 유형에 따른 진행률 텍스트 생성
    const typeLabels = {
        'daily': '오늘',
        'weekly': '이번 주',
        'monthly': '이번 달'
    };
    
    // 랜덤 색상 선택 (다양성을 위해)
    const colors = ['#EC9787', '#4CAF50', '#2196F3', '#FF9800', '#9C27B0', '#FF5722'];
    const randomColor = colors[Math.floor(Math.random() * colors.length)];
    
    // 새 목표 HTML 생성
    const newGoalHtml = `
        <div class="goal-item" data-goal-id="${goalIdCounter}" style="animation: slideInFromRight 0.3s ease;">
            <div class="goal-info">
                <div class="goal-title">${name}</div>
                <div class="goal-progress">${typeLabels[type]}: 0 / ${target}${unit}</div>
            </div>
            <div class="goal-actions">
                <div class="goal-status">
                    <div class="progress-ring">
                        <svg width="50" height="50">
                            <circle cx="25" cy="25" r="20" fill="none" stroke="#e0e0e0" stroke-width="5"/>
                            <circle cx="25" cy="25" r="20" fill="none" stroke="${randomColor}" stroke-width="5" 
                                    stroke-dasharray="125.6" stroke-dashoffset="125.6"/>
                        </svg>
                        <div class="progress-text" style="color: ${randomColor}">0%</div>
                    </div>
                </div>
                <button class="delete-btn" onclick="confirmDeleteGoal(${goalIdCounter}, '${name}')">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
                    </svg>
                </button>
            </div>
        </div>
    `;
    
    // 목표 컨테이너 찾기
    const goalsContainer = document.getElementById('goals-container');
    const addButton = document.querySelector('.add-goal-btn');
    
    // 새 목표를 추가 버튼 바로 앞에 삽입
    if (addButton) {
        addButton.insertAdjacentHTML('beforebegin', newGoalHtml);
    } else {
        // 추가 버튼이 없는 경우 컨테이너 끝에 추가
        goalsContainer.insertAdjacentHTML('beforeend', newGoalHtml);
    }
    
    // 애니메이션 클래스 제거 (한 번만 실행되도록)
    setTimeout(() => {
        const newGoal = document.querySelector(`[data-goal-id="${goalIdCounter}"]`);
        if (newGoal) {
            newGoal.style.animation = '';
        }
    }, 300);
    
    goalIdCounter++;
    
    showSuccessMessage(`새로운 목표 "${name}"가 추가되었습니다!`);
    closeGoalModal();
    
    // 목표 개수 업데이트 (디버깅용)
    console.log(`현재 목표 개수: ${document.querySelectorAll('.goal-item').length}`);
}

// 식단 저장
function saveMeal() {
    const time = document.getElementById('mealTime').value;
    const menu = document.getElementById('mealMenu').value.trim();
    const calories = document.getElementById('mealCalories').value.trim();
    const note = document.getElementById('mealNote').value.trim();
    
    if (!menu || !calories) {
        alert('메뉴와 칼로리를 입력해주세요.');
        return;
    }
    
    const timeLabels = {
        'breakfast': '아침 식사',
        'lunch': '점심 식사',
        'dinner': '저녁 식사',
        'snack': '간식'
    };
    
    const now = new Date();
    const timeString = now.toLocaleTimeString('ko-KR', { 
        hour: '2-digit', 
        minute: '2-digit',
        hour12: true 
    });
    
    // 새 식단 HTML 생성
    const newMealHtml = `
        <div class="meal-record" data-meal-id="${mealIdCounter}">
            <button class="meal-delete-btn" onclick="confirmDeleteMeal(${mealIdCounter}, '${timeLabels[time]}')">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
                </svg>
            </button>
            <div class="meal-header">
                <span class="meal-title">${timeLabels[time]}</span>
                <span class="meal-calories">${calories} kcal</span>
            </div>
            <div class="meal-items">${menu}</div>
            <div class="meal-time">${timeString}</div>
        </div>
    `;
    
    // 현재 선택된 식사 시간의 기록 컨테이너에 추가
    const recordsContainer = document.getElementById('meal-records');
    const addButton = recordsContainer.querySelector('.add-meal-btn');
    addButton.insertAdjacentHTML('beforebegin', newMealHtml);
    
    mealIdCounter++;
    
    showSuccessMessage('식단이 기록되었습니다!');
    closeMealModal();
    
    // 영양 정보 업데이트
    updateNutritionAfterAdd(parseInt(calories));
}

// 식단 추가 후 영양 정보 업데이트
function updateNutritionAfterAdd(addedCalories) {
    const calorieElement = document.querySelector('.nutrition-value');
    if (calorieElement) {
        const currentCalories = parseInt(calorieElement.textContent.replace(',', ''));
        const newCalories = currentCalories + addedCalories;
        calorieElement.textContent = newCalories.toLocaleString();
    }
}

// 네비게이션
function navigateTo(page) {
    // 실제 앱에서는 페이지 라우팅 처리
    switch(page) {
        case 'home':
            window.location.href = 'main.html';
            break;
        case 'health':
            // 현재 페이지
            break;
        case 'chatbot':
            showSuccessMessage('챗봇 페이지로 이동합니다');
            break;
        default:
            showSuccessMessage(`${page} 페이지로 이동합니다`);
    }
}

// 뒤로가기
function goBack() {
    window.history.back();
}

// 모달 외부 클릭시 닫기
document.addEventListener('click', function(event) {
    const modals = document.querySelectorAll('.modal');
    modals.forEach(modal => {
        if (event.target === modal) {
            modal.classList.remove('show');
            if (modal.id === 'goalModal') clearGoalForm();
            if (modal.id === 'mealModal') clearMealForm();
        }
    });
});

// 페이지 로드 시 초기화
document.addEventListener('DOMContentLoaded', function() {
    // 달성률이 기본으로 표시되도록 설정
    document.getElementById('calendarContainer').classList.add('hidden');
    document.getElementById('achievementContainer').classList.remove('hidden');
    
    // 프로그레스 바 애니메이션
    setTimeout(() => {
        const progressFill = document.querySelector('.progress-fill');
        if (progressFill) {
            progressFill.style.width = '0%';
            setTimeout(() => {
                progressFill.style.width = '87%';
            }, 100);
        }
    }, 100);
});
</script>
</body>
</html>