<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Í∞úÏù∏ ÎßûÏ∂§Ìòï ÏòÅÏñëÏ†ú Ï∂îÏ≤ú Ï±óÎ¥á</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: #F2E9E0; /* Î≥ÄÍ≤ΩÎêú Î∞∞Í≤ΩÏÉâ */
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .app-container {
            width: 375px;
            height: 812px;
            background: white;
            border-radius: 25px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            overflow: hidden;
            position: relative;
        }

        .screen {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            transition: all 0.5s ease;
        }

        .screen.active {
            opacity: 1;
            transform: translateX(0);
            z-index: 2;
        }

        .screen.inactive {
            opacity: 0;
            transform: translateX(-100%);
            z-index: 1;
        }

        /* Intro Screen */
        .intro-screen {
            background: #F2E9E0; /* Î≥ÄÍ≤ΩÎêú Î∞∞Í≤ΩÏÉâ */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 40px;
            position: relative;
        }

        .intro-screen::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400"><circle cx="100" cy="100" r="30" fill="rgba(255,255,255,0.1)"/><circle cx="300" cy="150" r="20" fill="rgba(255,255,255,0.1)"/><circle cx="200" cy="300" r="25" fill="rgba(255,255,255,0.1)"/></svg>');
        }

        .pill-icon {
            width: 120px;
            height: 60px;
            background: linear-gradient(45deg, #EC9787 0%, rgb(236, 151, 135) 100%);
            border-radius: 30px;
            margin-bottom: 30px;
            position: relative;
            box-shadow: 0 10px 30px rgba(236, 151, 135, 0.4);
            z-index: 1;
        }

        .pill-icon::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            width: 2px;
            height: 100%;
            background: rgba(255,255,255,0.3);
        }

        .intro-title {
            font-size: 28px;
            font-weight: bold;
            color: #3d2914;
            text-align: center;
            margin-bottom: 15px;
            text-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 1;
        }

        .intro-subtitle {
            font-size: 16px;
            color: #3d2914;
            text-align: center;
            margin-bottom: 50px;
            line-height: 1.5;
            z-index: 1;
        }

        .start-button {
            background: white;
            color: #A68B6B; /* Î≤ÑÌäº ÏÉâÏÉÅÏùÑ ÏÉà Î∞∞Í≤ΩÍ≥º Ï°∞ÌôîÎ°≠Í≤å Ï°∞Ï†ï */
            border: none;
            padding: 18px 50px;
            border-radius: 25px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            z-index: 1;
        }

        .start-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.3);
        }

        .start-button:active {
            transform: translateY(0);
        }

        /* Login Screen */
        .login-screen {
            background: white;
            display: flex;
            flex-direction: column;
            padding: 60px 40px 40px;
        }

        .login-header {
            text-align: center;
            margin-bottom: 50px;
        }

        .app-logo {
            width: 80px;
            height: 40px;
            background: #EC9787 ; /* Î≥ÄÍ≤ΩÎêú Î∞∞Í≤ΩÏÉâ */
            border-radius: 20px;
            margin: 0 auto 20px;
            position: relative;
        }

        .app-logo::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            width: 2px;
            height: 100%;
            background: rgba(255,255,255,0.3);
        }

        .login-title {
            font-size: 24px;
            color: #333;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .login-subtitle {
            font-size: 14px;
            color: #666;
        }

        .login-form {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-label {
            display: block;
            font-size: 14px;
            color: #333;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .input-field {
            width: 100%;
            padding: 16px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: #fafafa;
        }

        .input-field:focus {
            outline: none;
            border-color: #D4C3B1; /* ÏÉà Î∞∞Í≤ΩÏÉâÍ≥º Ï°∞ÌôîÎ°úÏö¥ Ìè¨Ïª§Ïä§ ÏÉâÏÉÅ */
            background: white;
            box-shadow: 0 0 0 3px rgba(212, 195, 177, 0.1);
        }

        .login-button {
            background: #F2E9E0; /* Î≥ÄÍ≤ΩÎêú Î∞∞Í≤ΩÏÉâ */
            color: #5D4E37; /* Îçî ÏßÑÌïú Í∞àÏÉâÏúºÎ°ú Í∞ÄÎèÖÏÑ± Ìñ•ÏÉÅ */
            border: none;
            padding: 18px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
        }

        .login-button:hover {
            transform: translateY(-1px);
            box-shadow: 0 10px 25px rgba(212, 195, 177, 0.4);
            background: #E8DDD1; /* Ìò∏Î≤Ñ Ïãú Ï°∞Í∏à Îçî ÏßÑÌïú ÏÉâÏÉÅ */
        }

        .bottom-section {
            margin-top: auto;
            padding-top: 30px;
        }

        .signup-link {
            text-align: center;
            margin-bottom: 20px;
        }

        .signup-link a {
            color: #5D4E37;
            text-decoration: none;
            font-weight: 500;
        }

        .guest-access {
            background: #f5f5f5;
            border: 2px solid #e0e0e0;
            color: #666;
            padding: 16px;
            border-radius: 12px;
            text-align: center;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .guest-access:hover {
            background: #eeeeee;
            border-color: #ccc;
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal-overlay.show {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: white;
            width: 300px;
            padding: 30px 25px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            transform: translateY(30px) scale(0.9);
            transition: all 0.3s ease;
        }

        .modal-overlay.show .modal-content {
            transform: translateY(0) scale(1);
        }

        .modal-icon {
            width: 60px;
            height: 60px;
            background: #F2E9E0; /* Î≥ÄÍ≤ΩÎêú Î∞∞Í≤ΩÏÉâ */
            border-radius: 50%;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
        }

        .modal-title {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin-bottom: 15px;
            line-height: 1.4;
        }

        .modal-message {
            font-size: 14px;
            color: #666;
            margin-bottom: 25px;
            line-height: 1.5;
        }

        .modal-buttons {
            display: flex;
            gap: 10px;
        }

        .modal-button {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .modal-button.primary {
            background: #F2E9E0; /* Î≥ÄÍ≤ΩÎêú Î∞∞Í≤ΩÏÉâ */
            color: #5D4E37;
        }

        .modal-button.primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 5px 15px rgba(212, 195, 177, 0.4);
            background: #E8DDD1;
        }

        .modal-button.secondary {
            background: #f5f5f5;
            color: #666;
            border: 1px solid #e0e0e0;
        }

        .modal-button.secondary:hover {
            background: #eeeeee;
        }

        /* Signup Screen */
        .signup-screen {
            background: white;
            display: flex;
            flex-direction: column;
            padding: 60px 40px 40px;
        }

        .signup-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .signup-title {
            font-size: 24px;
            color: #333;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .signup-subtitle {
            font-size: 14px;
            color: #666;
        }

        .signup-form {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .input-row {
            display: flex;
            gap: 10px;
            align-items: end;
        }

        .input-row .input-group {
            flex: 1;
        }

        .action-button {
            padding: 16px 20px;
            border: 2px solid #D4C3B1; /* ÏÉà Î∞∞Í≤ΩÏÉâÍ≥º Ï°∞ÌôîÎ°úÏö¥ ÏÉâÏÉÅ */
            background: white;
            color: #A68B6B;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            height: fit-content;
        }

        .action-button:hover {
            background: #D4C3B1;
            color: white;
        }

        .action-button.success {
            border-color: #28a745;
            color: #28a745;
        }

        .action-button.success:hover {
            background: #28a745;
            color: white;
        }

        .recommend-button {
            background: #F2E9E0; /* Î≥ÄÍ≤ΩÎêú Î∞∞Í≤ΩÏÉâ */
            border: none;
            color: #5D4E37;
        }

        .recommend-button:hover {
            background: #E8DDD1;
        }

        .form-navigation {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .nav-button {
            flex: 1;
            padding: 16px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nav-button.back {
            background: #f5f5f5;
            color: #666;
            border: 2px solid #e0e0e0;
        }

        .nav-button.back:hover {
            background: #eeeeee;
        }

        .nav-button.create {
            background: #F2E9E0; /* Î≥ÄÍ≤ΩÎêú Î∞∞Í≤ΩÏÉâ */
            color: #5D4E37;
        }

        .nav-button.create:hover {
            transform: translateY(-1px);
            box-shadow: 0 10px 25px rgba(212, 195, 177, 0.4);
            background: #E8DDD1;
        }

        .nav-button.create:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .required-notice {
            text-align: center;
            margin-top: 20px;
            font-size: 12px;
            color: #999;
        }

        .validation-message {
            font-size: 12px;
            margin-top: 5px;
            padding: 5px 0;
        }

        .validation-message.success {
            color: #28a745;
        }

        .validation-message.error {
            color: #dc3545;
        }

        .nickname-suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 2px solid #e0e0e0;
            border-top: none;
            border-radius: 0 0 8px 8px;
            max-height: 150px;
            overflow-y: auto;
            z-index: 10;
            display: none;
        }

        .suggestion-item {
            padding: 10px 15px;
            cursor: pointer;
            transition: background 0.2s ease;
            border-bottom: 1px solid #f0f0f0;
        }

        .suggestion-item:hover {
            background: #f8f9fa;
        }

        .suggestion-item:last-child {
            border-bottom: none;
        }

        /* Personal Info Screen Styles */
        .personal-info-screen {
            background: white;
            display: flex;
            flex-direction: column;
            padding: 60px 40px 40px;
            overflow-y: auto;
        }

        .personal-info-screen .signup-form {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .personal-info-content {
            flex: 1;
            padding-bottom: 20px;
        }

        .personal-info-screen::-webkit-scrollbar {
            width: 6px;
        }

        .personal-info-screen::-webkit-scrollbar-track {
            background: #f0f0f0;
            border-radius: 3px;
        }

        .personal-info-screen::-webkit-scrollbar-thumb {
            background: #D4C3B1; /* Î≥ÄÍ≤ΩÎêú ÏÉâÏÉÅ */
            border-radius: 3px;
            transition: background 0.3s ease;
        }

        .personal-info-screen::-webkit-scrollbar-thumb:hover {
            background: #C4B19F;
        }

        .important-notice {
            background: linear-gradient(135deg, #fff3cd, #ffeaa7);
            border: 2px solid #f39c12;
            border-radius: 12px;
            padding: 15px 20px;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 12px;
            width: 100%;
        }

        .notice-icon {
            font-size: 20px;
            flex-shrink: 0;
        }

        .notice-text {
            font-size: 14px;
            color: #856404;
            font-weight: 500;
            margin: 0;
            line-height: 1.4;
            flex: 1;
        }

        .radio-group {
            display: flex;
            gap: 15px;
            margin-top: 8px;
        }

        .radio-option {
            display: flex;
            align-items: center;
            cursor: pointer;
            padding: 12px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            background: #fafafa;
            transition: all 0.3s ease;
            flex: 1;
            justify-content: center;
        }

        .radio-option:hover {
            border-color: #D4C3B1; /* Î≥ÄÍ≤ΩÎêú ÏÉâÏÉÅ */
            background: rgba(212, 195, 177, 0.05);
        }

        .radio-option input[type="radio"] {
            margin: 0;
            margin-right: 8px;
            accent-color: #D4C3B1; /* Î≥ÄÍ≤ΩÎêú ÏÉâÏÉÅ */
        }

        .radio-option input[type="radio"]:checked + .radio-label {
            color: #A68B6B;
            font-weight: 600;
        }

        .radio-option:has(input[type="radio"]:checked) {
            border-color: #D4C3B1;
            background: rgba(212, 195, 177, 0.1);
        }

        .radio-label {
            font-size: 16px;
            color: #333;
            transition: all 0.3s ease;
        }

        /* Child/Parent Info Styles */
        .person-info-item {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
            position: relative;
        }

        .person-info-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .person-info-title {
            font-size: 16px;
            font-weight: 600;
            color: #333;
        }

        .remove-person-btn {
            background: #dc3545;
            color: white;
            border: none;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            font-size: 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .remove-person-btn:hover {
            background: #c82333;
            transform: scale(1.1);
        }

        .person-info-fields {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .person-info-fields .input-group {
            margin-bottom: 0;
        }

        .person-info-fields .input-field {
            padding: 12px;
            font-size: 14px;
        }

        .person-info-fields .input-label {
            font-size: 12px;
            margin-bottom: 5px;
        }

        .add-button {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            border: none;
            padding: 10px 16px;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 6px;
            margin-top: 10px;
            white-space: nowrap;
        }

        .add-button:hover {
            background: linear-gradient(135deg, #218838, #1ba085);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3);
        }

        .add-button::before {
            content: '+';
            font-size: 14px;
            font-weight: bold;
        }

        /* Medical Professional Screen Styles */
        .medical-professional-screen {
            background: white;
            display: flex;
            flex-direction: column;
            padding: 60px 40px 40px;
            overflow-y: auto;
        }

        .medical-professional-screen .signup-form {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .medical-professional-content {
            flex: 1;
            padding-bottom: 20px;
        }

        .medical-professional-screen::-webkit-scrollbar {
            width: 6px;
        }

        .medical-professional-screen::-webkit-scrollbar-track {
            background: #f0f0f0;
            border-radius: 3px;
        }

        .medical-professional-screen::-webkit-scrollbar-thumb {
            background: #D4C3B1;
            border-radius: 3px;
            transition: background 0.3s ease;
        }

        .medical-professional-screen::-webkit-scrollbar-thumb:hover {
            background: #C4B19F;
        }

        .medical-info-section {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .medical-info-title {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .medical-info-title::before {
            content: 'üè•';
            font-size: 18px;
        }

        .professional-type-accordion {
            margin-top: 15px;
        }

        .accordion-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px 18px;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: none;
        }

        .accordion-header:hover {
            border-color: #D4C3B1;
            background: linear-gradient(135deg, #f0f8f0, #e8f5e8);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(212, 195, 177, 0.2);
        }

        .accordion-header.active {
            border-color: #D4C3B1;
            background: linear-gradient(135deg, #e8f5e8, #d4edda);
            box-shadow: 0 2px 8px rgba(212, 195, 177, 0.3);
        }

        .accordion-title {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .accordion-title::before {
            content: 'üë®‚Äç‚öïÔ∏è';
            font-size: 18px;
        }

        .accordion-arrow {
            font-size: 14px;
            font-weight: bold;
            color: #666;
            transition: transform 0.3s ease;
        }

        .accordion-arrow.rotated {
            transform: rotate(180deg);
        }

        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: all 0.4s ease;
            background: white;
            border: 0px solid #e0e0e0;
            border-top: none;
            border-radius: 0 0 12px 12px;
        }

        .accordion-content.expanded {
            max-height: 400px;
            border-width: 2px;
            border-color: #D4C3B1;
            padding: 20px 18px;
            margin-top: -2px;
        }

        .professional-type-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .checkbox-option {
            display: flex;
            align-items: center;
            cursor: pointer;
            padding: 14px 16px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            background: #fafafa;
            transition: all 0.3s ease;
            gap: 10px;
            position: relative;
            overflow: hidden;
        }

        .checkbox-option::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 100%;
            background: linear-gradient(90deg, rgba(212, 195, 177, 0.1), rgba(212, 195, 177, 0.05));
            transition: width 0.3s ease;
        }

        .checkbox-option:hover {
            border-color: #D4C3B1;
            background: #f8f9fa;
            transform: translateY(-1px);
            box-shadow: 0 3px 8px rgba(212, 195, 177, 0.2);
        }

        .checkbox-option:hover::before {
            width: 100%;
        }

        .checkbox-option input[type="checkbox"] {
            margin: 0;
            accent-color: #D4C3B1;
            transform: scale(1.2);
            flex-shrink: 0;
            position: relative;
            z-index: 1;
        }

        .checkbox-option input[type="checkbox"]:checked + .checkbox-label {
            color: #A68B6B;
            font-weight: 600;
        }

        .checkbox-option:has(input[type="checkbox"]:checked) {
            border-color: #D4C3B1;
            background: rgba(212, 195, 177, 0.15);
            box-shadow: 0 0 0 1px rgba(212, 195, 177, 0.3);
        }

        .checkbox-option:has(input[type="checkbox"]:checked)::before {
            width: 100%;
            background: linear-gradient(90deg, rgba(212, 195, 177, 0.2), rgba(212, 195, 177, 0.1));
        }

        .checkbox-label {
            font-size: 14px;
            color: #333;
            transition: all 0.3s ease;
            line-height: 1.3;
            flex: 1;
            position: relative;
            z-index: 1;
            font-weight: 500;
        }

        .selected-count {
            margin-top: 12px;
            padding: 8px 12px;
            background: rgba(40, 167, 69, 0.1);
            border-radius: 8px;
            font-size: 13px;
            color: #155724;
            font-weight: 500;
            text-align: center;
        }

        /* License Upload Section */
        .license-upload-section {
            background: linear-gradient(135deg, #e8f5e8, #f0f8f0);
            border: 2px dashed #28a745;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            cursor: pointer;
            margin: 20px 0;
            transition: all 0.3s ease;
        }

        .license-upload-section:hover {
            border-color: #20c997;
            background: linear-gradient(135deg, #d4edda, #e8f5e8);
            transform: scale(1.02);
        }

        .license-upload-section.dragover {
            border-color: #20c997;
            background: linear-gradient(135deg, #d1ecf1, #d4edda);
            transform: scale(1.05);
        }

        .license-upload-icon {
            font-size: 48px;
            margin-bottom: 15px;
            color: #28a745;
        }

        .license-upload-text {
            font-size: 16px;
            color: #155724;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .license-upload-subtext {
            font-size: 13px;
            color: #6c757d;
            margin-bottom: 15px;
            line-height: 1.4;
        }

        .license-file-input {
            display: none;
        }

        .license-upload-btn {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .license-upload-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(40, 167, 69, 0.4);
        }

        .license-preview-container {
            margin-top: 20px;
        }

        .license-preview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 12px;
            margin-top: 15px;
        }

        .license-preview-item {
            position: relative;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 3px 6px rgba(0,0,0,0.1);
            background: white;
        }

        .license-preview-image {
            width: 100%;
            height: 100px;
            object-fit: cover;
        }

        .license-remove-btn {
            position: absolute;
            top: 4px;
            right: 4px;
            background: rgba(220, 53, 69, 0.9);
            color: white;
            border: none;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            cursor: pointer;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .license-remove-btn:hover {
            background: rgba(220, 53, 69, 1);
            transform: scale(1.1);
        }

        .license-file-count {
            margin-top: 12px;
            padding: 8px 12px;
            background-color: rgba(40, 167, 69, 0.1);
            border-radius: 6px;
            text-align: center;
            color: #155724;
            font-weight: 500;
            font-size: 13px;
        }

        .verification-notice {
            background: linear-gradient(135deg, #cce5ff, #e6f3ff);
            border: 2px solid #007bff;
            border-radius: 12px;
            padding: 15px 18px;
            margin-top: 20px;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }

        .verification-notice-icon {
            font-size: 16px;
            flex-shrink: 0;
            margin-top: 1px;
        }

        .verification-notice-text {
            font-size: 13px;
            color: #004085;
            font-weight: 500;
            line-height: 1.4;
            flex: 1;
        }

        .custom-concern {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 15px;
            margin-top: 10px;
        }

        .custom-concerns-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }

        .custom-concern-tag {
            background: #D4C3B1; /* Î≥ÄÍ≤ΩÎêú ÏÉâÏÉÅ */
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .remove-concern {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 14px;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .remove-concern:hover {
            background: rgba(255, 255, 255, 0.5);
        }

        .tone-examples {
            background: rgba(212, 195, 177, 0.1); /* Î≥ÄÍ≤ΩÎêú ÏÉâÏÉÅ */
            border-radius: 8px;
            padding: 10px 12px;
            margin-top: 8px;
        }

        .health-concerns-screen {
            background: white;
            display: flex;
            flex-direction: column;
            padding: 60px 40px 40px;
            height: 100%;
        }

        .concerns-container {
            flex: 1;
            overflow-y: auto;
            margin-bottom: 20px;
            max-height: calc(100vh - 350px);
            padding-right: 8px;
            scrollbar-width: thin;
            scrollbar-color: #D4C3B1 #f0f0f0; /* Î≥ÄÍ≤ΩÎêú ÏÉâÏÉÅ */
        }

        .concerns-container::-webkit-scrollbar {
            width: 6px;
        }

        .concerns-container::-webkit-scrollbar-track {
            background: #f0f0f0;
            border-radius: 3px;
        }

        .concerns-container::-webkit-scrollbar-thumb {
            background: #D4C3B1; /* Î≥ÄÍ≤ΩÎêú ÏÉâÏÉÅ */
            border-radius: 3px;
            transition: background 0.3s ease;
        }

        .concerns-container::-webkit-scrollbar-thumb:hover {
            background: #C4B19F;
        }

        .scroll-indicator {
            text-align: center;
            color: #999;
            font-size: 12px;
            margin-bottom: 10px;
            animation: bounce 2s infinite;
            transition: all 0.3s ease;
            opacity: 1;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-5px);
            }
            60% {
                transform: translateY(-3px);
            }
        }

        .concern-item {
            margin-bottom: 12px;
        }

        .checkbox-option {
            display: flex;
            align-items: flex-start;
            cursor: pointer;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            background: #fafafa;
            transition: all 0.3s ease;
            gap: 12px;
        }

        .checkbox-option:hover {
            border-color: #D4C3B1; /* Î≥ÄÍ≤ΩÎêú ÏÉâÏÉÅ */
            background: rgba(212, 195, 177, 0.05);
        }

        .checkbox-option input[type="checkbox"] {
            margin: 0;
            accent-color: #D4C3B1; /* Î≥ÄÍ≤ΩÎêú ÏÉâÏÉÅ */
            transform: scale(1.2);
            flex-shrink: 0;
            margin-top: 2px;
        }

        .checkbox-option input[type="checkbox"]:checked + .checkbox-label {
            color: #A68B6B;
            font-weight: 600;
        }

        .checkbox-option:has(input[type="checkbox"]:checked) {
            border-color: #D4C3B1;
            background: rgba(212, 195, 177, 0.1);
        }

        .checkbox-label {
            font-size: 14px;
            color: #333;
            transition: all 0.3s ease;
            line-height: 1.4;
            flex: 1;
        }

        /* Í∏∞ÌÉÄ Í∏∞Ï°¥ Ïä§ÌÉÄÏùºÎì§ (chatbot settings, supplements, complete screen Îì±) */
        .chatbot-settings-screen {
            background: white;
            display: flex;
            flex-direction: column;
            padding: 60px 40px 40px;
            overflow-y: auto;
        }

        .tone-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 8px;
        }

        .tone-option {
            display: flex;
            align-items: flex-start;
            cursor: pointer;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            background: #fafafa;
            transition: all 0.3s ease;
            gap: 12px;
        }

        .tone-option:hover {
            border-color: #D4C3B1; /* Î≥ÄÍ≤ΩÎêú ÏÉâÏÉÅ */
            background: rgba(212, 195, 177, 0.05);
        }

        .tone-option input[type="radio"] {
            margin: 0;
            accent-color: #D4C3B1; /* Î≥ÄÍ≤ΩÎêú ÏÉâÏÉÅ */
            transform: scale(1.2);
            flex-shrink: 0;
            margin-top: 2px;
        }

        .tone-option input[type="radio"]:checked + .tone-label .tone-title {
            color: #A68B6B;
            font-weight: 600;
        }

        .tone-option:has(input[type="radio"]:checked) {
            border-color: #D4C3B1;
            background: rgba(212, 195, 177, 0.1);
        }

        .tone-label {
            display: flex;
            flex-direction: column;
            gap: 4px;
            flex: 1;
        }

        .tone-title {
            font-size: 16px;
            font-weight: 500;
            color: #333;
            transition: all 0.3s ease;
        }

        .tone-description {
            font-size: 13px;
            color: #666;
            line-height: 1.3;
        }

        /* Current Supplements Screen Styles */
        .current-supplements-screen {
            background: white;
            display: flex;
            flex-direction: column;
            padding: 60px 40px 40px;
            overflow-y: auto;
        }

        .supplements-checkboxes {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 15px 0;
        }

        .supplement-checkbox {
            display: flex;
            align-items: center;
            cursor: pointer;
            padding: 10px 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            background: #fafafa;
            transition: all 0.3s ease;
            gap: 8px;
        }

        .supplement-checkbox:hover {
            border-color: #D4C3B1; /* Î≥ÄÍ≤ΩÎêú ÏÉâÏÉÅ */
            background: rgba(212, 195, 177, 0.05);
        }

        .supplement-checkbox input[type="checkbox"] {
            margin: 0;
            accent-color: #D4C3B1; /* Î≥ÄÍ≤ΩÎêú ÏÉâÏÉÅ */
            transform: scale(1.1);
        }

        .supplement-checkbox input[type="checkbox"]:checked + .supplement-label {
            color: #A68B6B;
            font-weight: 600;
        }

        .supplement-checkbox:has(input[type="checkbox"]:checked) {
            border-color: #D4C3B1;
            background: rgba(212, 195, 177, 0.1);
        }

        .supplement-label {
            font-size: 14px;
            color: #333;
            transition: all 0.3s ease;
            line-height: 1.2;
        }

        .custom-supplement {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
        }

        .custom-input-container {
            display: flex;
            gap: 10px;
            align-items: end;
            margin-bottom: 15px;
        }

        .custom-input-container .input-group {
            flex: 1;
            margin-bottom: 0;
        }

        .custom-supplements-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .custom-supplement-tag {
            background: #D4C3B1; /* Î≥ÄÍ≤ΩÎêú ÏÉâÏÉÅ */
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .remove-supplement {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 14px;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .remove-supplement:hover {
            background: rgba(255, 255, 255, 0.5);
        }

        /* Signup Complete Screen Styles */
        .signup-complete-screen {
            background: #F2E9E0; /* Î≥ÄÍ≤ΩÎêú Î∞∞Í≤ΩÏÉâ */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 40px;
            position: relative;
            text-align: center;
            overflow: hidden;
        }

        .signup-complete-screen::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400"><circle cx="100" cy="100" r="30" fill="rgba(255,255,255,0.1)"/><circle cx="300" cy="150" r="20" fill="rgba(255,255,255,0.1)"/><circle cx="200" cy="300" r="25" fill="rgba(255,255,255,0.1)"/></svg>');
        }

        /* Ìè≠Ï£Ω Ïï†ÎãàÎ©îÏù¥ÏÖò */
        .fireworks-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            overflow: hidden;
        }

        .firework {
            position: absolute;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            opacity: 1;
        }

        .firework.color1 { background: #ff6b6b; box-shadow: 0 0 6px #ff6b6b; }
        .firework.color2 { background: #4ecdc4; box-shadow: 0 0 6px #4ecdc4; }
        .firework.color3 { background: #45b7d1; box-shadow: 0 0 6px #45b7d1; }
        .firework.color4 { background: #96ceb4; box-shadow: 0 0 6px #96ceb4; }
        .firework.color5 { background: #feca57; box-shadow: 0 0 6px #feca57; }
        .firework.color6 { background: #ff9ff3; box-shadow: 0 0 6px #ff9ff3; }
        .firework.color7 { background: #54a0ff; box-shadow: 0 0 6px #54a0ff; }
        .firework.color8 { background: #5f27cd; box-shadow: 0 0 6px #5f27cd; }

        .firework-explode {
            animation: fireworkExplode 1.5s ease-out forwards;
        }

        @keyframes fireworkExplode {
            0% {
                transform: translate(0, 0) scale(1);
                opacity: 1;
            }
            50% {
                opacity: 1;
            }
            100% {
                transform: translate(var(--dx), var(--dy)) scale(0.2);
                opacity: 0;
            }
        }

        .sparkle {
            position: absolute;
            width: 6px;
            height: 6px;
            background: #ffd700;
            border-radius: 50%;
            box-shadow: 0 0 8px #ffd700;
        }

        .sparkle-animate {
            animation: sparkleAnimation 2s ease-out forwards;
        }

        @keyframes sparkleAnimation {
            0% {
                transform: scale(0) rotate(0deg);
                opacity: 1;
            }
            50% {
                transform: scale(1.5) rotate(180deg);
                opacity: 1;
            }
            100% {
                transform: scale(0) rotate(360deg);
                opacity: 0;
            }
        }

        .complete-content {
            z-index: 2;
            position: relative;
        }

        .celebration-icon {
            font-size: 100px;
            margin-bottom: 20px;
            animation: celebrationBounce 1.5s ease-out;
            filter: drop-shadow(0 0 20px rgba(255, 215, 0, 0.6));
        }

        @keyframes celebrationBounce {
            0% {
                transform: scale(0) rotate(-180deg);
                opacity: 0;
            }
            50% {
                transform: scale(1.3) rotate(0deg);
                opacity: 0.8;
            }
            100% {
                transform: scale(1) rotate(0deg);
                opacity: 1;
            }
        }

        .success-icon {
            display: none; /* Í∏∞Ï°¥ ÏïÑÏù¥ÏΩò Ïà®ÍπÄ */
        }

        .complete-title {
            font-size: 32px;
            font-weight: bold;
            color: #5D4E37; /* Îçî ÏßÑÌïú Í∞àÏÉâÏúºÎ°ú Í∞ÄÎèÖÏÑ± Ìñ•ÏÉÅ */
            margin-bottom: 15px;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
            animation: titleSlideIn 1s ease-out 0.5s both;
        }

        @keyframes titleSlideIn {
            0% {
                transform: translateY(30px);
                opacity: 0;
            }
            100% {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .complete-message {
            font-size: 18px;
            color: #5D4E37; /* Îçî ÏßÑÌïú Í∞àÏÉâÏúºÎ°ú Í∞ÄÎèÖÏÑ± Ìñ•ÏÉÅ */
            margin-bottom: 30px;
            line-height: 1.6;
            animation: messageSlideIn 1s ease-out 0.8s both;
            font-weight: 500;
        }

        @keyframes messageSlideIn {
            0% {
                transform: translateY(20px);
                opacity: 0;
            }
            100% {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .complete-summary {
            background: rgba(255, 255, 255, 0.8); /* Î∞òÌà¨Î™Ö Ìù∞ÏÉâÏúºÎ°ú Í∞ÄÎèÖÏÑ± Ìñ•ÏÉÅ */
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 35px;
            backdrop-filter: blur(15px);
            border: 2px solid rgba(212, 195, 177, 0.3); /* ÏÉà Î∞∞Í≤ΩÏÉâÍ≥º Ï°∞ÌôîÎ°úÏö¥ ÌÖåÎëêÎ¶¨ */
            animation: summarySlideIn 1s ease-out 1.1s both;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        @keyframes summarySlideIn {
            0% {
                transform: translateY(30px) scale(0.9);
                opacity: 0;
            }
            100% {
                transform: translateY(0) scale(1);
                opacity: 1;
            }
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            color: #5D4E37; /* Îçî ÏßÑÌïú Í∞àÏÉâÏúºÎ°ú Í∞ÄÎèÖÏÑ± Ìñ•ÏÉÅ */
            font-size: 14px;
        }

        .summary-item:last-child {
            margin-bottom: 0;
        }

        .summary-label {
            font-weight: 500;
        }

        .summary-value {
            font-weight: 600;
            text-align: right;
        }

        .complete-button {
            background: linear-gradient(135deg, #ffffff, #f8f9fa);
            color: #A68B6B; /* ÏÉà Î∞∞Í≤ΩÏÉâÍ≥º Ï°∞ÌôîÎ°úÏö¥ ÏÉâÏÉÅ */
            border: none;
            padding: 20px 45px;
            border-radius: 30px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 12px 35px rgba(0,0,0,0.25);
            transition: all 0.3s ease;
            animation: buttonSlideIn 1s ease-out 1.4s both;
            position: relative;
            overflow: hidden;
        }

        .complete-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: left 0.5s;
        }

        .complete-button:hover::before {
            left: 100%;
        }

        @keyframes buttonSlideIn {
            0% {
                transform: translateY(20px);
                opacity: 0;
            }
            100% {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .complete-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 18px 40px rgba(0,0,0,0.35);
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
        }

        .complete-button:active {
            transform: translateY(-1px);
        }
        /* 2. CSS ÏÑπÏÖòÏóê Ïù¥ Ïä§ÌÉÄÏùºÎì§ÏùÑ Ï∂îÍ∞ÄÌïòÏÑ∏Ïöî */

.upload-section {
    border: 3px dashed #ddd;
    border-radius: 15px;
    padding: 40px;
    text-align: center;
    background-color: #fafafa;
    transition: all 0.3s ease;
    cursor: pointer;
    margin: 15px 0;
}

.upload-section:hover {
    border-color: #D4C3B1;
    background-color: #f8f9ff;
}

.upload-section.dragover {
    border-color: #D4C3B1;
    background-color: #e3f2fd;
    transform: scale(1.02);
}

.upload-icon {
    font-size: 48px;
    margin-bottom: 20px;
    color: #666;
}

.upload-text {
    font-size: 18px;
    color: #333;
    margin-bottom: 10px;
    font-weight: 500;
}

.upload-subtext {
    font-size: 14px;
    color: #666;
    margin-bottom: 20px;
    line-height: 1.4;
}

.file-input {
    display: none;
}

.upload-btn {
    background: linear-gradient(135deg, #D4C3B1 0%, #C4B19F 100%);
    color: white;
    border: none;
    padding: 12px 30px;
    border-radius: 25px;
    font-size: 16px;
    cursor: pointer;
    transition: transform 0.2s ease;
    font-weight: 500;
}

.upload-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(212, 195, 177, 0.4);
}

.preview-container {
    margin-top: 20px;
}

.preview-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: 15px;
    margin-top: 20px;
}

.preview-item {
    position: relative;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

.preview-image {
    width: 100%;
    height: 150px;
    object-fit: cover;
}

.remove-btn {
    position: absolute;
    top: 5px;
    right: 5px;
    background: rgba(255, 0, 0, 0.8);
    color: white;
    border: none;
    border-radius: 50%;
    width: 25px;
    height: 25px;
    cursor: pointer;
    font-size: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background 0.3s ease;
}

.remove-btn:hover {
    background: rgba(255, 0, 0, 1);
}

.file-count {
    margin-top: 15px;
    padding: 10px;
    background-color: rgba(212, 195, 177, 0.1);
    border-radius: 8px;
    text-align: center;
    color: #A68B6B;
    font-weight: 500;
}
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Intro Screen -->
        <div class="intro-screen screen active" id="introScreen">
            <div class="pill-icon"></div>
            <h1 class="intro-title">ÎßûÏ∂§Ìòï ÏòÅÏñëÏ†ú Ï∂îÏ≤ú</h1>
            <p class="intro-subtitle">
                Í∞úÏù∏ ÏÉùÏ≤¥ Ï†ïÎ≥¥Î•º Í∏∞Î∞òÏúºÎ°ú<br>
                ÎãπÏã†ÏóêÍ≤å ÎßûÎäî ÏòÅÏñëÏ†úÎ•º Ï∂îÏ≤úÌï¥ÎìúÎ†§Ïöî
            </p>
            <button class="start-button" id="startBtn">ÏãúÏûëÌïòÍ∏∞</button>
        </div>

        <!-- Login Screen -->
        <div class="login-screen screen inactive" id="loginScreen">
            <div class="login-header">
                <div class="app-logo"></div>
                <h2 class="login-title">Î°úÍ∑∏Ïù∏</h2>
                <p class="login-subtitle">Í±¥Í∞ïÌïú ÌïòÎ£®Î•º ÏãúÏûëÌï¥Î≥¥ÏÑ∏Ïöî</p>
            </div>

            <form class="login-form" id="loginForm">
                <div class="input-group">
                    <label class="input-label" for="userId">ÏïÑÏù¥Îîî</label>
                    <input 
                        type="text" 
                        id="userId" 
                        class="input-field" 
                        placeholder="ÏïÑÏù¥ÎîîÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"
                        required
                    >
                </div>

                <div class="input-group">
                    <label class="input-label" for="password">ÎπÑÎ∞ÄÎ≤àÌò∏</label>
                    <input 
                        type="password" 
                        id="password" 
                        class="input-field" 
                        placeholder="ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"
                        required
                    >
                </div>

                <button type="submit" class="login-button">Î°úÍ∑∏Ïù∏</button>

                <div class="bottom-section">
                    <div class="signup-link">
                        <a href="#" id="signupLink">ÌöåÏõêÍ∞ÄÏûÖ</a>
                    </div>

                    <div class="guest-access" id="guestBtn">
                        Í∑∏ÎÉ• Ïì∏ÎûòÏöî
                    </div>
                </div>
            </form>
        </div>

        <!-- Signup Screen -->
        <div class="signup-screen screen inactive" id="signupScreen">
            <div class="signup-header">
                <div class="app-logo"></div>
                <h2 class="signup-title">ÌöåÏõêÍ∞ÄÏûÖ</h2>
                <p class="signup-subtitle">Í∞úÏù∏ ÎßûÏ∂§ ÏòÅÏñëÏ†ú Ï∂îÏ≤úÏùÑ ÏúÑÌïú Ï†ïÎ≥¥Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî</p>
            </div>

            <form class="signup-form" id="signupForm">
                <!-- ÎãâÎÑ§ÏûÑ -->
                <div class="input-group" style="position: relative;">
                    <label class="input-label" for="nickname">ÎãâÎÑ§ÏûÑ *</label>
                    <div class="input-row">
                        <div class="input-group" style="margin-bottom: 0;">
                            <input 
                                type="text" 
                                id="nickname" 
                                class="input-field" 
                                placeholder="ÎãâÎÑ§ÏûÑÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"
                                required
                            >
                            <div class="nickname-suggestions" id="nicknameSuggestions"></div>
                        </div>
                        <button type="button" class="action-button recommend-button" id="recommendBtn">Ï∂îÏ≤ú</button>
                        <button type="button" class="action-button" id="checkNicknameBtn">Ï§ëÎ≥µÌôïÏù∏</button>
                    </div>
                    <div class="validation-message" id="nicknameValidation"></div>
                </div>

                <!-- Ïù¥Î¶Ñ -->
                <div class="input-group">
                    <label class="input-label" for="realName">Ïù¥Î¶Ñ *</label>
                    <input 
                        type="text" 
                        id="realName" 
                        class="input-field" 
                        placeholder="Ïã§Î™ÖÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"
                        required
                    >
                </div>

                <!-- ÏïÑÏù¥Îîî -->
                <div class="input-group">
                    <label class="input-label" for="signupUserId">ÏïÑÏù¥Îîî *</label>
                    <input 
                        type="text" 
                        id="signupUserId" 
                        class="input-field" 
                        placeholder="ÏïÑÏù¥ÎîîÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"
                        required
                    >
                    <div class="validation-message" id="userIdValidation"></div>
                </div>

                <!-- ÎπÑÎ∞ÄÎ≤àÌò∏ -->
                <div class="input-group">
                    <label class="input-label" for="signupPassword">ÎπÑÎ∞ÄÎ≤àÌò∏ *</label>
                    <input 
                        type="password" 
                        id="signupPassword" 
                        class="input-field" 
                        placeholder="ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"
                        required
                    >
                    <div class="validation-message" id="passwordValidation"></div>
                </div>

                <div class="form-navigation">
                    <button type="button" class="nav-button back" id="backBtn">Ïù¥Ï†Ñ</button>
                    <button type="submit" class="nav-button create" id="createBtn">Îã§Ïùå</button>
                </div>

                <div class="required-notice">
                    * ÌïÑÏàòÏûÖÎ†•
                </div>
            </form>
        </div>

        <!-- Personal Info Screen -->
        <div class="personal-info-screen screen inactive" id="personalInfoScreen">
            <div class="signup-header">
                <div class="app-logo"></div>
                <h2 class="signup-title">Í∞úÏù∏ Ï†ïÎ≥¥</h2>
                <div class="important-notice">
                    <span class="notice-icon">‚ö†Ô∏è</span>
                    <p class="notice-text">Ïù¥ Ï†ïÎ≥¥Î•º Í∏∞Î∞òÏúºÎ°ú ÏòÅÏñëÏ†úÎ•º Ï∂îÏ≤úÌï¥ÎìúÎ¶ΩÎãàÎã§.</p>
                </div>
            </div>

            <form class="signup-form" id="personalInfoForm">
                <div class="personal-info-content">
                    <!-- ÏÑ±Î≥Ñ -->
                    <div class="input-group">
                        <label class="input-label">ÏÑ±Î≥Ñ *</label>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="gender" value="male" required>
                                <span class="radio-label">ÎÇ®ÏÑ±</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="gender" value="female" required>
                                <span class="radio-label">Ïó¨ÏÑ±</span>
                            </label>
                        </div>
                    </div>

                    <!-- ÎÇòÏù¥ -->
                    <div class="input-group">
                        <label class="input-label" for="age">ÎÇòÏù¥ *</label>
                        <input 
                            type="number" 
                            id="age" 
                            class="input-field" 
                            placeholder="ÎÇòÏù¥Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"
                            min="1"
                            max="120"
                            required
                        >
                    </div>

                    <!-- ÏûÑÏÇ∞Î∂Ä Ïó¨Î∂Ä -->
                    <div class="input-group">
                        <label class="input-label">ÏûÑÏÇ∞Î∂Ä Ïù¥Ïã†Í∞ÄÏöî? *</label>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="pregnancy" value="yes" required id="pregnancyYes">
                                <span class="radio-label">Ïòà</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="pregnancy" value="no" required id="pregnancyNo">
                                <span class="radio-label">ÏïÑÎãàÏöî</span>
                            </label>
                        </div>
                    </div>

                    <!-- ÏûÑÏã† Ï†ïÎ≥¥ ÏûÖÎ†• (ÏûÑÏÇ∞Î∂ÄÏùº ÎïåÎßå ÌëúÏãú) -->
                    <div class="input-group" id="pregnancyInfoGroup" style="display: none;">
                        <label class="input-label">ÏûÑÏã† Ï†ïÎ≥¥</label>
                        <div class="person-info-item" style="margin-bottom: 0;">
                            <div class="person-info-header">
                                <span class="person-info-title">ÏûÑÏã† Í¥ÄÎ†® Ï†ïÎ≥¥</span>
                                <span style="font-size: 12px; color: #666;">ü§±</span>
                            </div>
                            <div class="person-info-fields">
                                <div class="input-group">
                                    <label class="input-label">Ï∂úÏÇ∞ ÏòàÏ†ïÏùº</label>
                                    <input 
                                        type="date" 
                                        name="dueDate" 
                                        id="dueDate"
                                        class="input-field"
                                        min=""
                                        max=""
                                    >
                                </div>
                                <div class="input-group">
                                    <label class="input-label">ÏûÑÏã† Ï£ºÏ∞®</label>
                                    <select name="pregnancyWeeks" id="pregnancyWeeks" class="input-field">
                                        <option value="">ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî</option>
                                        <option value="1-4">1~4Ï£º (1Í∞úÏõî)</option>
                                        <option value="5-8">5~8Ï£º (2Í∞úÏõî)</option>
                                        <option value="9-12">9~12Ï£º (3Í∞úÏõî)</option>
                                        <option value="13-16">13~16Ï£º (4Í∞úÏõî)</option>
                                        <option value="17-20">17~20Ï£º (5Í∞úÏõî)</option>
                                        <option value="21-24">21~24Ï£º (6Í∞úÏõî)</option>
                                        <option value="25-28">25~28Ï£º (7Í∞úÏõî)</option>
                                        <option value="29-32">29~32Ï£º (8Í∞úÏõî)</option>
                                        <option value="33-36">33~36Ï£º (9Í∞úÏõî)</option>
                                        <option value="37-40">37~40Ï£º (10Í∞úÏõî)</option>
                                        <option value="41+">41Ï£º Ïù¥ÏÉÅ</option>
                                    </select>
                                </div>
                                <div class="input-group">
                                    <label class="input-label">ÏûÑÏã† Í¥ÄÎ†® Ï¶ùÏÉÅ</label>
                                    <select name="pregnancySymptoms" id="pregnancySymptoms" class="input-field">
                                        <option value="">ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî</option>
                                        <option value="morning-sickness">ÏûÖÎçß</option>
                                        <option value="fatigue">ÌîºÎ°úÍ∞ê</option>
                                        <option value="heartburn">ÏÜçÏì∞Î¶º</option>
                                        <option value="constipation">Î≥ÄÎπÑ</option>
                                        <option value="back-pain">ÏöîÌÜµ</option>
                                        <option value="swelling">Î∂ÄÏ¢Ö</option>
                                        <option value="none">ÌäπÎ≥ÑÌïú Ï¶ùÏÉÅ ÏóÜÏùå</option>
                                        <option value="other">Í∏∞ÌÉÄ</option>
                                    </select>
                                </div>
                                <div class="input-group">
                                    <label class="input-label">ÌäπÏù¥ÏÇ¨Ìï≠</label>
                                    <input 
                                        type="text" 
                                        name="pregnancyNotes" 
                                        id="pregnancyNotes"
                                        class="input-field" 
                                        placeholder="Î≥µÏö© Ï§ëÏù∏ ÏòÅÏñëÏ†ú, Ï£ºÏùòÏÇ¨Ìï≠ Îì±"
                                    >
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ÏûêÎÖÄ Ïó¨Î∂Ä -->
                    <div class="input-group">
                        <label class="input-label">ÏûêÎÖÄÍ∞Ä ÏûàÏúºÏã†Í∞ÄÏöî? *</label>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="hasChildren" value="yes" required id="hasChildrenYes">
                                <span class="radio-label">ÎÑ§</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="hasChildren" value="no" required id="hasChildrenNo">
                                <span class="radio-label">ÏïÑÎãàÏò§</span>
                            </label>
                        </div>
                    </div>

                    <!-- ÏûêÎÖÄ Ï†ïÎ≥¥ ÏûÖÎ†• (ÏûêÎÖÄÍ∞Ä ÏûàÏùÑ ÎïåÎßå ÌëúÏãú) -->
                    <div class="input-group" id="childrenInfoGroup" style="display: none;">
                        <label class="input-label">ÏûêÎÖÄ Ï†ïÎ≥¥</label>
                        <div id="childrenInfoContainer">
                            <!-- ÏûêÎÖÄ Ï†ïÎ≥¥Í∞Ä Ïó¨Í∏∞Ïóê ÎèôÏ†ÅÏúºÎ°ú Ï∂îÍ∞ÄÎê©ÎãàÎã§ -->
                        </div>
                        <button type="button" class="add-button" id="addChildBtn">ÏûêÎÖÄ Ï∂îÍ∞Ä</button>
                    </div>

                    <!-- Î∂ÄÎ™®Îãò ÏòÅÏñëÏ†ú -->
                    <div class="input-group">
                        <label class="input-label">Î∂ÄÎ™®ÎãòÍªò ÎßûÏ∂∞ÏßÑ ÏòÅÏñëÏ†úÎ•º Ï∞æÏúºÏãúÎÇòÏöî? *</label>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="forParents" value="yes" required id="forParentsYes">
                                <span class="radio-label">ÎÑ§</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="forParents" value="no" required id="forParentsNo">
                                <span class="radio-label">ÏïÑÎãàÏò§</span>
                            </label>
                        </div>
                    </div>

                    <!-- Î∂ÄÎ™®Îãò Ï†ïÎ≥¥ ÏûÖÎ†• (Î∂ÄÎ™®Îãò ÏòÅÏñëÏ†úÎ•º Ï∞æÏùÑ ÎïåÎßå ÌëúÏãú) -->
                    <div class="input-group" id="parentsInfoGroup" style="display: none;">
                        <label class="input-label">Î∂ÄÎ™®Îãò Ï†ïÎ≥¥</label>
                        <div id="parentsInfoContainer">
                            <!-- Î∂ÄÎ™®Îãò Ï†ïÎ≥¥Í∞Ä Ïó¨Í∏∞Ïóê ÎèôÏ†ÅÏúºÎ°ú Ï∂îÍ∞ÄÎê©ÎãàÎã§ -->
                        </div>
                        <button type="button" class="add-button" id="addParentBtn">Î∂ÄÎ™®Îãò Ï∂îÍ∞Ä</button>
                    </div>
                </div>

                <div class="form-navigation">
                    <button type="button" class="nav-button back" id="personalInfoBackBtn">Ïù¥Ï†Ñ</button>
                    <button type="submit" class="nav-button create" id="personalInfoNextBtn">Îã§Ïùå</button>
                </div>

                <div class="required-notice">
                    * ÌïÑÏàòÏûÖÎ†•
                </div>
            </form>
        </div>

        <!-- Medical Professional Screen (NEW) -->
        <div class="medical-professional-screen screen inactive" id="medicalProfessionalScreen">
            <div class="signup-header">
                <div class="app-logo"></div>
                <h2 class="signup-title">ÏùòÎ£åÏßÑ Ï†ïÎ≥¥</h2>
                <p class="signup-subtitle">ÏùòÏïΩÍ≥ÑÏó¥ Ï¢ÖÏÇ¨ÏûêÏù¥Ïã† Í≤ΩÏö∞ Ï∂îÍ∞Ä Ï†ïÎ≥¥Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî</p>
            </div>

            <form class="signup-form" id="medicalProfessionalForm">
                <div class="medical-professional-content">
                    <!-- ÏùòÎ£åÏßÑ Ïó¨Î∂Ä -->
                    <div class="input-group">
                        <label class="input-label">ÏùòÏïΩÍ≥ÑÏó¥Ïóê Ï¢ÖÏÇ¨ÌïòÍ≥† Í≥ÑÏã†Í∞ÄÏöî? *</label>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="isMedicalProfessional" value="yes" required id="medicalProfessionalYes">
                                <span class="radio-label">ÎÑ§</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="isMedicalProfessional" value="no" required id="medicalProfessionalNo">
                                <span class="radio-label">ÏïÑÎãàÏò§</span>
                            </label>
                        </div>
                    </div>

                    <!-- ÏùòÎ£åÏßÑ ÏÉÅÏÑ∏ Ï†ïÎ≥¥ (ÏùòÎ£åÏßÑÏùº ÎïåÎßå ÌëúÏãú) -->
                    <div class="medical-info-section" id="medicalInfoSection" style="display: none;">
                        <div class="medical-info-title">Ï†ÑÎ¨∏ Î∂ÑÏïº</div>
                        
                        <div class="professional-type-accordion">
                            <div class="accordion-header" id="accordionHeader">
                                <div class="accordion-title">Ï†ÑÎ¨∏ Î∂ÑÏïº ÏÑ†ÌÉù</div>
                                <div class="accordion-arrow" id="accordionArrow">‚ñº</div>
                            </div>
                            <div class="accordion-content" id="accordionContent">
                                <div class="professional-type-grid">
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="medicalType" value="doctor">
                                        <span class="checkbox-label">ÏùòÏÇ¨</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="medicalType" value="pharmacist">
                                        <span class="checkbox-label">ÏïΩÏÇ¨</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="medicalType" value="nurse">
                                        <span class="checkbox-label">Í∞ÑÌò∏ÏÇ¨</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="medicalType" value="nutritionist">
                                        <span class="checkbox-label">ÏòÅÏñëÏÇ¨</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="medicalType" value="oriental_doctor">
                                        <span class="checkbox-label">ÌïúÏùòÏÇ¨</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="medicalType" value="dental">
                                        <span class="checkbox-label">ÏπòÍ≥ºÏùòÏÇ¨</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="medicalType" value="veterinarian">
                                        <span class="checkbox-label">ÏàòÏùòÏÇ¨</span>
                                    </label>
                                    <label class="checkbox-option">
                                        <input type="checkbox" name="medicalType" value="researcher">
                                        <span class="checkbox-label">Ïó∞Íµ¨Ïõê</span>
                                    </label>
                                </div>
                                <div class="selected-count" id="selectedCount">ÏÑ†ÌÉùÎêú Î∂ÑÏïº: 0Í∞ú</div>
                            </div>
                        </div>

                        <!-- Î©¥ÌóàÎ≤àÌò∏ ÏûÖÎ†• -->
                        <div class="input-group" style="margin-top: 20px;">
                            <label class="input-label" for="licenseNumber">Î©¥ÌóàÎ≤àÌò∏</label>
                            <input 
                                type="text" 
                                id="licenseNumber" 
                                class="input-field" 
                                placeholder="Î©¥ÌóàÎ≤àÌò∏Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"
                            >
                        </div>

                        <!-- Ï†ÑÎ¨∏ Î∂ÑÏïº ÏÉÅÏÑ∏ -->
                        <div class="input-group">
                            <label class="input-label" for="specialization">Ï†ÑÎ¨∏ Î∂ÑÏïº (ÏÉÅÏÑ∏)</label>
                            <input 
                                type="text" 
                                id="specialization" 
                                class="input-field" 
                                placeholder="Ïòà: ÎÇ¥Í≥º, ÏÜåÏïÑÍ≥º, ÏûÑÏÉÅÏïΩÌïô, Ïä§Ìè¨Ï∏†ÏòÅÏñë Îì±"
                            >
                        </div>

                        <!-- Í∑ºÎ¨¥Ï≤ò -->
                        <div class="input-group">
                            <label class="input-label" for="workplace">Í∑ºÎ¨¥Ï≤ò</label>
                            <input 
                                type="text" 
                                id="workplace" 
                                class="input-field" 
                                placeholder="Î≥ëÏõêÎ™Ö, ÏïΩÍµ≠Î™Ö, Ïó∞Íµ¨ÏÜåÎ™Ö Îì±"
                            >
                        </div>

                        <!-- Í≤ΩÎ†• -->
                        <div class="input-group">
                            <label class="input-label" for="experience">Í≤ΩÎ†•</label>
                            <select id="experience" class="input-field">
                                <option value="">ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî</option>
                                <option value="1-3">1~3ÎÖÑ</option>
                                <option value="4-7">4~7ÎÖÑ</option>
                                <option value="8-15">8~15ÎÖÑ</option>
                                <option value="16-25">16~25ÎÖÑ</option>
                                <option value="25+">25ÎÖÑ Ïù¥ÏÉÅ</option>
                            </select>
                        </div>

                        <!-- Î©¥ÌóàÏ¶ù ÏÇ¨ÏßÑ ÏóÖÎ°úÎìú -->
                        <div class="input-group">
                            <label class="input-label">Î©¥ÌóàÏ¶ù ÎòêÎäî ÏûêÍ≤©Ï¶ù ÏÇ¨ÏßÑ</label>
                            
                            <div class="license-upload-section" id="licenseUploadArea">
                                <div class="license-upload-icon">üìã</div>
                                <div class="license-upload-text">Î©¥ÌóàÏ¶ù ÏÇ¨ÏßÑÏùÑ ÏóÖÎ°úÎìúÌïòÏÑ∏Ïöî</div>
                                <div class="license-upload-subtext">
                                    Ïã†Ïõê ÌôïÏù∏ÏùÑ ÏúÑÌïú ÏûêÎ£åÏûÖÎãàÎã§<br>
                                    JPG, PNG ÌååÏùº (ÏµúÎåÄ 5MB)
                                </div>
                                <button type="button" class="license-upload-btn" onclick="document.getElementById('licenseFileInput').click()">
                                    ÌååÏùº ÏÑ†ÌÉù
                                </button>
                                <input type="file" id="licenseFileInput" class="license-file-input" multiple accept="image/*">
                            </div>

                            <div class="license-preview-container" id="licensePreviewContainer" style="display: none;">
                                <div class="license-file-count" id="licenseFileCount"></div>
                                <div class="license-preview-grid" id="licensePreviewGrid"></div>
                            </div>
                        </div>

                        <!-- Í≤ÄÏ¶ù ÏïàÎÇ¥ -->
                        <div class="verification-notice">
                            <span class="verification-notice-icon">üîç</span>
                            <div class="verification-notice-text">
                                <strong>Ïã†Ïõê ÌôïÏù∏ ÏïàÎÇ¥</strong><br>
                                ÏûÖÎ†•ÌïòÏã† Ï†ïÎ≥¥Îäî ÏùòÎ£åÏßÑ Ïù∏Ï¶ùÏùÑ ÏúÑÌï¥ ÏÇ¨Ïö©ÎêòÎ©∞, ÌôïÏù∏ ÌõÑ Ï†ÑÎ¨∏Í∞Ä Î∞∞ÏßÄÍ∞Ä Î∂ÄÏó¨Îê©ÎãàÎã§. 
                                Í∞úÏù∏Ï†ïÎ≥¥Îäî ÏïàÏ†ÑÌïòÍ≤å Î≥¥Ìò∏Îê©ÎãàÎã§.
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-navigation">
                    <button type="button" class="nav-button back" id="medicalProfessionalBackBtn">Ïù¥Ï†Ñ</button>
                    <button type="submit" class="nav-button create" id="medicalProfessionalNextBtn">Îã§Ïùå</button>
                </div>

                <div class="required-notice">
                    * ÌïÑÏàòÏÑ†ÌÉù
                </div>
            </form>
        </div>

        <!-- Health Concerns Screen -->
        <div class="health-concerns-screen screen inactive" id="healthConcernsScreen">
            <div class="signup-header">
                <div class="app-logo"></div>
                <h2 class="signup-title">Í±¥Í∞ï Í≥†ÎØº</h2>
                <p class="signup-subtitle">ÏöîÏ¶ò Í±¥Í∞ï Í≥†ÎØºÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî (Î≥µÏàò ÏÑ†ÌÉù Í∞ÄÎä•)</p>
            </div>

            <form class="signup-form" id="healthConcernsForm">
                <div class="scroll-indicator">‚Üì ÏïÑÎûòÎ°ú Ïä§ÌÅ¨Î°§Ìï¥ÏÑú Îçî ÎßéÏùÄ ÏòµÏÖòÏùÑ ÌôïÏù∏ÌïòÏÑ∏Ïöî ‚Üì</div>
                
                <div class="concerns-container">
                    <div class="concern-item">
                        <label class="checkbox-option">
                            <input type="checkbox" name="concerns" value="concentration">
                            <span class="checkbox-label">ÏßëÏ§ëÎ†•Ïù¥ Î∂ÄÏ°±Ìïú Í≤É Í∞ôÎã§</span>
                        </label>
                    </div>

                    <div class="concern-item">
                        <label class="checkbox-option">
                            <input type="checkbox" name="concerns" value="pregnancy">
                            <span class="checkbox-label">ÏïÑÍ∏∞ÏôÄ ÏûÑÏÇ∞Î∂ÄÏóêÍ≤å Ï¢ãÏùÄ ÏòÅÏñëÏ†úÍ∞Ä ÌïÑÏöîÌïòÎã§</span>
                        </label>
                    </div>

                    <div class="concern-item">
                        <label class="checkbox-option">
                            <input type="checkbox" name="concerns" value="hangover">
                            <span class="checkbox-label">ÏàôÏ∑®Ìï¥ÏÜåÍ∞Ä Ïûò ÎêòÏßÄ ÏïäÎäîÎã§</span>
                        </label>
                    </div>

                    <div class="concern-item">
                        <label class="checkbox-option">
                            <input type="checkbox" name="concerns" value="fatigue">
                            <span class="checkbox-label">ÌîºÎ°úÍ∞Ä ÏâΩÍ≤å ÏåìÏù¥Í≥† ÌöåÎ≥µÏù¥ ÎäêÎ¶¨Îã§</span>
                        </label>
                    </div>

                    <div class="concern-item">
                        <label class="checkbox-option">
                            <input type="checkbox" name="concerns" value="immunity">
                            <span class="checkbox-label">Î©¥Ïó≠Î†•Ïù¥ ÏïΩÌï¥ÏßÑ Í≤É Í∞ôÎã§</span>
                        </label>
                    </div>

                    <div class="concern-item">
                        <label class="checkbox-option">
                            <input type="checkbox" name="concerns" value="digestion">
                            <span class="checkbox-label">ÏÜåÌôîÍ∞Ä Ïûò ÏïàÎêòÍ≥† ÏÜçÏù¥ Î∂àÌé∏ÌïòÎã§</span>
                        </label>
                    </div>

                    <div class="concern-item">
                        <label class="checkbox-option">
                            <input type="checkbox" name="concerns" value="sleep">
                            <span class="checkbox-label">Ïû†ÏùÑ Ïûò ÏûêÏßÄ Î™ªÌïòÍ≥† ÏàòÎ©¥Ïùò ÏßàÏù¥ ÎÇòÏÅòÎã§</span>
                        </label>
                    </div>

                    <div class="concern-item">
                        <label class="checkbox-option">
                            <input type="checkbox" name="concerns" value="joints">
                            <span class="checkbox-label">Í¥ÄÏ†àÏù¥ÎÇò ÎºàÍ∞Ä ÏïÑÌîÑÍ≥† Î∂àÌé∏ÌïòÎã§</span>
                        </label>
                    </div>

                    <div class="concern-item">
                        <label class="checkbox-option">
                            <input type="checkbox" name="concerns" value="skin">
                            <span class="checkbox-label">ÌîºÎ∂Ä Ìä∏Îü¨Î∏îÏù¥ÎÇò ÎÖ∏ÌôîÍ∞Ä Ïã†Í≤ΩÏì∞Ïù∏Îã§</span>
                        </label>
                    </div>

                    <div class="concern-item">
                        <label class="checkbox-option">
                            <input type="checkbox" name="concerns" value="memory">
                            <span class="checkbox-label">Í∏∞ÏñµÎ†•Ïù¥ ÏòàÏ†ÑÎ≥¥Îã§ Îñ®Ïñ¥ÏßÑ Í≤É Í∞ôÎã§</span>
                        </label>
                    </div>

                    <div class="concern-item">
                        <label class="checkbox-option">
                            <input type="checkbox" name="concerns" value="eyes">
                            <span class="checkbox-label">ÎààÏù¥ ÏûêÏ£º ÌîºÎ°úÌïòÍ≥† ÏãúÎ†•Ïù¥ Í±±Ï†ïÎêúÎã§</span>
                        </label>
                    </div>

                    <div class="concern-item">
                        <label class="checkbox-option">
                            <input type="checkbox" name="concerns" value="stress">
                            <span class="checkbox-label">Ïä§Ìä∏Î†àÏä§Í∞Ä ÎßéÍ≥† ÎßàÏùåÏù¥ Î∂àÏïàÌïòÎã§</span>
                        </label>
                    </div>

                    <!-- ÏßÅÏ†ë ÏûÖÎ†• Í±¥Í∞ï Í≥†ÎØº -->
                    <div class="concern-item">
                        <div class="custom-concern">
                            <label class="input-label" for="customConcern">Í∏∞ÌÉÄ Í±¥Í∞ï Í≥†ÎØº (ÏßÅÏ†ë ÏûÖÎ†•)</label>
                            <div class="custom-input-container">
                                <input 
                                    type="text" 
                                    id="customConcern" 
                                    class="input-field" 
                                    placeholder="Îã§Î•∏ Í±¥Í∞ï Í≥†ÎØºÏù¥ ÏûàÎã§Î©¥ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"
                                >
                                <button type="button" class="add-button" id="addConcernBtn">Ï∂îÍ∞Ä</button>
                            </div>
                            <div class="custom-concerns-list" id="customConcernsList"></div>
                        </div>
                    </div>
                </div>

                <div class="form-navigation">
                    <button type="button" class="nav-button back" id="healthConcernsBackBtn">Ïù¥Ï†Ñ</button>
                    <button type="submit" class="nav-button create" id="healthConcernsNextBtn">Îã§Ïùå</button>
                </div>

                <div class="required-notice">
                    ÏµúÏÜå 1Í∞ú Ïù¥ÏÉÅ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî
                </div>
            </form>
        </div>

        <!-- Chatbot Settings Screen -->
        <div class="chatbot-settings-screen screen inactive" id="chatbotSettingsScreen">
            <div class="signup-header">
                <div class="app-logo"></div>
                <h2 class="signup-title">Ï±óÎ¥á ÏÑ§Ï†ï</h2>
                <p class="signup-subtitle">Ï±óÎ¥áÏùò Ïó≠Ìï†Í≥º ÎßêÌà¨Î•º ÏÑ§Ï†ïÌï¥Ï£ºÏÑ∏Ïöî</p>
            </div>

            <form class="signup-form" id="chatbotSettingsForm">
                <div class="chatbot-settings-content">
                    <!-- Ï±óÎ¥á Ïó≠Ìï† ÏÑ§Ï†ï -->
                    <div class="input-group">
                        <label class="input-label">Ï±óÎ¥áÏóêÍ≤å Ïó≠Ìï†ÏùÑ Ï†ïÌï¥Ï§ÑÍπåÏöî? *</label>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="setRole" value="yes" required id="setRoleYes">
                                <span class="radio-label">ÎÑ§</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="setRole" value="no" required id="setRoleNo">
                                <span class="radio-label">ÏïÑÎãàÏò§</span>
                            </label>
                        </div>
                    </div>

                    <!-- ÎßêÌà¨ ÏÑ†ÌÉù -->
                    <div class="input-group" id="toneSelectionGroup" style="display: none;">
                        <label class="input-label">ÎßêÌà¨Îäî Ïñ¥ÎñªÍ≤å Ìï†ÍπåÏöî? *</label>
                        <div class="tone-options">
                            <label class="tone-option">
                                <input type="radio" name="tone" value="friendly" required>
                                <span class="tone-label">
                                    <span class="tone-title">Îã§Ï†ïÌïú Î≤ÑÏ†Ñ</span>
                                    <span class="tone-description">ÏπúÍ∑ºÌïòÍ≥† Îî∞ÎúªÌïú ÎßêÌà¨Î°ú ÎåÄÌôîÌï¥Ïöî</span>
                                </span>
                            </label>

                            <label class="tone-option">
                                <input type="radio" name="tone" value="strict" required>
                                <span class="tone-label">
                                    <span class="tone-title">ÏóÑÍ≤©Ìïú Î≤ÑÏ†Ñ</span>
                                    <span class="tone-description">Ï†ïÌôïÌïòÍ≥† Ï†ÑÎ¨∏Ï†ÅÏù∏ ÎßêÌà¨Î°ú Ï°∞Ïñ∏Ìï¥Ïöî</span>
                                </span>
                            </label>

                            <label class="tone-option">
                                <input type="radio" name="tone" value="casual" required>
                                <span class="tone-label">
                                    <span class="tone-title">Ìé∏ÏïàÌïú Î≤ÑÏ†Ñ</span>
                                    <span class="tone-description">ÏπúÍµ¨Í∞ôÏù¥ Ìé∏ÏïàÌïòÍ≥† ÏûêÏó∞Ïä§Îü¨Ïö¥ ÎßêÌà¨ÏòàÏöî</span>
                                </span>
                            </label>

                            <label class="tone-option">
                                <input type="radio" name="tone" value="professional" required>
                                <span class="tone-label">
                                    <span class="tone-title">Ï†ÑÎ¨∏Í∞Ä Î≤ÑÏ†Ñ</span>
                                    <span class="tone-description">ÏùòÎ£åÏßÑÏ≤òÎüº Ïã†Î¢∞Ìï† Ïàò ÏûàÎäî ÎßêÌà¨Î°ú ÏÑ§Î™ÖÌï¥Ïöî</span>
                                </span>
                            </label>

                            <label class="tone-option">
                                <input type="radio" name="tone" value="cheerful" required>
                                <span class="tone-label">
                                    <span class="tone-title">Î∞ùÏùÄ Î≤ÑÏ†Ñ</span>
                                    <span class="tone-description">ÌôúÍ∏∞Ï∞®Í≥† Í∏çÏ†ïÏ†ÅÏù∏ ÏóêÎÑàÏßÄÎ°ú ÏùëÏõêÌï¥Ïöî</span>
                                </span>
                            </label>

                            <label class="tone-option">
                                <input type="radio" name="tone" value="calm" required>
                                <span class="tone-label">
                                    <span class="tone-title">Ï∞®Î∂ÑÌïú Î≤ÑÏ†Ñ</span>
                                    <span class="tone-description">ÏïàÏ†ïÍ∞ê ÏûàÍ≥† Ïπ®Ï∞©Ìïú ÎßêÌà¨Î°ú ÏïàÎÇ¥Ìï¥Ïöî</span>
                                </span>
                            </label>

                            <!-- ÏßÅÏ†ë ÏûÖÎ†• ÎßêÌà¨ ÏòµÏÖò -->
                            <label class="tone-option">
                                <input type="radio" name="tone" value="custom" required id="customToneRadio">
                                <span class="tone-label">
                                    <span class="tone-title">ÏßÅÏ†ë ÏÑ§Ï†ï</span>
                                    <span class="tone-description">ÏõêÌïòÎäî ÎßêÌà¨Î•º ÏßÅÏ†ë ÏûÖÎ†•Ìï¥Î≥¥ÏÑ∏Ïöî</span>
                                </span>
                            </label>
                        </div>

                        <!-- Ïª§Ïä§ÌÖÄ ÎßêÌà¨ ÏûÖÎ†• ÏòÅÏó≠ -->
                        <div class="input-group" id="customToneGroup" style="display: none; margin-top: 15px;">
                            <label class="input-label" for="customToneInput">Ïñ¥Îñ§ ÎßêÌà¨Î°ú ÎåÄÌôîÌïòÍ≥† Ïã∂ÏúºÏã†Í∞ÄÏöî?</label>
                            <input 
                                type="text" 
                                id="customToneInput" 
                                class="input-field" 
                                placeholder="Ïòà: Ï°¥ÎåìÎßêÎ°ú Ï†ïÏ§ëÌïòÍ≤å, Î∞òÎßêÎ°ú ÏπúÍ∑ºÌïòÍ≤å, ÏùòÏÇ¨ÏÑ†ÏÉùÎãòÏ≤òÎüº Îì±"
                            ><div class="tone-examples">
                                <p style="font-size: 12px; color: #666; margin-top: 8px; line-height: 1.4;">
                                    <strong>ÏòàÏãú:</strong> "Ï°¥ÎåìÎßêÎ°ú Ï†ïÏ§ëÌïòÍ≤å", "Î∞òÎßêÎ°ú ÏπúÍ∑ºÌïòÍ≤å", "ÏùòÏÇ¨ÏÑ†ÏÉùÎãòÏ≤òÎüº Ï†ÑÎ¨∏Ï†ÅÏúºÎ°ú", 
                                    "Ìï†Î®∏ÎãàÏ≤òÎüº Îî∞ÎúªÌïòÍ≤å", "ÏΩîÏπòÏ≤òÎüº ÎèôÍ∏∞Î∂ÄÏó¨ Ìï¥Ï£ºÎ©¥ÏÑú" Îì±
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                

                <div class="form-navigation">
                    <button type="button" class="nav-button back" id="chatbotSettingsBackBtn">Ïù¥Ï†Ñ</button>
                    <button type="submit" class="nav-button create" id="chatbotSettingsNextBtn">Îã§Ïùå</button>
                </div>

                <div class="required-notice">
                    * ÌïÑÏàòÏÑ†ÌÉù
                </div>
            </form>
        </div>

        <!-- Current Supplements Screen -->
        <div class="current-supplements-screen screen inactive" id="currentSupplementsScreen">
            <div class="signup-header">
                <div class="app-logo"></div>
                <h2 class="signup-title">ÌòÑÏû¨ Î≥µÏö© Ï§ëÏù∏ ÏòÅÏñëÏ†ú</h2>
                <p class="signup-subtitle">ÌòÑÏû¨ Î≥µÏö© Ï§ëÏù∏ ÏòÅÏñëÏ†úÎ•º ÏïåÎ†§Ï£ºÏÑ∏Ïöî</p>
            </div>

            <form class="signup-form" id="currentSupplementsForm">
                <div class="supplements-content">
                    <!-- Î≥µÏö© Ïó¨Î∂Ä -->
                    <div class="input-group">
                        <label class="input-label">ÌòÑÏû¨ ÏòÅÏñëÏ†úÎ•º Î≥µÏö©ÌïòÍ≥† Í≥ÑÏã†Í∞ÄÏöî? *</label>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="takingSupplements" value="yes" required id="takingSupplementsYes">
                                <span class="radio-label">ÎÑ§</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="takingSupplements" value="no" required id="takingSupplementsNo">
                                <span class="radio-label">ÏïÑÎãàÏò§</span>
                            </label>
                        </div>
                    </div>

                    <!-- ÏòÅÏñëÏ†ú Î™©Î°ù -->
                    <div class="supplements-list" id="supplementsList" style="display: none;">
                        <div class="input-group">
                            <label class="input-label">Î≥µÏö© Ï§ëÏù∏ ÏòÅÏñëÏ†ú ÏÇ¨ÏßÑÏùÑ Ï≤®Î∂ÄÌï¥Ï£ºÏÑ∏Ïöî</label>
                            
                            <!-- ÏÇ¨ÏßÑ ÏóÖÎ°úÎìú ÏÑπÏÖò -->
                            <div class="upload-section" id="uploadArea">
                                <div class="upload-icon">üì∑</div>
                                <div class="upload-text">ÏòÅÏñëÏ†ú ÏÇ¨ÏßÑÏùÑ ÏóÖÎ°úÎìúÌïòÏÑ∏Ïöî</div>
                                <div class="upload-subtext">Ïó¨Îü¨ Ïû•Ïùò ÏÇ¨ÏßÑÏùÑ Ìïú Î≤àÏóê ÏóÖÎ°úÎìúÌï† Ïàò ÏûàÏäµÎãàÎã§<br>
                                JPG, PNG ÌååÏùºÎßå ÏßÄÏõêÎê©ÎãàÎã§ (ÏµúÎåÄ 10MB)</div>
                                <button type="button" class="upload-btn" onclick="document.getElementById('fileInput').click()">
                                    ÌååÏùº ÏÑ†ÌÉù
                                </button>
                                <input type="file" id="fileInput" class="file-input" multiple accept="image/*">
                            </div>
                    
                            <div class="preview-container" id="previewContainer" style="display: none;">
                                <div class="file-count" id="fileCount"></div>
                                <div class="preview-grid" id="previewGrid"></div>
                            </div>

                            <!-- ÏßÅÏ†ë ÏûÖÎ†• ÏòÅÏó≠ -->
                            <div class="custom-supplement">
                                <label class="input-label" for="customSupplement">Í∏∞ÌÉÄ (ÏßÅÏ†ë ÏûÖÎ†•)</label>
                                <div class="custom-input-container">
                                    <input 
                                        type="text" 
                                        id="customSupplement" 
                                        class="input-field" 
                                        placeholder="Î≥µÏö© Ï§ëÏù∏ Îã§Î•∏ ÏòÅÏñëÏ†úÍ∞Ä ÏûàÎã§Î©¥ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"
                                    >
                                    <button type="button" class="add-button" id="addSupplementBtn">Ï∂îÍ∞Ä</button>
                                </div>
                                <div class="custom-supplements-list" id="customSupplementsList"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-navigation">
                    <button type="button" class="nav-button back" id="currentSupplementsBackBtn">Ïù¥Ï†Ñ</button>
                    <button type="submit" class="nav-button create" id="currentSupplementsNextBtn">ÏôÑÎ£å</button>
                </div>

                <div class="required-notice">
                    * ÌïÑÏàòÏÑ†ÌÉù
                </div>
            </form>
        </div>

        <!-- Signup Complete Screen -->
        <div class="signup-complete-screen screen inactive" id="signupCompleteScreen">
            <div class="fireworks-container" id="fireworksContainer"></div>
            <div class="complete-content">
                <div class="celebration-icon">üéâ</div>
                <h2 class="complete-title">ÌöåÏõêÍ∞ÄÏûÖÏù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§!</h2>
                <p class="complete-message">
                    Í∞ôÏù¥ Í±¥Í∞ï Ï±ôÍ∏∞Îü¨ Í∞ÄÏöî!<br>
                    Í∞úÏù∏ ÎßûÏ∂§Ìòï ÏòÅÏñëÏ†ú Ï∂îÏ≤úÏùÑ ÏúÑÌïú<br>
                    Î™®Îì† Ï†ïÎ≥¥Í∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Îì±Î°ùÎêòÏóàÏäµÎãàÎã§
                </p>
                
                <div class="complete-summary" id="completeSummary">
                    <!-- Ïó¨Í∏∞Ïóê ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ ÏöîÏïΩÏù¥ ÌëúÏãúÎê©ÎãàÎã§ -->
                </div>

                <button class="complete-button" id="goToMainBtn">Î©îÏù∏ ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô</button>
            </div>
        </div>

        <!-- Modal for Guest Access Confirmation -->
        <div class="modal-overlay" id="guestModal">
            <div class="modal-content">
                <div class="modal-icon">‚ö†Ô∏è</div>
                <h3 class="modal-title">Ïû†ÏãúÎßåÏöî!</h3>
                <p class="modal-message">Ï†ïÎ≥¥Í∞Ä ÏóÜÏúºÎ©¥<br>ÏòÅÏñëÏ†ú Ï∂îÏ≤úÏù¥ Ïñ¥Î†§Ïö∏ Ïàò ÏûàÏñ¥Ïöî</p>
                <div class="modal-buttons">
                    <button class="modal-button primary" id="provideInfoBtn">Ï†ïÎ≥¥Ï£ºÍ∏∞</button>
                    <button class="modal-button secondary" id="continueGuestBtn">Í¥úÏ∞ÆÏïÑÏöî</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // DOM ÏöîÏÜåÎì§ Í∞ÄÏ†∏Ïò§Í∏∞
        const startBtn = document.getElementById('startBtn');
        const introScreen = document.getElementById('introScreen');
        const loginScreen = document.getElementById('loginScreen');
        const signupScreen = document.getElementById('signupScreen');
        const personalInfoScreen = document.getElementById('personalInfoScreen');
        const medicalProfessionalScreen = document.getElementById('medicalProfessionalScreen'); // NEW
        const healthConcernsScreen = document.getElementById('healthConcernsScreen');
        const chatbotSettingsScreen = document.getElementById('chatbotSettingsScreen');
        const currentSupplementsScreen = document.getElementById('currentSupplementsScreen');
        const signupCompleteScreen = document.getElementById('signupCompleteScreen');
        const loginForm = document.getElementById('loginForm');
        const signupForm = document.getElementById('signupForm');
        const personalInfoForm = document.getElementById('personalInfoForm');
        const medicalProfessionalForm = document.getElementById('medicalProfessionalForm'); // NEW
        const healthConcernsForm = document.getElementById('healthConcernsForm');
        const chatbotSettingsForm = document.getElementById('chatbotSettingsForm');
        const currentSupplementsForm = document.getElementById('currentSupplementsForm');
        const signupLink = document.getElementById('signupLink');
        const guestBtn = document.getElementById('guestBtn');
        const guestModal = document.getElementById('guestModal');
        const provideInfoBtn = document.getElementById('provideInfoBtn');
        const continueGuestBtn = document.getElementById('continueGuestBtn');
        const backBtn = document.getElementById('backBtn');
        const personalInfoBackBtn = document.getElementById('personalInfoBackBtn');
        const medicalProfessionalBackBtn = document.getElementById('medicalProfessionalBackBtn'); // NEW
        const healthConcernsBackBtn = document.getElementById('healthConcernsBackBtn');
        const chatbotSettingsBackBtn = document.getElementById('chatbotSettingsBackBtn');
        const currentSupplementsBackBtn = document.getElementById('currentSupplementsBackBtn');
        const goToMainBtn = document.getElementById('goToMainBtn');
        const recommendBtn = document.getElementById('recommendBtn');
        const checkNicknameBtn = document.getElementById('checkNicknameBtn');

        // ÏùòÎ£åÏßÑ Í¥ÄÎ†® ÏöîÏÜåÎì§ (NEW)
        const medicalProfessionalYes = document.getElementById('medicalProfessionalYes');
        const medicalProfessionalNo = document.getElementById('medicalProfessionalNo');
        const medicalInfoSection = document.getElementById('medicalInfoSection');
        const accordionHeader = document.getElementById('accordionHeader');
        const accordionContent = document.getElementById('accordionContent');
        const accordionArrow = document.getElementById('accordionArrow');
        const selectedCount = document.getElementById('selectedCount');

        // ÏûêÎÖÄ/Î∂ÄÎ™®Îãò Ï†ïÎ≥¥ Í¥ÄÎ†® ÏöîÏÜåÎì§
        const hasChildrenYes = document.getElementById('hasChildrenYes');
        const hasChildrenNo = document.getElementById('hasChildrenNo');
        const childrenInfoGroup = document.getElementById('childrenInfoGroup');
        const childrenInfoContainer = document.getElementById('childrenInfoContainer');
        const addChildBtn = document.getElementById('addChildBtn');
        
        const forParentsYes = document.getElementById('forParentsYes');
        const forParentsNo = document.getElementById('forParentsNo');
        const parentsInfoGroup = document.getElementById('parentsInfoGroup');
        const parentsInfoContainer = document.getElementById('parentsInfoContainer');
        const addParentBtn = document.getElementById('addParentBtn');

        // ÏûÑÏã† Ï†ïÎ≥¥ Í¥ÄÎ†® ÏöîÏÜåÎì§
        const pregnancyYes = document.getElementById('pregnancyYes');
        const pregnancyNo = document.getElementById('pregnancyNo');
        const pregnancyInfoGroup = document.getElementById('pregnancyInfoGroup');
        const dueDateInput = document.getElementById('dueDate');

        // Ïª§Ïä§ÌÖÄ Í±¥Í∞ï Í≥†ÎØº Í¥ÄÎ†® ÏöîÏÜåÎì§
        const customConcernInput = document.getElementById('customConcern');
        const addConcernBtn = document.getElementById('addConcernBtn');
        const customConcernsList = document.getElementById('customConcernsList');

        // Ïª§Ïä§ÌÖÄ ÎßêÌà¨ Í¥ÄÎ†® ÏöîÏÜåÎì§
        const customToneRadio = document.getElementById('customToneRadio');
        const customToneGroup = document.getElementById('customToneGroup');
        const customToneInput = document.getElementById('customToneInput');

        // Î©¥ÌóàÏ¶ù ÏóÖÎ°úÎìú Í¥ÄÎ†® Î≥ÄÏàòÎì§ (NEW)
        let uploadedLicenseFiles = [];

        // ÏûêÎÖÄ Ï†ïÎ≥¥ Ïπ¥Ïö¥ÌÑ∞
        let childCounter = 0;
        let parentCounter = 0;

        // ÏãúÏûëÌïòÍ∏∞ Î≤ÑÌäº ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏
        startBtn.addEventListener('click', function() {
            console.log('ÏãúÏûëÌïòÍ∏∞ Î≤ÑÌäº ÌÅ¥Î¶≠Îê®');
            showLoginScreen();
        });

        // ÏïÑÏΩîÎîîÏñ∏ ÌÜ†Í∏Ä Í∏∞Îä• (NEW)
        accordionHeader.addEventListener('click', function() {
            const isExpanded = accordionContent.classList.contains('expanded');
            
            if (isExpanded) {
                accordionContent.classList.remove('expanded');
                accordionHeader.classList.remove('active');
                accordionArrow.classList.remove('rotated');
            } else {
                accordionContent.classList.add('expanded');
                accordionHeader.classList.add('active');
                accordionArrow.classList.add('rotated');
            }
        });

        // Ï†ÑÎ¨∏ Î∂ÑÏïº ÏÑ†ÌÉù Ïπ¥Ïö¥Ìä∏ ÏóÖÎç∞Ïù¥Ìä∏ (NEW)
        function updateSelectedCount() {
            const checkedBoxes = document.querySelectorAll('input[name="medicalType"]:checked');
            const count = checkedBoxes.length;
            selectedCount.textContent = `ÏÑ†ÌÉùÎêú Î∂ÑÏïº: ${count}Í∞ú`;
            
            if (count > 0) {
                selectedCount.style.background = 'rgba(40, 167, 69, 0.15)';
                selectedCount.style.color = '#155724';
                selectedCount.style.fontWeight = '600';
            } else {
                selectedCount.style.background = 'rgba(108, 117, 125, 0.1)';
                selectedCount.style.color = '#6c757d';
                selectedCount.style.fontWeight = '500';
            }
        }

        // Ï≤¥ÌÅ¨Î∞ïÏä§ Î≥ÄÍ≤Ω Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà Ï∂îÍ∞Ä (NEW)
        document.addEventListener('change', function(e) {
            if (e.target.name === 'medicalType') {
                updateSelectedCount();
            }
        });

        // ÏùòÎ£åÏßÑ Ïó¨Î∂Ä ÎùºÎîîÏò§ Î≤ÑÌäº Ïù¥Î≤§Ìä∏ (NEW)
        medicalProfessionalYes.addEventListener('change', function() {
            if (this.checked) {
                medicalInfoSection.style.display = 'block';
                document.querySelectorAll('input[name="medicalType"]').forEach(input => {
                    input.required = true;
                });
                updateSelectedCount(); // Ï¥àÍ∏∞ Ïπ¥Ïö¥Ìä∏ ÏóÖÎç∞Ïù¥Ìä∏
            }
        });

        medicalProfessionalNo.addEventListener('change', function() {
            if (this.checked) {
                medicalInfoSection.style.display = 'none';
                // ÏùòÎ£åÏßÑ Í¥ÄÎ†® ÏûÖÎ†• ÌïÑÎìú Ï¥àÍ∏∞Ìôî
                document.querySelectorAll('input[name="medicalType"]').forEach(input => {
                    input.checked = false;
                    input.required = false;
                });
                document.getElementById('licenseNumber').value = '';
                document.getElementById('specialization').value = '';
                document.getElementById('workplace').value = '';
                document.getElementById('experience').value = '';
                clearLicenseFiles();
                
                // ÏïÑÏΩîÎîîÏñ∏ Îã´Í∏∞
                accordionContent.classList.remove('expanded');
                accordionHeader.classList.remove('active');
                accordionArrow.classList.remove('rotated');
                updateSelectedCount();
            }
        });

        // Î©¥ÌóàÏ¶ù ÌååÏùº ÏóÖÎ°úÎìú Í¥ÄÎ†® Ìï®ÏàòÎì§ (NEW)
        const licenseUploadArea = document.getElementById('licenseUploadArea');
        const licenseFileInput = document.getElementById('licenseFileInput');
        const licensePreviewContainer = document.getElementById('licensePreviewContainer');
        const licensePreviewGrid = document.getElementById('licensePreviewGrid');
        const licenseFileCount = document.getElementById('licenseFileCount');

        // ÎìúÎûòÍ∑∏ Ïï§ ÎìúÎ°≠ Ïù¥Î≤§Ìä∏
        licenseUploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            licenseUploadArea.classList.add('dragover');
        });

        licenseUploadArea.addEventListener('dragleave', () => {
            licenseUploadArea.classList.remove('dragover');
        });

        licenseUploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            licenseUploadArea.classList.remove('dragover');
            const files = Array.from(e.dataTransfer.files);
            handleLicenseFiles(files);
        });

        // ÌååÏùº ÏÑ†ÌÉù Ïù¥Î≤§Ìä∏
        licenseFileInput.addEventListener('change', (e) => {
            const files = Array.from(e.target.files);
            handleLicenseFiles(files);
        });

        function handleLicenseFiles(files) {
            const imageFiles = files.filter(file => file.type.startsWith('image/'));
            
            if (imageFiles.length === 0) {
                alert('Ïù¥ÎØ∏ÏßÄ ÌååÏùºÎßå ÏóÖÎ°úÎìúÌï† Ïàò ÏûàÏäµÎãàÎã§.');
                return;
            }

            imageFiles.forEach(file => {
                if (file.size > 5 * 1024 * 1024) { // 5MB Ï†úÌïú
                    alert(`ÌååÏùº "${file.name}"Ïù¥ ÎÑàÎ¨¥ ÌÅΩÎãàÎã§. 5MB Ïù¥ÌïòÏùò ÌååÏùºÎßå ÏóÖÎ°úÎìúÌï† Ïàò ÏûàÏäµÎãàÎã§.`);
                    return;
                }

                if (uploadedLicenseFiles.length >= 3) { // ÏµúÎåÄ 3Í∞ú ÌååÏùº
                    alert('ÏµúÎåÄ 3Í∞úÏùò ÌååÏùºÎßå ÏóÖÎ°úÎìúÌï† Ïàò ÏûàÏäµÎãàÎã§.');
                    return;
                }

                uploadedLicenseFiles.push(file);
                createLicensePreview(file);
            });

            updateLicenseFileCount();
            showLicensePreviewContainer();
        }

        function createLicensePreview(file) {
            const reader = new FileReader();
            reader.onload = (e) => {
                const previewItem = document.createElement('div');
                previewItem.className = 'license-preview-item';
                previewItem.innerHTML = `
                    <img src="${e.target.result}" alt="Î©¥ÌóàÏ¶ù ÎØ∏Î¶¨Î≥¥Í∏∞" class="license-preview-image">
                    <button class="license-remove-btn" onclick="removeLicenseFile('${file.name}')" title="ÏÇ≠Ï†ú">√ó</button>
                `;
                licensePreviewGrid.appendChild(previewItem);
            };
            reader.readAsDataURL(file);
        }

        function removeLicenseFile(fileName) {
            uploadedLicenseFiles = uploadedLicenseFiles.filter(file => file.name !== fileName);
            updateLicensePreviewGrid();
            updateLicenseFileCount();
            
            if (uploadedLicenseFiles.length === 0) {
                hideLicensePreviewContainer();
            }
        }

        function updateLicensePreviewGrid() {
            licensePreviewGrid.innerHTML = '';
            uploadedLicenseFiles.forEach(file => {
                createLicensePreview(file);
            });
        }

        function updateLicenseFileCount() {
            licenseFileCount.textContent = `ÏóÖÎ°úÎìúÎêú ÌååÏùº: ${uploadedLicenseFiles.length}Í∞ú`;
        }

        function showLicensePreviewContainer() {
            licensePreviewContainer.style.display = 'block';
        }

        function hideLicensePreviewContainer() {
            licensePreviewContainer.style.display = 'none';
        }

        function clearLicenseFiles() {
            uploadedLicenseFiles = [];
            licensePreviewGrid.innerHTML = '';
            hideLicensePreviewContainer();
            licenseFileInput.value = '';
        }

        // Ïª§Ïä§ÌÖÄ Í±¥Í∞ï Í≥†ÎØº Ï∂îÍ∞Ä Í∏∞Îä•
        addConcernBtn.addEventListener('click', function() {
            const concernText = customConcernInput.value.trim();
            if (concernText) {
                addCustomConcern(concernText);
                customConcernInput.value = '';
            }
        });

        customConcernInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                const concernText = this.value.trim();
                if (concernText) {
                    addCustomConcern(concernText);
                    this.value = '';
                }
            }
        });

        function addCustomConcern(text) {
            const tag = document.createElement('div');
            tag.className = 'custom-concern-tag';
            tag.innerHTML = `
                ${text}
                <button type="button" class="remove-concern" onclick="this.parentElement.remove()">√ó</button>
            `;
            customConcernsList.appendChild(tag);
        }

        // Ïª§Ïä§ÌÖÄ ÎßêÌà¨ ÎùºÎîîÏò§ Î≤ÑÌäº Ïù¥Î≤§Ìä∏
        const allToneRadios = document.querySelectorAll('input[name="tone"]');
        
        allToneRadios.forEach(radio => {
            radio.addEventListener('change', function() {
                if (this.value === 'custom') {
                    customToneGroup.style.display = 'block';
                    customToneInput.required = true;
                } else {
                    customToneGroup.style.display = 'none';
                    customToneInput.required = false;
                    customToneInput.value = '';
                }
            });
        });

        // ÌôîÎ©¥ Ï†ÑÌôò Ìï®ÏàòÎì§
        function showLoginScreen() {
            introScreen.classList.remove('active');
            introScreen.classList.add('inactive');
            
            loginScreen.classList.remove('inactive');
            loginScreen.classList.add('active');
        }

        function showSignupPage() {
            loginScreen.classList.remove('active');
            loginScreen.classList.add('inactive');
            
            signupScreen.classList.remove('inactive');
            signupScreen.classList.add('active');
        }

        function showPersonalInfoPage() {
            signupScreen.classList.remove('active');
            signupScreen.classList.add('inactive');
            
            personalInfoScreen.classList.remove('inactive');
            personalInfoScreen.classList.add('active');
        }

        function showMedicalProfessionalPage() { // NEW
            personalInfoScreen.classList.remove('active');
            personalInfoScreen.classList.add('inactive');
            
            medicalProfessionalScreen.classList.remove('inactive');
            medicalProfessionalScreen.classList.add('active');
        }

        function showHealthConcernsPage() {
            medicalProfessionalScreen.classList.remove('active'); // ÏàòÏ†ïÎê®
            medicalProfessionalScreen.classList.add('inactive');
            
            healthConcernsScreen.classList.remove('inactive');
            healthConcernsScreen.classList.add('active');
        }

        function showChatbotSettingsPage() {
            healthConcernsScreen.classList.remove('active');
            healthConcernsScreen.classList.add('inactive');
            
            chatbotSettingsScreen.classList.remove('inactive');
            chatbotSettingsScreen.classList.add('active');
        }

        function showCurrentSupplementsPage() {
            chatbotSettingsScreen.classList.remove('active');
            chatbotSettingsScreen.classList.add('inactive');
            
            currentSupplementsScreen.classList.remove('inactive');
            currentSupplementsScreen.classList.add('active');
        }

        function showSignupCompletePage() {
            currentSupplementsScreen.classList.remove('active');
            currentSupplementsScreen.classList.add('inactive');
            
            signupCompleteScreen.classList.remove('inactive');
            signupCompleteScreen.classList.add('active');
            
            // Ìè≠Ï£Ω Ïï†ÎãàÎ©îÏù¥ÏÖò ÏãúÏûë
            startFireworks();
            
            // ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ ÏöîÏïΩ ÏÉùÏÑ±
            setTimeout(() => {
                generateCompleteSummary();
            }, 1000);
        }

        // Îí§Î°úÍ∞ÄÍ∏∞ Ìï®ÏàòÎì§
        function showSignupPageFromPersonalInfo() {
            personalInfoScreen.classList.remove('active');
            personalInfoScreen.classList.add('inactive');
            
            signupScreen.classList.remove('inactive');
            signupScreen.classList.add('active');
        }

        function showPersonalInfoPageFromMedical() { // NEW
            medicalProfessionalScreen.classList.remove('active');
            medicalProfessionalScreen.classList.add('inactive');
            
            personalInfoScreen.classList.remove('inactive');
            personalInfoScreen.classList.add('active');
        }

        function showMedicalProfessionalPageFromHealthConcerns() { // NEW
            healthConcernsScreen.classList.remove('active');
            healthConcernsScreen.classList.add('inactive');
            
            medicalProfessionalScreen.classList.remove('inactive');
            medicalProfessionalScreen.classList.add('active');
        }

        function showHealthConcernsPageFromChatbotSettings() {
            chatbotSettingsScreen.classList.remove('active');
            chatbotSettingsScreen.classList.add('inactive');
            
            healthConcernsScreen.classList.remove('inactive');
            healthConcernsScreen.classList.add('active');
        }

        function showChatbotSettingsPageFromCurrentSupplements() {
            currentSupplementsScreen.classList.remove('active');
            currentSupplementsScreen.classList.add('inactive');
            
            chatbotSettingsScreen.classList.remove('inactive');
            chatbotSettingsScreen.classList.add('active');
        }

        function showLoginPage() {
            signupScreen.classList.remove('active');
            signupScreen.classList.add('inactive');
            
            loginScreen.classList.remove('inactive');
            loginScreen.classList.add('active');
        }

        function goToMainPage() {
            signupCompleteScreen.classList.remove('active');
            signupCompleteScreen.classList.add('inactive');
            
            loginScreen.classList.remove('inactive');
            loginScreen.classList.add('active');
        }
        

        // ÏûêÎÖÄ Ï†ïÎ≥¥ ÏûÖÎ†• Í∏∞Îä•
        function createChildInfo(index) {
            const childDiv = document.createElement('div');
            childDiv.className = 'person-info-item';
            childDiv.innerHTML = `
                <div class="person-info-header">
                    <span class="person-info-title">ÏûêÎÖÄ ${index}</span>
                    <button type="button" class="remove-person-btn" onclick="removeChild(this)">√ó</button>
                </div>
                <div class="person-info-fields">
                    <div class="input-group">
                        <label class="input-label">Ïù¥Î¶Ñ</label>
                        <input type="text" name="childName_${index}" class="input-field" placeholder="ÏûêÎÖÄ Ïù¥Î¶Ñ">
                    </div>
                    <div class="input-group">
                        <label class="input-label">ÎÇòÏù¥</label>
                        <input type="number" name="childAge_${index}" class="input-field" placeholder="ÎÇòÏù¥" min="0" max="30">
                    </div>
                    <div class="input-group">
                        <label class="input-label">ÏÑ±Î≥Ñ</label>
                        <select name="childGender_${index}" class="input-field">
                            <option value="">ÏÑ†ÌÉù</option>
                            <option value="male">ÎÇ®</option>
                            <option value="female">Ïó¨</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label class="input-label">ÌäπÏù¥ÏÇ¨Ìï≠</label>
                        <input type="text" name="childNotes_${index}" class="input-field" placeholder="ÏïåÎ†àÎ•¥Í∏∞, Í±¥Í∞ïÏÉÅÌÉú Îì±">
                    </div>
                </div>
            `;
            return childDiv;
        }

        // Î∂ÄÎ™®Îãò Ï†ïÎ≥¥ ÏûÖÎ†• Í∏∞Îä•
        function createParentInfo(index) {
            const parentDiv = document.createElement('div');
            parentDiv.className = 'person-info-item';
            parentDiv.innerHTML = `
                <div class="person-info-header">
                    <span class="person-info-title">Î∂ÄÎ™®Îãò ${index}</span>
                    <button type="button" class="remove-person-btn" onclick="removeParent(this)">√ó</button>
                </div>
                <div class="person-info-fields">
                    <div class="input-group">
                        <label class="input-label">Í¥ÄÍ≥Ñ</label>
                        <select name="parentRelation_${index}" class="input-field">
                            <option value="">ÏÑ†ÌÉù</option>
                            <option value="father">ÏïÑÎ≤ÑÏßÄ</option>
                            <option value="mother">Ïñ¥Î®∏Îãà</option>
                            <option value="stepfather">Í≥ÑÎ∂Ä</option>
                            <option value="stepmother">Í≥ÑÎ™®</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label class="input-label">ÎÇòÏù¥</label>
                        <input type="number" name="parentAge_${index}" class="input-field" placeholder="ÎÇòÏù¥" min="40" max="100">
                    </div>
                    <div class="input-group">
                        <label class="input-label">Í±¥Í∞ïÏÉÅÌÉú</label>
                        <select name="parentHealth_${index}" class="input-field">
                            <option value="">ÏÑ†ÌÉù</option>
                            <option value="good">ÏñëÌò∏</option>
                            <option value="normal">Î≥¥ÌÜµ</option>
                            <option value="poor">ÎÇòÏÅ®</option>
                            <option value="chronic">ÎßåÏÑ±ÏßàÌôò ÏûàÏùå</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label class="input-label">ÌäπÏù¥ÏÇ¨Ìï≠</label>
                        <input type="text" name="parentNotes_${index}" class="input-field" placeholder="Î≥µÏö© Ï§ëÏù∏ ÏïΩ, ÏïåÎ†àÎ•¥Í∏∞ Îì±">
                    </div>
                </div>
            `;
            return parentDiv;
        }

        // ÏûêÎÖÄ Ï∂îÍ∞Ä Î≤ÑÌäº Ïù¥Î≤§Ìä∏
        addChildBtn.addEventListener('click', function() {
            childCounter++;
            const childInfo = createChildInfo(childCounter);
            childrenInfoContainer.appendChild(childInfo);
        });

        // Î∂ÄÎ™®Îãò Ï∂îÍ∞Ä Î≤ÑÌäº Ïù¥Î≤§Ìä∏
        addParentBtn.addEventListener('click', function() {
            parentCounter++;
            const parentInfo = createParentInfo(parentCounter);
            parentsInfoContainer.appendChild(parentInfo);
        });

        // ÏûêÎÖÄ ÏÇ≠Ï†ú Ìï®Ïàò
        function removeChild(button) {
            button.closest('.person-info-item').remove();
        }

        // Î∂ÄÎ™®Îãò ÏÇ≠Ï†ú Ìï®Ïàò
        function removeParent(button) {
            button.closest('.person-info-item').remove();
        }

        // ÏûêÎÖÄ Ïó¨Î∂Ä ÎùºÎîîÏò§ Î≤ÑÌäº Ïù¥Î≤§Ìä∏
        hasChildrenYes.addEventListener('change', function() {
            if (this.checked) {
                childrenInfoGroup.style.display = 'block';
                // Í∏∞Î≥∏Ï†ÅÏúºÎ°ú Ï≤´ Î≤àÏß∏ ÏûêÎÖÄ Ï†ïÎ≥¥ Ï∂îÍ∞Ä
                if (childrenInfoContainer.children.length === 0) {
                    childCounter++;
                    const childInfo = createChildInfo(childCounter);
                    childrenInfoContainer.appendChild(childInfo);
                }
            }
        });

        hasChildrenNo.addEventListener('change', function() {
            if (this.checked) {
                childrenInfoGroup.style.display = 'none';
                // ÏûêÎÖÄ Ï†ïÎ≥¥ Î™®Îëê ÏÇ≠Ï†ú
                childrenInfoContainer.innerHTML = '';
                childCounter = 0;
                            
        

            }
        });

        // Î∂ÄÎ™®Îãò ÏòÅÏñëÏ†ú ÎùºÎîîÏò§ Î≤ÑÌäº Ïù¥Î≤§Ìä∏
        forParentsYes.addEventListener('change', function() {
            if (this.checked) {
                parentsInfoGroup.style.display = 'block';
                // Í∏∞Î≥∏Ï†ÅÏúºÎ°ú Ï≤´ Î≤àÏß∏ Î∂ÄÎ™®Îãò Ï†ïÎ≥¥ Ï∂îÍ∞Ä
                if (parentsInfoContainer.children.length === 0) {
                    parentCounter++;
                    const parentInfo = createParentInfo(parentCounter);
                    parentsInfoContainer.appendChild(parentInfo);
                }
            }
        });

        forParentsNo.addEventListener('change', function() {
            if (this.checked) {
                parentsInfoGroup.style.display = 'none';
                // Î∂ÄÎ™®Îãò Ï†ïÎ≥¥ Î™®Îëê ÏÇ≠Ï†ú
                parentsInfoContainer.innerHTML = '';
                parentCounter = 0;
            }
        });

        // ÏûÑÏã† Ï†ïÎ≥¥ ÎùºÎîîÏò§ Î≤ÑÌäº Ïù¥Î≤§Ìä∏
        pregnancyYes.addEventListener('change', function() {
            if (this.checked) {
                pregnancyInfoGroup.style.display = 'block';
                setDateLimits();
            }
        });

        pregnancyNo.addEventListener('change', function() {
            if (this.checked) {
                pregnancyInfoGroup.style.display = 'none';
                // ÏûÑÏã† Ï†ïÎ≥¥ Ï¥àÍ∏∞Ìôî
                document.getElementById('dueDate').value = '';
                document.getElementById('pregnancyWeeks').value = '';
                document.getElementById('pregnancySymptoms').value = '';
                document.getElementById('pregnancyNotes').value = '';
            }
        });

        // Ï∂úÏÇ∞ ÏòàÏ†ïÏùº ÎÇ†Ïßú Ï†úÌïú ÏÑ§Ï†ï
        function setDateLimits() {
            const today = new Date();
            const minDate = new Date(today.getTime() + (30 * 24 * 60 * 60 * 1000)); // 30Ïùº ÌõÑ
            const maxDate = new Date(today.getTime() + (280 * 24 * 60 * 60 * 1000)); // ÏïΩ 40Ï£º ÌõÑ
            
            dueDateInput.min = minDate.toISOString().split('T')[0];
            dueDateInput.max = maxDate.toISOString().split('T')[0];
        }

        // Ï∂úÏÇ∞ ÏòàÏ†ïÏùº ÏûÖÎ†• Ïãú ÏûêÎèôÏúºÎ°ú ÏûÑÏã† Ï£ºÏ∞® Í≥ÑÏÇ∞
        dueDateInput.addEventListener('change', function() {
            if (this.value) {
                const dueDate = new Date(this.value);
                const today = new Date();
                const diffTime = dueDate.getTime() - today.getTime();
                const diffWeeks = Math.ceil(diffTime / (1000 * 60 * 60 * 24 * 7));
                const currentWeek = 40 - diffWeeks; // ÏûÑÏã†ÏùÄ ÏïΩ 40Ï£º
                
                const pregnancyWeeksSelect = document.getElementById('pregnancyWeeks');
                
                // Í≥ÑÏÇ∞Îêú Ï£ºÏ∞®Ïóê ÎßûÎäî ÏòµÏÖò ÏûêÎèô ÏÑ†ÌÉù
                if (currentWeek >= 1 && currentWeek <= 4) {
                    pregnancyWeeksSelect.value = '1-4';
                } else if (currentWeek >= 5 && currentWeek <= 8) {
                    pregnancyWeeksSelect.value = '5-8';
                } else if (currentWeek >= 9 && currentWeek <= 12) {
                    pregnancyWeeksSelect.value = '9-12';
                } else if (currentWeek >= 13 && currentWeek <= 16) {
                    pregnancyWeeksSelect.value = '13-16';
                } else if (currentWeek >= 17 && currentWeek <= 20) {
                    pregnancyWeeksSelect.value = '17-20';
                } else if (currentWeek >= 21 && currentWeek <= 24) {
                    pregnancyWeeksSelect.value = '21-24';
                } else if (currentWeek >= 25 && currentWeek <= 28) {
                    pregnancyWeeksSelect.value = '25-28';
                } else if (currentWeek >= 29 && currentWeek <= 32) {
                    pregnancyWeeksSelect.value = '29-32';
                } else if (currentWeek >= 33 && currentWeek <= 36) {
                    pregnancyWeeksSelect.value = '33-36';
                } else if (currentWeek >= 37 && currentWeek <= 40) {
                    pregnancyWeeksSelect.value = '37-40';
                } else if (currentWeek > 40) {
                    pregnancyWeeksSelect.value = '41+';
                }
            }
        });

        // Î°úÍ∑∏Ïù∏ Ìèº Ï†úÏ∂ú Ïù¥Î≤§Ìä∏
        loginForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const userId = document.getElementById('userId').value;
            const password = document.getElementById('password').value;
            
            if (userId && password) {
                alert(`${userId}Îãò, Î°úÍ∑∏Ïù∏ ÏÑ±Í≥µ! Ïù¥Ï†ú Ï±óÎ¥á ÌôîÎ©¥ÏúºÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§.`);
            }
        });

        // ÌöåÏõêÍ∞ÄÏûÖ ÎßÅÌÅ¨ ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏
        signupLink.addEventListener('click', function(e) {
            e.preventDefault();
            showSignupPage();
        });

        // Í≤åÏä§Ìä∏ Î™®Îìú Í¥ÄÎ†® Ïù¥Î≤§Ìä∏Îì§
        guestBtn.addEventListener('click', function() {
            showGuestModal();
        });

        function showGuestModal() {
            guestModal.classList.add('show');
        }

        function hideGuestModal() {
            guestModal.classList.remove('show');
        }

        provideInfoBtn.addEventListener('click', function() {
            hideGuestModal();
            showSignupPage();
        });

        continueGuestBtn.addEventListener('click', function() {
            hideGuestModal();
            alert('Í≤åÏä§Ìä∏ Î™®ÎìúÎ°ú Ï±óÎ¥áÏùÑ Ïù¥Ïö©ÌïòÏã§ Ïàò ÏûàÏäµÎãàÎã§.\nÎßûÏ∂§ Ï∂îÏ≤úÏùÄ Ï†úÌïúÏ†ÅÏùº Ïàò ÏûàÏñ¥Ïöî.');
        });

        // Ïù¥Ï†Ñ Î≤ÑÌäº ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏Îì§
        backBtn.addEventListener('click', function() {
            showLoginPage();
        });

        personalInfoBackBtn.addEventListener('click', function() {
            showSignupPageFromPersonalInfo();
        });

        medicalProfessionalBackBtn.addEventListener('click', function() { // NEW
            showPersonalInfoPageFromMedical();
        });

        healthConcernsBackBtn.addEventListener('click', function() {
            showMedicalProfessionalPageFromHealthConcerns(); // ÏàòÏ†ïÎê®
        });

        chatbotSettingsBackBtn.addEventListener('click', function() {
            showHealthConcernsPageFromChatbotSettings();
        });

        currentSupplementsBackBtn.addEventListener('click', function() {
            showChatbotSettingsPageFromCurrentSupplements();
        });

        goToMainBtn.addEventListener('click', function() {
            goToMainPage();
        });

        // ÎãâÎÑ§ÏûÑ Ï∂îÏ≤ú Í∏∞Îä•
        const nicknamePool = [
            'Í±¥Í∞ïÌïúÌÜ†ÎÅº', 'ÌôúÎ†•Ï∂©Ï†Ñ', 'ÏòÅÏñëÎßåÏ†ê', 'Ìó¨ÏãúÎùºÏù¥ÌîÑ', 'ÎπÑÌÉÄÎØºÌÇπ',
            'Ïõ∞ÎπôÎßàÏä§ÌÑ∞', 'Í±¥Í∞ïÏßÄÌÇ¥Ïù¥', 'ÏóêÎÑàÏßÄÎ∂ÄÏä§ÌÑ∞', 'ÎùºÏù¥ÌîÑÏºÄÏñ¥', 'Ìó¨Ïä§Í∞ÄÎîîÏñ∏',
            'ÏòÅÏñëÏÇ¨ÏπúÍµ¨', 'Í±¥Í∞ïÌïúÌïòÎ£®', 'ÌôúÍ∏∞Ï∞¨ÏÉùÌôú', 'Ïõ∞ÎãàÏä§Îß®', 'Ìó¨Ïä§Î©îÏù¥Ìä∏'
        ];

        recommendBtn.addEventListener('click', function() {
            const suggestions = document.getElementById('nicknameSuggestions');
            const randomNicknames = [];
            
            while (randomNicknames.length < 5) {
                const randomNick = nicknamePool[Math.floor(Math.random() * nicknamePool.length)];
                if (!randomNicknames.includes(randomNick)) {
                    randomNicknames.push(randomNick);
                }
            }
            
            suggestions.innerHTML = '';
            randomNicknames.forEach(nick => {
                const item = document.createElement('div');
                item.className = 'suggestion-item';
                item.textContent = nick;
                item.addEventListener('click', function() {
                    document.getElementById('nickname').value = nick;
                    suggestions.style.display = 'none';
                });
                suggestions.appendChild(item);
            });
            
            suggestions.style.display = 'block';
        });

        // ÎãâÎÑ§ÏûÑ Ï§ëÎ≥µÌôïÏù∏ Í∏∞Îä•
        const existingNicknames = ['admin', 'test', 'Í±¥Í∞ïÏù¥', 'user123'];

        checkNicknameBtn.addEventListener('click', function() {
            const nickname = document.getElementById('nickname').value;
            const validation = document.getElementById('nicknameValidation');
            
            if (!nickname) {
                validation.textContent = 'ÎãâÎÑ§ÏûÑÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.';
                validation.className = 'validation-message error';
                return;
            }
            
            if (existingNicknames.includes(nickname)) {
                validation.textContent = 'Ïù¥ÎØ∏ ÏÇ¨Ïö©Ï§ëÏù∏ ÎãâÎÑ§ÏûÑÏûÖÎãàÎã§.';
                validation.className = 'validation-message error';
                checkNicknameBtn.textContent = 'Ï§ëÎ≥µÌôïÏù∏';
                checkNicknameBtn.className = 'action-button';
            } else {
                validation.textContent = 'ÏÇ¨Ïö© Í∞ÄÎä•Ìïú ÎãâÎÑ§ÏûÑÏûÖÎãàÎã§.';
                validation.className = 'validation-message success';
                checkNicknameBtn.textContent = 'ÌôïÏù∏ÏôÑÎ£å';
                checkNicknameBtn.className = 'action-button success';
            }
        });

        // ÌöåÏõêÍ∞ÄÏûÖ Ìèº Ï†úÏ∂ú Ïù¥Î≤§Ìä∏
        signupForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const nickname = document.getElementById('nickname').value;
            const realName = document.getElementById('realName').value;
            const userId = document.getElementById('signupUserId').value;
            const password = document.getElementById('signupPassword').value;
            
            if (!nickname || !realName || !userId || !password) {
                alert('Î™®Îì† ÌïÑÏàò Ìï≠Î™©ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.');
                return;
            }
            
            if (checkNicknameBtn.textContent !== 'ÌôïÏù∏ÏôÑÎ£å') {
                alert('ÎãâÎÑ§ÏûÑ Ï§ëÎ≥µÌôïÏù∏ÏùÑ ÏôÑÎ£åÌï¥Ï£ºÏÑ∏Ïöî.');
                return;
            }
            
            showPersonalInfoPage();
        });

        // Í∞úÏù∏Ï†ïÎ≥¥ Ìèº Ï†úÏ∂ú Ïù¥Î≤§Ìä∏ (ÏàòÏ†ïÎê®)
        personalInfoForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const gender = document.querySelector('input[name="gender"]:checked');
            const age = document.getElementById('age').value;
            const pregnancy = document.querySelector('input[name="pregnancy"]:checked');
            const hasChildren = document.querySelector('input[name="hasChildren"]:checked');
            const forParents = document.querySelector('input[name="forParents"]:checked');
            
            if (!gender || !age || !pregnancy || !hasChildren || !forParents) {
                alert('Î™®Îì† ÌïÑÏàò Ìï≠Î™©ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.');
                return;
            }
            
            if (age < 1 || age > 120) {
                alert('Ïò¨Î∞îÎ•∏ ÎÇòÏù¥Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.');
                return;
            }

            // ÏûÑÏÇ∞Î∂ÄÏù∏ Í≤ΩÏö∞ Ï∂úÏÇ∞ ÏòàÏ†ïÏùº ÌôïÏù∏
            if (pregnancy.value === 'yes') {
                const dueDate = document.getElementById('dueDate').value;
                if (!dueDate) {
                    alert('Ï∂úÏÇ∞ ÏòàÏ†ïÏùºÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.');
                    return;
                }
            }
            
            showMedicalProfessionalPage(); // ÏùòÎ£åÏßÑ ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô
        });

        // ÏùòÎ£åÏßÑ Ï†ïÎ≥¥ Ìèº Ï†úÏ∂ú Ïù¥Î≤§Ìä∏ (NEW)
        medicalProfessionalForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const isMedicalProfessional = document.querySelector('input[name="isMedicalProfessional"]:checked');
            
            if (!isMedicalProfessional) {
                alert('ÏùòÏïΩÍ≥ÑÏó¥ Ï¢ÖÏÇ¨ Ïó¨Î∂ÄÎ•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.');
                return;
            }
            
            if (isMedicalProfessional.value === 'yes') {
                const selectedTypes = document.querySelectorAll('input[name="medicalType"]:checked');
                if (selectedTypes.length === 0) {
                    alert('Ï†ÑÎ¨∏ Î∂ÑÏïºÎ•º ÏµúÏÜå 1Í∞ú Ïù¥ÏÉÅ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.');
                    return;
                }
            }
            
            // Ìèº Îç∞Ïù¥ÌÑ∞ ÏàòÏßë Î∞è Î°úÍπÖ
            const formData = new FormData();
            formData.append('isMedicalProfessional', isMedicalProfessional.value);
            
            if (isMedicalProfessional.value === 'yes') {
                const selectedTypes = Array.from(document.querySelectorAll('input[name="medicalType"]:checked'))
                    .map(input => input.value);
                formData.append('medicalTypes', JSON.stringify(selectedTypes));
                formData.append('licenseNumber', document.getElementById('licenseNumber').value);
                formData.append('specialization', document.getElementById('specialization').value);
                formData.append('workplace', document.getElementById('workplace').value);
                formData.append('experience', document.getElementById('experience').value);
                
                uploadedLicenseFiles.forEach((file, index) => {
                    formData.append(`licensePhoto_${index}`, file);
                });
            }
            
            console.log('ÏùòÎ£åÏßÑ Ï†ïÎ≥¥:', {
                isMedicalProfessional: isMedicalProfessional.value,
                medicalTypes: isMedicalProfessional.value === 'yes' ? 
                    Array.from(document.querySelectorAll('input[name="medicalType"]:checked')).map(input => input.value) : [],
                licenseFiles: uploadedLicenseFiles.length
            });
            
            showHealthConcernsPage(); // Í±¥Í∞ï Í≥†ÎØº ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô
        });

        // Í±¥Í∞ïÍ≥†ÎØº Ìèº Ï†úÏ∂ú Ïù¥Î≤§Ìä∏
        healthConcernsForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const selectedConcerns = document.querySelectorAll('input[name="concerns"]:checked');
            const customConcerns = document.querySelectorAll('.custom-concern-tag');
            
            if (selectedConcerns.length === 0 && customConcerns.length === 0) {
                alert('ÏµúÏÜå 1Í∞ú Ïù¥ÏÉÅÏùò Í±¥Í∞ï Í≥†ÎØºÏùÑ ÏÑ†ÌÉùÌïòÍ±∞ÎÇò ÏßÅÏ†ë ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.');
                return;
            }
            
            showChatbotSettingsPage();
        });

        // Ï±óÎ¥áÏÑ§Ï†ï Í¥ÄÎ†® Ïù¥Î≤§Ìä∏
        const setRoleYes = document.getElementById('setRoleYes');
        const setRoleNo = document.getElementById('setRoleNo');
        const toneSelectionGroup = document.getElementById('toneSelectionGroup');
        const toneRadios = document.querySelectorAll('input[name="tone"]');

        setRoleYes.addEventListener('change', function() {
            if (this.checked) {
                toneSelectionGroup.style.display = 'block';
                toneRadios.forEach(radio => {
                    radio.required = true;
                });
            }
        });

        setRoleNo.addEventListener('change', function() {
            if (this.checked) {
                toneSelectionGroup.style.display = 'none';
                toneRadios.forEach(radio => {
                    radio.required = false;
                    radio.checked = false;
                });
            }
        });

        // Ï±óÎ¥áÏÑ§Ï†ï Ìèº Ï†úÏ∂ú Ïù¥Î≤§Ìä∏
        chatbotSettingsForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const setRole = document.querySelector('input[name="setRole"]:checked');
            
            if (!setRole) {
                alert('Ï±óÎ¥á Ïó≠Ìï† ÏÑ§Ï†ï Ïó¨Î∂ÄÎ•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.');
                return;
            }
            
            if (setRole.value === 'yes') {
                const tone = document.querySelector('input[name="tone"]:checked');
                if (!tone) {
                    alert('ÎßêÌà¨Î•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.');
                    return;
                }
                
                // Ïª§Ïä§ÌÖÄ ÎßêÌà¨ ÏÑ†ÌÉù Ïãú ÏûÖÎ†•Í∞í ÌôïÏù∏
                if (tone.value === 'custom') {
                    const customTone = customToneInput.value.trim();
                    if (!customTone) {
                        alert('ÏõêÌïòÎäî ÎßêÌà¨Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.');
                        return;
                    }
                }
            }
            
            showCurrentSupplementsPage();
        });

        
        // ÌååÏùº ÏóÖÎ°úÎìú Í¥ÄÎ†® Î≥ÄÏàò
        let uploadedFiles = [];

        // ÏòÅÏñëÏ†ú Í¥ÄÎ†® Ïù¥Î≤§Ìä∏ (Í∏∞Ï°¥ ÏΩîÎìú ÏàòÏ†ï)
        const takingSupplementsYes = document.getElementById('takingSupplementsYes');
        const takingSupplementsNo = document.getElementById('takingSupplementsNo');
        const supplementsList = document.getElementById('supplementsList');

        takingSupplementsYes.addEventListener('change', function() {
            if (this.checked) {
                supplementsList.style.display = 'block';
            }
        });

        takingSupplementsNo.addEventListener('change', function() {
            if (this.checked) {
                supplementsList.style.display = 'none';
                clearFiles(); // ÌååÏùº Ï¥àÍ∏∞Ìôî
                const customList = document.getElementById('customSupplementsList');
                customList.innerHTML = '';
                document.getElementById('customSupplement').value = '';
            }
        });

        // ÌååÏùº ÏóÖÎ°úÎìú Í¥ÄÎ†® ÏöîÏÜåÎì§
        const uploadArea = document.getElementById('uploadArea');
        const fileInput = document.getElementById('fileInput');
        const previewContainer = document.getElementById('previewContainer');
        const previewGrid = document.getElementById('previewGrid');
        const fileCount = document.getElementById('fileCount');

        // ÎìúÎûòÍ∑∏ Ïï§ ÎìúÎ°≠ Ïù¥Î≤§Ìä∏
        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.classList.add('dragover');
        });

        uploadArea.addEventListener('dragleave', () => {
            uploadArea.classList.remove('dragover');
        });

        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.classList.remove('dragover');
            const files = Array.from(e.dataTransfer.files);
            handleFiles(files);
        });

        // ÌååÏùº ÏÑ†ÌÉù Ïù¥Î≤§Ìä∏
        fileInput.addEventListener('change', (e) => {
            const files = Array.from(e.target.files);
            handleFiles(files);
        });

        function handleFiles(files) {
            const imageFiles = files.filter(file => file.type.startsWith('image/'));
            
            if (imageFiles.length === 0) {
                alert('Ïù¥ÎØ∏ÏßÄ ÌååÏùºÎßå ÏóÖÎ°úÎìúÌï† Ïàò ÏûàÏäµÎãàÎã§.');
                return;
            }

            imageFiles.forEach(file => {
                if (file.size > 10 * 1024 * 1024) { // 10MB Ï†úÌïú
                    alert(`ÌååÏùº "${file.name}"Ïù¥ ÎÑàÎ¨¥ ÌÅΩÎãàÎã§. 10MB Ïù¥ÌïòÏùò ÌååÏùºÎßå ÏóÖÎ°úÎìúÌï† Ïàò ÏûàÏäµÎãàÎã§.`);
                    return;
                }

                if (uploadedFiles.length >= 10) { // ÏµúÎåÄ 10Í∞ú ÌååÏùº
                    alert('ÏµúÎåÄ 10Í∞úÏùò ÌååÏùºÎßå ÏóÖÎ°úÎìúÌï† Ïàò ÏûàÏäµÎãàÎã§.');
                    return;
                }

                uploadedFiles.push(file);
                createPreview(file);
            });

            updateFileCount();
            showPreviewContainer();
        }

        function createPreview(file) {
            const reader = new FileReader();
            reader.onload = (e) => {
                const previewItem = document.createElement('div');
                previewItem.className = 'preview-item';
                previewItem.innerHTML = `
                    <img src="${e.target.result}" alt="ÎØ∏Î¶¨Î≥¥Í∏∞" class="preview-image">
                    <button class="remove-btn" onclick="removeFile('${file.name}')" title="ÏÇ≠Ï†ú">√ó</button>
                `;
                previewGrid.appendChild(previewItem);
            };
            reader.readAsDataURL(file);
        }

        function removeFile(fileName) {
            uploadedFiles = uploadedFiles.filter(file => file.name !== fileName);
            updatePreviewGrid();
            updateFileCount();
            
            if (uploadedFiles.length === 0) {
                hidePreviewContainer();
            }
        }

        function updatePreviewGrid() {
            previewGrid.innerHTML = '';
            uploadedFiles.forEach(file => {
                createPreview(file);
            });
        }

        function updateFileCount() {
            fileCount.textContent = `ÏóÖÎ°úÎìúÎêú ÌååÏùº: ${uploadedFiles.length}Í∞ú`;
        }

        function showPreviewContainer() {
            previewContainer.style.display = 'block';
        }

        function hidePreviewContainer() {
            previewContainer.style.display = 'none';
        }

        function clearFiles() {
            uploadedFiles = [];
            previewGrid.innerHTML = '';
            hidePreviewContainer();
            fileInput.value = '';
        }

        // Ïª§Ïä§ÌÖÄ ÏòÅÏñëÏ†ú Ï∂îÍ∞Ä Í∏∞Îä• (Í∏∞Ï°¥ ÏΩîÎìú Ïú†ÏßÄ)
        const addSupplementBtn = document.getElementById('addSupplementBtn');
        const customSupplementInput = document.getElementById('customSupplement');
        const customSupplementsList = document.getElementById('customSupplementsList');

        addSupplementBtn.addEventListener('click', function() {
            const supplementName = customSupplementInput.value.trim();
            if (supplementName) {
                addCustomSupplement(supplementName);
                customSupplementInput.value = '';
            }
        });

        customSupplementInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                const supplementName = this.value.trim();
                if (supplementName) {
                    addCustomSupplement(supplementName);
                    this.value = '';
                }
            }
        });

        function addCustomSupplement(name) {
            const tag = document.createElement('div');
            tag.className = 'custom-supplement-tag';
            tag.innerHTML = `
                ${name}
                <button type="button" class="remove-supplement" onclick="this.parentElement.remove()">√ó</button>
            `;
            customSupplementsList.appendChild(tag);
        }

        // ÌòÑÏû¨ÏòÅÏñëÏ†ú Ìèº Ï†úÏ∂ú Ïù¥Î≤§Ìä∏ (ÏàòÏ†ïÎê®)
        currentSupplementsForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const takingSupplements = document.querySelector('input[name="takingSupplements"]:checked');
            
            if (!takingSupplements) {
                alert('ÏòÅÏñëÏ†ú Î≥µÏö© Ïó¨Î∂ÄÎ•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.');
                return;
            }
            
            if (takingSupplements.value === 'yes' && uploadedFiles.length === 0) {
                const customSupplements = document.querySelectorAll('.custom-supplement-tag');
                if (customSupplements.length === 0) {
                    alert('ÏòÅÏñëÏ†ú ÏÇ¨ÏßÑÏùÑ ÏóÖÎ°úÎìúÌïòÍ±∞ÎÇò ÏßÅÏ†ë ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.');
                    return;
                }
            }
            
            // Ìèº Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ± (Ïã§Ï†ú ÏÑúÎ≤Ñ Ï†ÑÏÜ°Ïö©)
            const formData = new FormData();
            formData.append('takingSupplements', takingSupplements.value);
            
            uploadedFiles.forEach((file, index) => {
                formData.append(`supplementPhoto_${index}`, file);
            });
            
            // Ïª§Ïä§ÌÖÄ ÏòÅÏñëÏ†ú Ï∂îÍ∞Ä
            const customSupplements = Array.from(document.querySelectorAll('.custom-supplement-tag')).map(tag => 
                tag.textContent.replace('√ó', '').trim()
            );
            formData.append('customSupplements', JSON.stringify(customSupplements));
            
            console.log('ÏòÅÏñëÏ†ú Ï†ïÎ≥¥:', {
                takingSupplements: takingSupplements.value,
                fileCount: uploadedFiles.length,
                files: uploadedFiles.map(f => f.name),
                customSupplements: customSupplements
            });
            
            showSignupCompletePage();
        });

        // Ìè≠Ï£Ω Ïï†ÎãàÎ©îÏù¥ÏÖò Ìï®Ïàò
        function startFireworks() {
            const container = document.getElementById('fireworksContainer');
            container.innerHTML = ''; // Í∏∞Ï°¥ Ìè≠Ï£Ω Ï†úÍ±∞
            
            // Ïó¨Îü¨ Î≤àÏùò Ìè≠Ï£Ω Î∞úÏÇ¨
            setTimeout(() => createFirework(150, 200), 300);
            setTimeout(() => createFirework(250, 150), 600);
            setTimeout(() => createFirework(100, 250), 900);
            setTimeout(() => createFirework(300, 180), 1200);
            setTimeout(() => createFirework(200, 100), 1500);
            setTimeout(() => createFirework(80, 300), 1800);
            setTimeout(() => createFirework(320, 250), 2100);
            
            // Î∞òÏßùÏûÑ Ìö®Í≥º Ï∂îÍ∞Ä
            for (let i = 0; i < 20; i++) {
                setTimeout(() => createSparkle(), Math.random() * 3000);
            }
        }

        function createFirework(x, y) {
            const container = document.getElementById('fireworksContainer');
            const colors = ['color1', 'color2', 'color3', 'color4', 'color5', 'color6', 'color7', 'color8'];
            
            // Ï§ëÏã¨Ï†êÏóêÏÑú ÌçºÏßÄÎäî ÌååÌã∞ÌÅ¥Îì§ ÏÉùÏÑ±
            for (let i = 0; i < 12; i++) {
                const firework = document.createElement('div');
                firework.className = `firework ${colors[Math.floor(Math.random() * colors.length)]}`;
                
                // ÎûúÎç§Ìïú Î∞©Ìñ•ÏúºÎ°ú ÌçºÏßÄÎäî Ìö®Í≥º
                const angle = (i * 30) * Math.PI / 180;
                const distance = 80 + Math.random() * 40;
                const dx = Math.cos(angle) * distance;
                const dy = Math.sin(angle) * distance;
                
                firework.style.left = x + 'px';
                firework.style.top = y + 'px';
                firework.style.setProperty('--dx', dx + 'px');
                firework.style.setProperty('--dy', dy + 'px');
                
                container.appendChild(firework);
                
                // Ïï†ÎãàÎ©îÏù¥ÏÖò ÏôÑÎ£å ÌõÑ Ï†úÍ±∞
                setTimeout(() => {
                    if (firework.parentNode) {
                        firework.parentNode.removeChild(firework);
                    }
                }, 2000);
            }
        }

        function createSparkle() {
            const container = document.getElementById('fireworksContainer');
            const sparkle = document.createElement('div');
            sparkle.className = 'sparkle';
            
            // ÎûúÎç§ ÏúÑÏπò
            sparkle.style.left = Math.random() * 375 + 'px';
            sparkle.style.top = Math.random() * 500 + 100 + 'px';
            
            container.appendChild(sparkle);
            
            // Ïï†ÎãàÎ©îÏù¥ÏÖò ÏôÑÎ£å ÌõÑ Ï†úÍ±∞
            setTimeout(() => {
                if (sparkle.parentNode) {
                    sparkle.parentNode.removeChild(sparkle);
                }
            }, 1500);
        }

        // ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ ÏöîÏïΩ ÏÉùÏÑ± Ìï®Ïàò (ÏàòÏ†ïÎê® - ÏùòÎ£åÏßÑ Ï†ïÎ≥¥ Ï∂îÍ∞Ä)
        function generateCompleteSummary() {
            const nickname = document.getElementById('nickname').value;
            const realName = document.getElementById('realName').value;
            const age = document.getElementById('age').value;
            const gender = document.querySelector('input[name="gender"]:checked');
            const selectedConcerns = document.querySelectorAll('input[name="concerns"]:checked');
            const customConcerns = document.querySelectorAll('.custom-concern-tag');
            const setRole = document.querySelector('input[name="setRole"]:checked');
            const tone = document.querySelector('input[name="tone"]:checked');
            const takingSupplements = document.querySelector('input[name="takingSupplements"]:checked');
            const hasChildren = document.querySelector('input[name="hasChildren"]:checked');
            const forParents = document.querySelector('input[name="forParents"]:checked');
            const isMedicalProfessional = document.querySelector('input[name="isMedicalProfessional"]:checked'); // NEW
            
            let summaryHTML = '';
            
            // Í∏∞Î≥∏ Ï†ïÎ≥¥
            summaryHTML += `
                <div class="summary-item">
                    <span class="summary-label">Ïù¥Î¶Ñ</span>
                    <span class="summary-value">${realName} (${nickname})</span>
                </div>
                <div class="summary-item">
                    <span class="summary-label">ÎÇòÏù¥/ÏÑ±Î≥Ñ</span>
                    <span class="summary-value">${age}ÏÑ∏ / ${gender.value === 'male' ? 'ÎÇ®ÏÑ±' : 'Ïó¨ÏÑ±'}</span>
                </div>
            `;

            // ÏùòÎ£åÏßÑ Ï†ïÎ≥¥ Ï∂îÍ∞Ä (NEW)
            if (isMedicalProfessional && isMedicalProfessional.value === 'yes') {
                const selectedTypes = document.querySelectorAll('input[name="medicalType"]:checked');
                const typeNames = {
                    'doctor': 'ÏùòÏÇ¨',
                    'pharmacist': 'ÏïΩÏÇ¨',
                    'nurse': 'Í∞ÑÌò∏ÏÇ¨',
                    'nutritionist': 'ÏòÅÏñëÏÇ¨',
                    'oriental_doctor': 'ÌïúÏùòÏÇ¨',
                    'dental': 'ÏπòÍ≥ºÏùòÏÇ¨',
                    'veterinarian': 'ÏàòÏùòÏÇ¨',
                    'researcher': 'Ïó∞Íµ¨Ïõê'
                };
                
                const selectedTypeLabels = Array.from(selectedTypes).map(input => typeNames[input.value]);
                
                summaryHTML += `
                    <div class="summary-item">
                        <span class="summary-label">ÏùòÎ£åÏßÑ</span>
                        <span class="summary-value">${selectedTypeLabels.join(', ')} ‚öïÔ∏è</span>
                    </div>
                `;
            }

            // ÏûÑÏã† Ï†ïÎ≥¥
            if (document.querySelector('input[name="pregnancy"]:checked').value === 'yes') {
                const dueDate = document.getElementById('dueDate').value;
                const pregnancyWeeks = document.getElementById('pregnancyWeeks').value;
                
                if (dueDate) {
                    const dueDateObj = new Date(dueDate);
                    const formattedDate = `${dueDateObj.getMonth() + 1}Ïõî ${dueDateObj.getDate()}Ïùº`;
                    summaryHTML += `
                        <div class="summary-item">
                            <span class="summary-label">ÏûÑÏã† ÏÉÅÌÉú</span>
                            <span class="summary-value">ÏòàÏ†ïÏùº: ${formattedDate}</span>
                        </div>
                    `;
                }
                
                if (pregnancyWeeks) {
                    const weekLabels = {
                        '1-4': '1~4Ï£º (1Í∞úÏõî)',
                        '5-8': '5~8Ï£º (2Í∞úÏõî)',
                        '9-12': '9~12Ï£º (3Í∞úÏõî)',
                        '13-16': '13~16Ï£º (4Í∞úÏõî)',
                        '17-20': '17~20Ï£º (5Í∞úÏõî)',
                        '21-24': '21~24Ï£º (6Í∞úÏõî)',
                        '25-28': '25~28Ï£º (7Í∞úÏõî)',
                        '29-32': '29~32Ï£º (8Í∞úÏõî)',
                        '33-36': '33~36Ï£º (9Í∞úÏõî)',
                        '37-40': '37~40Ï£º (10Í∞úÏõî)',
                        '41+': '41Ï£º Ïù¥ÏÉÅ'
                    };
                    summaryHTML += `
                        <div class="summary-item">
                            <span class="summary-label">ÏûÑÏã† Ï£ºÏ∞®</span>
                            <span class="summary-value">${weekLabels[pregnancyWeeks]}</span>
                        </div>
                    `;
                }
            }

            summaryHTML += `
                <div class="summary-item">
                    <span class="summary-label">Í±¥Í∞ï Í≥†ÎØº</span>
                    <span class="summary-value">${selectedConcerns.length + customConcerns.length}Í∞ú ÏÑ†ÌÉù</span>
                </div>
            `;

            // ÏûêÎÖÄ Ï†ïÎ≥¥
            if (hasChildren && hasChildren.value === 'yes') {
                const childrenCount = childrenInfoContainer.children.length;
                summaryHTML += `
                    <div class="summary-item">
                        <span class="summary-label">ÏûêÎÖÄ</span>
                        <span class="summary-value">${childrenCount}Î™Ö</span>
                    </div>
                `;
            }

            // Î∂ÄÎ™®Îãò Ï†ïÎ≥¥
            if (forParents && forParents.value === 'yes') {
                const parentsCount = parentsInfoContainer.children.length;
                summaryHTML += `
                    <div class="summary-item">
                        <span class="summary-label">Î∂ÄÎ™®Îãò</span>
                        <span class="summary-value">${parentsCount}Î∂Ñ</span>
                    </div>
                `;
            }
            
            // Ï±óÎ¥á ÏÑ§Ï†ï
            if (setRole.value === 'yes' && tone) {
                let toneDisplay = '';
                if (tone.value === 'custom') {
                    const customTone = customToneInput.value.trim();
                    toneDisplay = `Ïª§Ïä§ÌÖÄ (${customTone})`;
                } else {
                    const toneNames = {
                        'friendly': 'Îã§Ï†ïÌïú Î≤ÑÏ†Ñ',
                        'strict': 'ÏóÑÍ≤©Ìïú Î≤ÑÏ†Ñ',
                        'casual': 'Ìé∏ÏïàÌïú Î≤ÑÏ†Ñ',
                        'professional': 'Ï†ÑÎ¨∏Í∞Ä Î≤ÑÏ†Ñ',
                        'cheerful': 'Î∞ùÏùÄ Î≤ÑÏ†Ñ',
                        'calm': 'Ï∞®Î∂ÑÌïú Î≤ÑÏ†Ñ'
                    };
                    toneDisplay = toneNames[tone.value];
                }
                
                summaryHTML += `
                    <div class="summary-item">
                        <span class="summary-label">Ï±óÎ¥á ÎßêÌà¨</span>
                        <span class="summary-value">${toneDisplay}</span>
                    </div>
                `;
            } else {
                summaryHTML += `
                    <div class="summary-item">
                        <span class="summary-label">Ï±óÎ¥á ÎßêÌà¨</span>
                        <span class="summary-value">Í∏∞Î≥∏ ÏÑ§Ï†ï</span>
                    </div>
                `;
            }
            
            // ÏòÅÏñëÏ†ú Ï†ïÎ≥¥
            if (takingSupplements.value === 'yes') {
                const selectedSupplements = document.querySelectorAll('input[name="supplements"]:checked');
                const customSupplements = document.querySelectorAll('.custom-supplement-tag');
                const totalSupplements = selectedSupplements.length + customSupplements.length;
                summaryHTML += `
                    <div class="summary-item">
                        <span class="summary-label">Î≥µÏö© Ï§ëÏù∏ ÏòÅÏñëÏ†ú</span>
                        <span class="summary-value">${totalSupplements}Í∞ú</span>
                    </div>
                `;
            } else {
                summaryHTML += `
                    <div class="summary-item">
                        <span class="summary-label">Î≥µÏö© Ï§ëÏù∏ ÏòÅÏñëÏ†ú</span>
                        <span class="summary-value">ÏóÜÏùå</span>
                    </div>
                `;
            }
            
            document.getElementById('completeSummary').innerHTML = summaryHTML;
        }

        // ÏûÖÎ†• ÌïÑÎìú Ïã§ÏãúÍ∞Ñ Ïú†Ìö®ÏÑ± Í≤ÄÏÇ¨
        document.getElementById('signupUserId').addEventListener('input', function() {
            const userId = this.value;
            const validation = document.getElementById('userIdValidation');
            
            if (userId.length < 4) {
                validation.textContent = 'ÏïÑÏù¥ÎîîÎäî 4Ïûê Ïù¥ÏÉÅÏù¥Ïñ¥Ïïº Ìï©ÎãàÎã§.';
                validation.className = 'validation-message error';
            } else {
                validation.textContent = 'ÏÇ¨Ïö© Í∞ÄÎä•Ìïú ÏïÑÏù¥ÎîîÏûÖÎãàÎã§.';
                validation.className = 'validation-message success';
            }
        });

        document.getElementById('signupPassword').addEventListener('input', function() {
            const password = this.value;
            const validation = document.getElementById('passwordValidation');
            
            if (password.length < 6) {
                validation.textContent = 'ÎπÑÎ∞ÄÎ≤àÌò∏Îäî 6Ïûê Ïù¥ÏÉÅÏù¥Ïñ¥Ïïº Ìï©ÎãàÎã§.';
                validation.className = 'validation-message error';
            } else {
                validation.textContent = 'ÏÇ¨Ïö© Í∞ÄÎä•Ìïú ÎπÑÎ∞ÄÎ≤àÌò∏ÏûÖÎãàÎã§.';
                validation.className = 'validation-message success';
            }
        });

        // Ïô∏Î∂Ä ÌÅ¥Î¶≠ Ïãú ÎãâÎÑ§ÏûÑ Ï∂îÏ≤ú Î™©Î°ù Ïà®Í∏∞Í∏∞
        document.addEventListener('click', function(e) {
            const suggestions = document.getElementById('nicknameSuggestions');
            if (!e.target.closest('.input-group')) {
                suggestions.style.display = 'none';
            }
        });

        // Î™®Îã¨ Ïô∏Î∂Ä ÌÅ¥Î¶≠ Ïãú Îã´Í∏∞
        guestModal.addEventListener('click', function(e) {
            if (e.target === guestModal) {
                hideGuestModal();
            }
        });

        // ÏûÖÎ†• ÌïÑÎìú Ïï†ÎãàÎ©îÏù¥ÏÖò Ìö®Í≥º
        const inputs = document.querySelectorAll('.input-field');
        inputs.forEach(input => {
            input.addEventListener('focus', function() {
                this.style.transform = 'scale(1.02)';
            });
            
            input.addEventListener('blur', function() {
                this.style.transform = 'scale(1)';
            });
        });

        // ÌéòÏù¥ÏßÄ Î°úÎìú ÌôïÏù∏
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ÌéòÏù¥ÏßÄ Î°úÎìú ÏôÑÎ£å');
        });
    </script>
    </body>
    </html>  