<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê°œì¸ ë§ì¶¤í˜• ì˜ì–‘ì œ ì¶”ì²œ ì±—ë´‡</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: #F2E9E0; /* ë³€ê²½ëœ ë°°ê²½ìƒ‰ */
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .app-container {
            width: 375px;
            height: 812px;
            background: white;
            border-radius: 25px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            overflow: hidden;
            position: relative;
        }

        .screen {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            transition: all 0.5s ease;
        }

        .screen.active {
            opacity: 1;
            transform: translateX(0);
            z-index: 2;
        }

        .screen.inactive {
            opacity: 0;
            transform: translateX(-100%);
            z-index: 1;
        }

        /* Intro Screen */
        .intro-screen {
            background: #F2E9E0; /* ë³€ê²½ëœ ë°°ê²½ìƒ‰ */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 40px;
            position: relative;
        }

        .intro-screen::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400"><circle cx="100" cy="100" r="30" fill="rgba(255,255,255,0.1)"/><circle cx="300" cy="150" r="20" fill="rgba(255,255,255,0.1)"/><circle cx="200" cy="300" r="25" fill="rgba(255,255,255,0.1)"/></svg>');
        }

        .pill-icon {
            width: 120px;
            height: 60px;
            background: linear-gradient(45deg, #EC9787 0%, rgb(236, 151, 135) 100%);
            border-radius: 30px;
            margin-bottom: 30px;
            position: relative;
            box-shadow: 0 10px 30px rgba(236, 151, 135, 0.4);
            z-index: 1;
        }

        .pill-icon::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            width: 2px;
            height: 100%;
            background: rgba(255,255,255,0.3);
        }

        .intro-title {
            font-size: 28px;
            font-weight: bold;
            color: #3d2914;
            text-align: center;
            margin-bottom: 15px;
            text-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 1;
        }

        .intro-subtitle {
            font-size: 16px;
            color: #3d2914;
            text-align: center;
            margin-bottom: 50px;
            line-height: 1.5;
            z-index: 1;
        }

        .start-button {
            background: white;
            color: #A68B6B; /* ë²„íŠ¼ ìƒ‰ìƒì„ ìƒˆ ë°°ê²½ê³¼ ì¡°í™”ë¡­ê²Œ ì¡°ì • */
            border: none;
            padding: 18px 50px;
            border-radius: 25px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            z-index: 1;
        }

        .start-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.3);
        }

        .start-button:active {
            transform: translateY(0);
        }

        /* Login Screen */
        .login-screen {
            background: white;
            display: flex;
            flex-direction: column;
            padding: 60px 40px 40px;
        }

        .login-header {
            text-align: center;
            margin-bottom: 50px;
        }

        .app-logo {
            width: 80px;
            height: 40px;
            background: #EC9787 ; /* ë³€ê²½ëœ ë°°ê²½ìƒ‰ */
            border-radius: 20px;
            margin: 0 auto 20px;
            position: relative;
        }

        .app-logo::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            width: 2px;
            height: 100%;
            background: rgba(255,255,255,0.3);
        }

        .login-title {
            font-size: 24px;
            color: #333;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .login-subtitle {
            font-size: 14px;
            color: #666;
        }

        .login-form {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-label {
            display: block;
            font-size: 14px;
            color: #333;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .input-field {
            width: 100%;
            padding: 16px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: #fafafa;
        }

        .input-field:focus {
            outline: none;
            border-color: #D4C3B1; /* ìƒˆ ë°°ê²½ìƒ‰ê³¼ ì¡°í™”ë¡œìš´ í¬ì»¤ìŠ¤ ìƒ‰ìƒ */
            background: white;
            box-shadow: 0 0 0 3px rgba(212, 195, 177, 0.1);
        }

        .login-button {
            background: #F2E9E0; /* ë³€ê²½ëœ ë°°ê²½ìƒ‰ */
            color: #5D4E37; /* ë” ì§„í•œ ê°ˆìƒ‰ìœ¼ë¡œ ê°€ë…ì„± í–¥ìƒ */
            border: none;
            padding: 18px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
        }

        .login-button:hover {
            transform: translateY(-1px);
            box-shadow: 0 10px 25px rgba(212, 195, 177, 0.4);
            background: #E8DDD1; /* í˜¸ë²„ ì‹œ ì¡°ê¸ˆ ë” ì§„í•œ ìƒ‰ìƒ */
        }

        .bottom-section {
            margin-top: auto;
            padding-top: 30px;
        }

        .signup-link {
            text-align: center;
            margin-bottom: 20px;
        }

        .signup-link a {
            color: #5D4E37;
            text-decoration: none;
            font-weight: 500;
        }

        .guest-access {
            background: #f5f5f5;
            border: 2px solid #e0e0e0;
            color: #666;
            padding: 16px;
            border-radius: 12px;
            text-align: center;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .guest-access:hover {
            background: #eeeeee;
            border-color: #ccc;
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal-overlay.show {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: white;
            width: 300px;
            padding: 30px 25px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            transform: translateY(30px) scale(0.9);
            transition: all 0.3s ease;
        }

        .modal-overlay.show .modal-content {
            transform: translateY(0) scale(1);
        }

        .modal-icon {
            width: 60px;
            height: 60px;
            background: #F2E9E0; /* ë³€ê²½ëœ ë°°ê²½ìƒ‰ */
            border-radius: 50%;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
        }

        .modal-title {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin-bottom: 15px;
            line-height: 1.4;
        }

        .modal-message {
            font-size: 14px;
            color: #666;
            margin-bottom: 25px;
            line-height: 1.5;
        }

        .modal-buttons {
            display: flex;
            gap: 10px;
        }

        .modal-button {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .modal-button.primary {
            background: #F2E9E0; /* ë³€ê²½ëœ ë°°ê²½ìƒ‰ */
            color: #5D4E37;
        }

        .modal-button.primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 5px 15px rgba(212, 195, 177, 0.4);
            background: #E8DDD1;
        }

        .modal-button.secondary {
            background: #f5f5f5;
            color: #666;
            border: 1px solid #e0e0e0;
        }

        .modal-button.secondary:hover {
            background: #eeeeee;
        }

        /* Signup Screen */
        .signup-screen {
            background: white;
            display: flex;
            flex-direction: column;
            padding: 60px 40px 40px;
        }

        .signup-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .signup-title {
            font-size: 24px;
            color: #333;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .signup-subtitle {
            font-size: 14px;
            color: #666;
        }

        .signup-form {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .input-row {
            display: flex;
            gap: 10px;
            align-items: end;
        }

        .input-row .input-group {
            flex: 1;
        }

        .action-button {
            padding: 16px 20px;
            border: 2px solid #D4C3B1; /* ìƒˆ ë°°ê²½ìƒ‰ê³¼ ì¡°í™”ë¡œìš´ ìƒ‰ìƒ */
            background: white;
            color: #A68B6B;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            height: fit-content;
        }

        .action-button:hover {
            background: #D4C3B1;
            color: white;
        }

        .action-button.success {
            border-color: #28a745;
            color: #28a745;
        }

        .action-button.success:hover {
            background: #28a745;
            color: white;
        }

        .recommend-button {
            background: #F2E9E0; /* ë³€ê²½ëœ ë°°ê²½ìƒ‰ */
            border: none;
            color: #5D4E37;
        }

        .recommend-button:hover {
            background: #E8DDD1;
        }

        .form-navigation {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .nav-button {
            flex: 1;
            padding: 16px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nav-button.back {
            background: #f5f5f5;
            color: #666;
            border: 2px solid #e0e0e0;
        }

        .nav-button.back:hover {
            background: #eeeeee;
        }

        .nav-button.create {
            background: #F2E9E0; /* ë³€ê²½ëœ ë°°ê²½ìƒ‰ */
            color: #5D4E37;
        }

        .nav-button.create:hover {
            transform: translateY(-1px);
            box-shadow: 0 10px 25px rgba(212, 195, 177, 0.4);
            background: #E8DDD1;
        }

        .nav-button.create:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .required-notice {
            text-align: center;
            margin-top: 20px;
            font-size: 12px;
            color: #999;
        }

        .validation-message {
            font-size: 12px;
            margin-top: 5px;
            padding: 5px 0;
        }

        .validation-message.success {
            color: #28a745;
        }

        .validation-message.error {
            color: #dc3545;
        }

        .nickname-suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 2px solid #e0e0e0;
            border-top: none;
            border-radius: 0 0 8px 8px;
            max-height: 150px;
            overflow-y: auto;
            z-index: 10;
            display: none;
        }

        .suggestion-item {
            padding: 10px 15px;
            cursor: pointer;
            transition: background 0.2s ease;
            border-bottom: 1px solid #f0f0f0;
        }

        .suggestion-item:hover {
            background: #f8f9fa;
        }

        .suggestion-item:last-child {
            border-bottom: none;
        }

        /* Personal Info Screen Styles */
        .personal-info-screen {
            background: white;
            display: flex;
            flex-direction: column;
            padding: 60px 40px 40px;
            overflow-y: auto;
        }

        .personal-info-screen .signup-form {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .personal-info-content {
            flex: 1;
            padding-bottom: 20px;
        }

        .personal-info-screen::-webkit-scrollbar {
            width: 6px;
        }

        .personal-info-screen::-webkit-scrollbar-track {
            background: #f0f0f0;
            border-radius: 3px;
        }

        .personal-info-screen::-webkit-scrollbar-thumb {
            background: #D4C3B1; /* ë³€ê²½ëœ ìƒ‰ìƒ */
            border-radius: 3px;
            transition: background 0.3s ease;
        }

        .personal-info-screen::-webkit-scrollbar-thumb:hover {
            background: #C4B19F;
        }

        .important-notice {
            background: linear-gradient(135deg, #fff3cd, #ffeaa7);
            border: 2px solid #f39c12;
            border-radius: 12px;
            padding: 15px 20px;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 12px;
            width: 100%;
        }

        .notice-icon {
            font-size: 20px;
            flex-shrink: 0;
        }

        .notice-text {
            font-size: 14px;
            color: #856404;
            font-weight: 500;
            margin: 0;
            line-height: 1.4;
            flex: 1;
        }

        .radio-group {
            display: flex;
            gap: 15px;
            margin-top: 8px;
        }

        .radio-option {
            display: flex;
            align-items: center;
            cursor: pointer;
            padding: 12px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            background: #fafafa;
            transition: all 0.3s ease;
            flex: 1;
            justify-content: center;
        }

        .radio-option:hover {
            border-color: #D4C3B1; /* ë³€ê²½ëœ ìƒ‰ìƒ */
            background: rgba(212, 195, 177, 0.05);
        }

        .radio-option input[type="radio"] {
            margin: 0;
            margin-right: 8px;
            accent-color: #D4C3B1; /* ë³€ê²½ëœ ìƒ‰ìƒ */
        }

        .radio-option input[type="radio"]:checked + .radio-label {
            color: #A68B6B;
            font-weight: 600;
        }

        .radio-option:has(input[type="radio"]:checked) {
            border-color: #D4C3B1;
            background: rgba(212, 195, 177, 0.1);
        }

        .radio-label {
            font-size: 16px;
            color: #333;
            transition: all 0.3s ease;
        }

        /* Child/Parent Info Styles */
        .person-info-item {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
            position: relative;
        }

        .person-info-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .person-info-title {
            font-size: 16px;
            font-weight: 600;
            color: #333;
        }

        .remove-person-btn {
            background: #dc3545;
            color: white;
            border: none;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            font-size: 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .remove-person-btn:hover {
            background: #c82333;
            transform: scale(1.1);
        }

        .person-info-fields {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .person-info-fields .input-group {
            margin-bottom: 0;
        }

        .person-info-fields .input-field {
            padding: 12px;
            font-size: 14px;
        }

        .person-info-fields .input-label {
            font-size: 12px;
            margin-bottom: 5px;
        }

        .add-button {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            border: none;
            padding: 10px 16px;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 6px;
            margin-top: 10px;
            white-space: nowrap;
        }

        .add-button:hover {
            background: linear-gradient(135deg, #218838, #1ba085);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3);
        }

        .add-button::before {
            content: '+';
            font-size: 14px;
            font-weight: bold;
        }

        .custom-concern {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 15px;
            margin-top: 10px;
        }

        .custom-concerns-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }

        .custom-concern-tag {
            background: #D4C3B1; /* ë³€ê²½ëœ ìƒ‰ìƒ */
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .remove-concern {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 14px;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .remove-concern:hover {
            background: rgba(255, 255, 255, 0.5);
        }

        .tone-examples {
            background: rgba(212, 195, 177, 0.1); /* ë³€ê²½ëœ ìƒ‰ìƒ */
            border-radius: 8px;
            padding: 10px 12px;
            margin-top: 8px;
        }

        .health-concerns-screen {
            background: white;
            display: flex;
            flex-direction: column;
            padding: 60px 40px 40px;
            height: 100%;
        }

        .concerns-container {
            flex: 1;
            overflow-y: auto;
            margin-bottom: 20px;
            max-height: calc(100vh - 350px);
            padding-right: 8px;
            scrollbar-width: thin;
            scrollbar-color: #D4C3B1 #f0f0f0; /* ë³€ê²½ëœ ìƒ‰ìƒ */
        }

        .concerns-container::-webkit-scrollbar {
            width: 6px;
        }

        .concerns-container::-webkit-scrollbar-track {
            background: #f0f0f0;
            border-radius: 3px;
        }

        .concerns-container::-webkit-scrollbar-thumb {
            background: #D4C3B1; /* ë³€ê²½ëœ ìƒ‰ìƒ */
            border-radius: 3px;
            transition: background 0.3s ease;
        }

        .concerns-container::-webkit-scrollbar-thumb:hover {
            background: #C4B19F;
        }

        .scroll-indicator {
            text-align: center;
            color: #999;
            font-size: 12px;
            margin-bottom: 10px;
            animation: bounce 2s infinite;
            transition: all 0.3s ease;
            opacity: 1;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-5px);
            }
            60% {
                transform: translateY(-3px);
            }
        }

        .concern-item {
            margin-bottom: 12px;
        }

        .checkbox-option {
            display: flex;
            align-items: flex-start;
            cursor: pointer;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            background: #fafafa;
            transition: all 0.3s ease;
            gap: 12px;
        }

        .checkbox-option:hover {
            border-color: #D4C3B1; /* ë³€ê²½ëœ ìƒ‰ìƒ */
            background: rgba(212, 195, 177, 0.05);
        }

        .checkbox-option input[type="checkbox"] {
            margin: 0;
            accent-color: #D4C3B1; /* ë³€ê²½ëœ ìƒ‰ìƒ */
            transform: scale(1.2);
            flex-shrink: 0;
            margin-top: 2px;
        }

        .checkbox-option input[type="checkbox"]:checked + .checkbox-label {
            color: #A68B6B;
            font-weight: 600;
        }

        .checkbox-option:has(input[type="checkbox"]:checked) {
            border-color: #D4C3B1;
            background: rgba(212, 195, 177, 0.1);
        }

        .checkbox-label {
            font-size: 14px;
            color: #333;
            transition: all 0.3s ease;
            line-height: 1.4;
            flex: 1;
        }

        /* ê¸°íƒ€ ê¸°ì¡´ ìŠ¤íƒ€ì¼ë“¤ (chatbot settings, supplements, complete screen ë“±) */
        .chatbot-settings-screen {
            background: white;
            display: flex;
            flex-direction: column;
            padding: 60px 40px 40px;
            overflow-y: auto;
        }

        .tone-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 8px;
        }

        .tone-option {
            display: flex;
            align-items: flex-start;
            cursor: pointer;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            background: #fafafa;
            transition: all 0.3s ease;
            gap: 12px;
        }

        .tone-option:hover {
            border-color: #D4C3B1; /* ë³€ê²½ëœ ìƒ‰ìƒ */
            background: rgba(212, 195, 177, 0.05);
        }

        .tone-option input[type="radio"] {
            margin: 0;
            accent-color: #D4C3B1; /* ë³€ê²½ëœ ìƒ‰ìƒ */
            transform: scale(1.2);
            flex-shrink: 0;
            margin-top: 2px;
        }

        .tone-option input[type="radio"]:checked + .tone-label .tone-title {
            color: #A68B6B;
            font-weight: 600;
        }

        .tone-option:has(input[type="radio"]:checked) {
            border-color: #D4C3B1;
            background: rgba(212, 195, 177, 0.1);
        }

        .tone-label {
            display: flex;
            flex-direction: column;
            gap: 4px;
            flex: 1;
        }

        .tone-title {
            font-size: 16px;
            font-weight: 500;
            color: #333;
            transition: all 0.3s ease;
        }

        .tone-description {
            font-size: 13px;
            color: #666;
            line-height: 1.3;
        }

        /* Current Supplements Screen Styles */
        .current-supplements-screen {
            background: white;
            display: flex;
            flex-direction: column;
            padding: 60px 40px 40px;
            overflow-y: auto;
        }

        .supplements-checkboxes {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 15px 0;
        }

        .supplement-checkbox {
            display: flex;
            align-items: center;
            cursor: pointer;
            padding: 10px 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            background: #fafafa;
            transition: all 0.3s ease;
            gap: 8px;
        }

        .supplement-checkbox:hover {
            border-color: #D4C3B1; /* ë³€ê²½ëœ ìƒ‰ìƒ */
            background: rgba(212, 195, 177, 0.05);
        }

        .supplement-checkbox input[type="checkbox"] {
            margin: 0;
            accent-color: #D4C3B1; /* ë³€ê²½ëœ ìƒ‰ìƒ */
            transform: scale(1.1);
        }

        .supplement-checkbox input[type="checkbox"]:checked + .supplement-label {
            color: #A68B6B;
            font-weight: 600;
        }

        .supplement-checkbox:has(input[type="checkbox"]:checked) {
            border-color: #D4C3B1;
            background: rgba(212, 195, 177, 0.1);
        }

        .supplement-label {
            font-size: 14px;
            color: #333;
            transition: all 0.3s ease;
            line-height: 1.2;
        }

        .custom-supplement {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
        }

        .custom-input-container {
            display: flex;
            gap: 10px;
            align-items: end;
            margin-bottom: 15px;
        }

        .custom-input-container .input-group {
            flex: 1;
            margin-bottom: 0;
        }

        .custom-supplements-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .custom-supplement-tag {
            background: #D4C3B1; /* ë³€ê²½ëœ ìƒ‰ìƒ */
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .remove-supplement {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 14px;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .remove-supplement:hover {
            background: rgba(255, 255, 255, 0.5);
        }

        /* Signup Complete Screen Styles */
        .signup-complete-screen {
            background: #F2E9E0; /* ë³€ê²½ëœ ë°°ê²½ìƒ‰ */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 40px;
            position: relative;
            text-align: center;
            overflow: hidden;
        }

        .signup-complete-screen::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400"><circle cx="100" cy="100" r="30" fill="rgba(255,255,255,0.1)"/><circle cx="300" cy="150" r="20" fill="rgba(255,255,255,0.1)"/><circle cx="200" cy="300" r="25" fill="rgba(255,255,255,0.1)"/></svg>');
        }

        /* í­ì£½ ì• ë‹ˆë©”ì´ì…˜ */
        .fireworks-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            overflow: hidden;
        }

        .firework {
            position: absolute;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            opacity: 1;
        }

        .firework.color1 { background: #ff6b6b; box-shadow: 0 0 6px #ff6b6b; }
        .firework.color2 { background: #4ecdc4; box-shadow: 0 0 6px #4ecdc4; }
        .firework.color3 { background: #45b7d1; box-shadow: 0 0 6px #45b7d1; }
        .firework.color4 { background: #96ceb4; box-shadow: 0 0 6px #96ceb4; }
        .firework.color5 { background: #feca57; box-shadow: 0 0 6px #feca57; }
        .firework.color6 { background: #ff9ff3; box-shadow: 0 0 6px #ff9ff3; }
        .firework.color7 { background: #54a0ff; box-shadow: 0 0 6px #54a0ff; }
        .firework.color8 { background: #5f27cd; box-shadow: 0 0 6px #5f27cd; }

        .firework-explode {
            animation: fireworkExplode 1.5s ease-out forwards;
        }

        @keyframes fireworkExplode {
            0% {
                transform: translate(0, 0) scale(1);
                opacity: 1;
            }
            50% {
                opacity: 1;
            }
            100% {
                transform: translate(var(--dx), var(--dy)) scale(0.2);
                opacity: 0;
            }
        }

        .sparkle {
            position: absolute;
            width: 6px;
            height: 6px;
            background: #ffd700;
            border-radius: 50%;
            box-shadow: 0 0 8px #ffd700;
        }

        .sparkle-animate {
            animation: sparkleAnimation 2s ease-out forwards;
        }

        @keyframes sparkleAnimation {
            0% {
                transform: scale(0) rotate(0deg);
                opacity: 1;
            }
            50% {
                transform: scale(1.5) rotate(180deg);
                opacity: 1;
            }
            100% {
                transform: scale(0) rotate(360deg);
                opacity: 0;
            }
        }

        .complete-content {
            z-index: 2;
            position: relative;
        }

        .celebration-icon {
            font-size: 100px;
            margin-bottom: 20px;
            animation: celebrationBounce 1.5s ease-out;
            filter: drop-shadow(0 0 20px rgba(255, 215, 0, 0.6));
        }

        @keyframes celebrationBounce {
            0% {
                transform: scale(0) rotate(-180deg);
                opacity: 0;
            }
            50% {
                transform: scale(1.3) rotate(0deg);
                opacity: 0.8;
            }
            100% {
                transform: scale(1) rotate(0deg);
                opacity: 1;
            }
        }

        .success-icon {
            display: none; /* ê¸°ì¡´ ì•„ì´ì½˜ ìˆ¨ê¹€ */
        }

        .complete-title {
            font-size: 32px;
            font-weight: bold;
            color: #5D4E37; /* ë” ì§„í•œ ê°ˆìƒ‰ìœ¼ë¡œ ê°€ë…ì„± í–¥ìƒ */
            margin-bottom: 15px;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
            animation: titleSlideIn 1s ease-out 0.5s both;
        }

        @keyframes titleSlideIn {
            0% {
                transform: translateY(30px);
                opacity: 0;
            }
            100% {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .complete-message {
            font-size: 18px;
            color: #5D4E37; /* ë” ì§„í•œ ê°ˆìƒ‰ìœ¼ë¡œ ê°€ë…ì„± í–¥ìƒ */
            margin-bottom: 30px;
            line-height: 1.6;
            animation: messageSlideIn 1s ease-out 0.8s both;
            font-weight: 500;
        }

        @keyframes messageSlideIn {
            0% {
                transform: translateY(20px);
                opacity: 0;
            }
            100% {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .complete-summary {
            background: rgba(255, 255, 255, 0.8); /* ë°˜íˆ¬ëª… í°ìƒ‰ìœ¼ë¡œ ê°€ë…ì„± í–¥ìƒ */
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 35px;
            backdrop-filter: blur(15px);
            border: 2px solid rgba(212, 195, 177, 0.3); /* ìƒˆ ë°°ê²½ìƒ‰ê³¼ ì¡°í™”ë¡œìš´ í…Œë‘ë¦¬ */
            animation: summarySlideIn 1s ease-out 1.1s both;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        @keyframes summarySlideIn {
            0% {
                transform: translateY(30px) scale(0.9);
                opacity: 0;
            }
            100% {
                transform: translateY(0) scale(1);
                opacity: 1;
            }
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            color: #5D4E37; /* ë” ì§„í•œ ê°ˆìƒ‰ìœ¼ë¡œ ê°€ë…ì„± í–¥ìƒ */
            font-size: 14px;
        }

        .summary-item:last-child {
            margin-bottom: 0;
        }

        .summary-label {
            font-weight: 500;
        }

        .summary-value {
            font-weight: 600;
            text-align: right;
        }

        .complete-button {
            background: linear-gradient(135deg, #ffffff, #f8f9fa);
            color: #A68B6B; /* ìƒˆ ë°°ê²½ìƒ‰ê³¼ ì¡°í™”ë¡œìš´ ìƒ‰ìƒ */
            border: none;
            padding: 20px 45px;
            border-radius: 30px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 12px 35px rgba(0,0,0,0.25);
            transition: all 0.3s ease;
            animation: buttonSlideIn 1s ease-out 1.4s both;
            position: relative;
            overflow: hidden;
        }

        .complete-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: left 0.5s;
        }

        .complete-button:hover::before {
            left: 100%;
        }

        @keyframes buttonSlideIn {
            0% {
                transform: translateY(20px);
                opacity: 0;
            }
            100% {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .complete-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 18px 40px rgba(0,0,0,0.35);
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
        }

        .complete-button:active {
            transform: translateY(-1px);
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Intro Screen -->
        <div class="intro-screen screen active" id="introScreen">
            <div class="pill-icon"></div>
            <h1 class="intro-title">ë§ì¶¤í˜• ì˜ì–‘ì œ ì¶”ì²œ</h1>
            <p class="intro-subtitle">
                ê°œì¸ ìƒì²´ ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ<br>
                ë‹¹ì‹ ì—ê²Œ ë§ëŠ” ì˜ì–‘ì œë¥¼ ì¶”ì²œí•´ë“œë ¤ìš”
            </p>
            <button class="start-button" id="startBtn">ì‹œì‘í•˜ê¸°</button>
        </div>

        <!-- Login Screen -->
        <div class="login-screen screen inactive" id="loginScreen">
            <div class="login-header">
                <div class="app-logo"></div>
                <h2 class="login-title">ë¡œê·¸ì¸</h2>
                <p class="login-subtitle">ê±´ê°•í•œ í•˜ë£¨ë¥¼ ì‹œì‘í•´ë³´ì„¸ìš”</p>
            </div>

            <form class="login-form" id="loginForm">
                <div class="input-group">
                    <label class="input-label" for="userId">ì•„ì´ë””</label>
                    <input 
                        type="text" 
                        id="userId" 
                        class="input-field" 
                        placeholder="ì•„ì´ë””ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”"
                        required
                    >
                </div>

                <div class="input-group">
                    <label class="input-label" for="password">ë¹„ë°€ë²ˆí˜¸</label>
                    <input 
                        type="password" 
                        id="password" 
                        class="input-field" 
                        placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”"
                        required
                    >
                </div>

                <button type="submit" class="login-button">ë¡œê·¸ì¸</button>

                <div class="bottom-section">
                    <div class="signup-link">
                        <a href="#" id="signupLink">íšŒì›ê°€ì…</a>
                    </div>

                    <div class="guest-access" id="guestBtn">
                        ê·¸ëƒ¥ ì“¸ë˜ìš”
                    </div>
                </div>
            </form>
        </div>

        <!-- Signup Screen -->
        <div class="signup-screen screen inactive" id="signupScreen">
            <div class="signup-header">
                <div class="app-logo"></div>
                <h2 class="signup-title">íšŒì›ê°€ì…</h2>
                <p class="signup-subtitle">ê°œì¸ ë§ì¶¤ ì˜ì–‘ì œ ì¶”ì²œì„ ìœ„í•œ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”</p>
            </div>

            <form class="signup-form" id="signupForm">
                <!-- ë‹‰ë„¤ì„ -->
                <div class="input-group" style="position: relative;">
                    <label class="input-label" for="nickname">ë‹‰ë„¤ì„ *</label>
                    <div class="input-row">
                        <div class="input-group" style="margin-bottom: 0;">
                            <input 
                                type="text" 
                                id="nickname" 
                                class="input-field" 
                                placeholder="ë‹‰ë„¤ì„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"
                                required
                            >
                            <div class="nickname-suggestions" id="nicknameSuggestions"></div>
                        </div>
                        <button type="button" class="action-button recommend-button" id="recommendBtn">ì¶”ì²œ</button>
                        <button type="button" class="action-button" id="checkNicknameBtn">ì¤‘ë³µí™•ì¸</button>
                    </div>
                    <div class="validation-message" id="nicknameValidation"></div>
                </div>

                <!-- ì´ë¦„ -->
                <div class="input-group">
                    <label class="input-label" for="realName">ì´ë¦„ *</label>
                    <input 
                        type="text" 
                        id="realName" 
                        class="input-field" 
                        placeholder="ì‹¤ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"
                        required
                    >
                </div>

                <!-- ì•„ì´ë”” -->
                <div class="input-group">
                    <label class="input-label" for="signupUserId">ì•„ì´ë”” *</label>
                    <input 
                        type="text" 
                        id="signupUserId" 
                        class="input-field" 
                        placeholder="ì•„ì´ë””ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”"
                        required
                    >
                    <div class="validation-message" id="userIdValidation"></div>
                </div>

                <!-- ë¹„ë°€ë²ˆí˜¸ -->
                <div class="input-group">
                    <label class="input-label" for="signupPassword">ë¹„ë°€ë²ˆí˜¸ *</label>
                    <input 
                        type="password" 
                        id="signupPassword" 
                        class="input-field" 
                        placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”"
                        required
                    >
                    <div class="validation-message" id="passwordValidation"></div>
                </div>

                <div class="form-navigation">
                    <button type="button" class="nav-button back" id="backBtn">ì´ì „</button>
                    <button type="submit" class="nav-button create" id="createBtn">ë‹¤ìŒ</button>
                </div>

                <div class="required-notice">
                    * í•„ìˆ˜ì…ë ¥
                </div>
            </form>
        </div>

        <!-- Personal Info Screen -->
        <div class="personal-info-screen screen inactive" id="personalInfoScreen">
            <div class="signup-header">
                <div class="app-logo"></div>
                <h2 class="signup-title">ê°œì¸ ì •ë³´</h2>
                <div class="important-notice">
                    <span class="notice-icon">âš ï¸</span>
                    <p class="notice-text">ì´ ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì˜ì–‘ì œë¥¼ ì¶”ì²œí•´ë“œë¦½ë‹ˆë‹¤.</p>
                </div>
            </div>

            <form class="signup-form" id="personalInfoForm">
                <div class="personal-info-content">
                    <!-- ì„±ë³„ -->
                    <div class="input-group">
                        <label class="input-label">ì„±ë³„ *</label>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="gender" value="male" required>
                                <span class="radio-label">ë‚¨ì„±</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="gender" value="female" required>
                                <span class="radio-label">ì—¬ì„±</span>
                            </label>
                        </div>
                    </div>

                    <!-- ë‚˜ì´ -->
                    <div class="input-group">
                        <label class="input-label" for="age">ë‚˜ì´ *</label>
                        <input 
                            type="number" 
                            id="age" 
                            class="input-field" 
                            placeholder="ë‚˜ì´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”"
                            min="1"
                            max="120"
                            required
                        >
                    </div>

                    <!-- ì„ì‚°ë¶€ ì—¬ë¶€ -->
                    <div class="input-group">
                        <label class="input-label">ì„ì‚°ë¶€ ì´ì‹ ê°€ìš”? *</label>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="pregnancy" value="yes" required id="pregnancyYes">
                                <span class="radio-label">ì˜ˆ</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="pregnancy" value="no" required id="pregnancyNo">
                                <span class="radio-label">ì•„ë‹ˆìš”</span>
                            </label>
                        </div>
                    </div>

                    <!-- ì„ì‹  ì •ë³´ ì…ë ¥ (ì„ì‚°ë¶€ì¼ ë•Œë§Œ í‘œì‹œ) -->
                    <div class="input-group" id="pregnancyInfoGroup" style="display: none;">
                        <label class="input-label">ì„ì‹  ì •ë³´</label>
                        <div class="person-info-item" style="margin-bottom: 0;">
                            <div class="person-info-header">
                                <span class="person-info-title">ì„ì‹  ê´€ë ¨ ì •ë³´</span>
                                <span style="font-size: 12px; color: #666;">ğŸ¤±</span>
                            </div>
                            <div class="person-info-fields">
                                <div class="input-group">
                                    <label class="input-label">ì¶œì‚° ì˜ˆì •ì¼</label>
                                    <input 
                                        type="date" 
                                        name="dueDate" 
                                        id="dueDate"
                                        class="input-field"
                                        min=""
                                        max=""
                                    >
                                </div>
                                <div class="input-group">
                                    <label class="input-label">ì„ì‹  ì£¼ì°¨</label>
                                    <select name="pregnancyWeeks" id="pregnancyWeeks" class="input-field">
                                        <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
                                        <option value="1-4">1~4ì£¼ (1ê°œì›”)</option>
                                        <option value="5-8">5~8ì£¼ (2ê°œì›”)</option>
                                        <option value="9-12">9~12ì£¼ (3ê°œì›”)</option>
                                        <option value="13-16">13~16ì£¼ (4ê°œì›”)</option>
                                        <option value="17-20">17~20ì£¼ (5ê°œì›”)</option>
                                        <option value="21-24">21~24ì£¼ (6ê°œì›”)</option>
                                        <option value="25-28">25~28ì£¼ (7ê°œì›”)</option>
                                        <option value="29-32">29~32ì£¼ (8ê°œì›”)</option>
                                        <option value="33-36">33~36ì£¼ (9ê°œì›”)</option>
                                        <option value="37-40">37~40ì£¼ (10ê°œì›”)</option>
                                        <option value="41+">41ì£¼ ì´ìƒ</option>
                                    </select>
                                </div>
                                <div class="input-group">
                                    <label class="input-label">ì„ì‹  ê´€ë ¨ ì¦ìƒ</label>
                                    <select name="pregnancySymptoms" id="pregnancySymptoms" class="input-field">
                                        <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
                                        <option value="morning-sickness">ì…ë§</option>
                                        <option value="fatigue">í”¼ë¡œê°</option>
                                        <option value="heartburn">ì†ì“°ë¦¼</option>
                                        <option value="constipation">ë³€ë¹„</option>
                                        <option value="back-pain">ìš”í†µ</option>
                                        <option value="swelling">ë¶€ì¢…</option>
                                        <option value="none">íŠ¹ë³„í•œ ì¦ìƒ ì—†ìŒ</option>
                                        <option value="other">ê¸°íƒ€</option>
                                    </select>
                                </div>
                                <div class="input-group">
                                    <label class="input-label">íŠ¹ì´ì‚¬í•­</label>
                                    <input 
                                        type="text" 
                                        name="pregnancyNotes" 
                                        id="pregnancyNotes"
                                        class="input-field" 
                                        placeholder="ë³µìš© ì¤‘ì¸ ì˜ì–‘ì œ, ì£¼ì˜ì‚¬í•­ ë“±"
                                    >
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ìë…€ ì—¬ë¶€ -->
                    <div class="input-group">
                        <label class="input-label">ìë…€ê°€ ìˆìœ¼ì‹ ê°€ìš”? *</label>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="hasChildren" value="yes" required id="hasChildrenYes">
                                <span class="radio-label">ë„¤</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="hasChildren" value="no" required id="hasChildrenNo">
                                <span class="radio-label">ì•„ë‹ˆì˜¤</span>
                            </label>
                        </div>
                    </div>

                    <!-- ìë…€ ì •ë³´ ì…ë ¥ (ìë…€ê°€ ìˆì„ ë•Œë§Œ í‘œì‹œ) -->
                    <div class="input-group" id="childrenInfoGroup" style="display: none;">
                        <label class="input-label">ìë…€ ì •ë³´</label>
                        <div id="childrenInfoContainer">
                            <!-- ìë…€ ì •ë³´ê°€ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                        </div>
                        <button type="button" class="add-button" id="addChildBtn">ìë…€ ì¶”ê°€</button>
                    </div>

                    <!-- ë¶€ëª¨ë‹˜ ì˜ì–‘ì œ -->
                    <div class="input-group">
                        <label class="input-label">ë¶€ëª¨ë‹˜ê»˜ ë§ì¶°ì§„ ì˜ì–‘ì œë¥¼ ì°¾ìœ¼ì‹œë‚˜ìš”? *</label>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="forParents" value="yes" required id="forParentsYes">
                                <span class="radio-label">ë„¤</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="forParents" value="no" required id="forParentsNo">
                                <span class="radio-label">ì•„ë‹ˆì˜¤</span>
                            </label>
                        </div>
                    </div>

                    <!-- ë¶€ëª¨ë‹˜ ì •ë³´ ì…ë ¥ (ë¶€ëª¨ë‹˜ ì˜ì–‘ì œë¥¼ ì°¾ì„ ë•Œë§Œ í‘œì‹œ) -->
                    <div class="input-group" id="parentsInfoGroup" style="display: none;">
                        <label class="input-label">ë¶€ëª¨ë‹˜ ì •ë³´</label>
                        <div id="parentsInfoContainer">
                            <!-- ë¶€ëª¨ë‹˜ ì •ë³´ê°€ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                        </div>
                        <button type="button" class="add-button" id="addParentBtn">ë¶€ëª¨ë‹˜ ì¶”ê°€</button>
                    </div>
                </div>

                <div class="form-navigation">
                    <button type="button" class="nav-button back" id="personalInfoBackBtn">ì´ì „</button>
                    <button type="submit" class="nav-button create" id="personalInfoNextBtn">ë‹¤ìŒ</button>
                </div>

                <div class="required-notice">
                    * í•„ìˆ˜ì…ë ¥
                </div>
            </form>
        </div>

        <!-- Health Concerns Screen -->
        <div class="health-concerns-screen screen inactive" id="healthConcernsScreen">
            <div class="signup-header">
                <div class="app-logo"></div>
                <h2 class="signup-title">ê±´ê°• ê³ ë¯¼</h2>
                <p class="signup-subtitle">ìš”ì¦˜ ê±´ê°• ê³ ë¯¼ì„ ì„ íƒí•´ì£¼ì„¸ìš” (ë³µìˆ˜ ì„ íƒ ê°€ëŠ¥)</p>
            </div>

            <form class="signup-form" id="healthConcernsForm">
                <div class="scroll-indicator">â†“ ì•„ë˜ë¡œ ìŠ¤í¬ë¡¤í•´ì„œ ë” ë§ì€ ì˜µì…˜ì„ í™•ì¸í•˜ì„¸ìš” â†“</div>
                
                <div class="concerns-container">
                    <div class="concern-item">
                        <label class="checkbox-option">
                            <input type="checkbox" name="concerns" value="concentration">
                            <span class="checkbox-label">ì§‘ì¤‘ë ¥ì´ ë¶€ì¡±í•œ ê²ƒ ê°™ë‹¤</span>
                        </label>
                    </div>

                    <div class="concern-item">
                        <label class="checkbox-option">
                            <input type="checkbox" name="concerns" value="pregnancy">
                            <span class="checkbox-label">ì•„ê¸°ì™€ ì„ì‚°ë¶€ì—ê²Œ ì¢‹ì€ ì˜ì–‘ì œê°€ í•„ìš”í•˜ë‹¤</span>
                        </label>
                    </div>

                    <div class="concern-item">
                        <label class="checkbox-option">
                            <input type="checkbox" name="concerns" value="hangover">
                            <span class="checkbox-label">ìˆ™ì·¨í•´ì†Œê°€ ì˜ ë˜ì§€ ì•ŠëŠ”ë‹¤</span>
                        </label>
                    </div>

                    <div class="concern-item">
                        <label class="checkbox-option">
                            <input type="checkbox" name="concerns" value="fatigue">
                            <span class="checkbox-label">í”¼ë¡œê°€ ì‰½ê²Œ ìŒ“ì´ê³  íšŒë³µì´ ëŠë¦¬ë‹¤</span>
                        </label>
                    </div>

                    <div class="concern-item">
                        <label class="checkbox-option">
                            <input type="checkbox" name="concerns" value="immunity">
                            <span class="checkbox-label">ë©´ì—­ë ¥ì´ ì•½í•´ì§„ ê²ƒ ê°™ë‹¤</span>
                        </label>
                    </div>

                    <div class="concern-item">
                        <label class="checkbox-option">
                            <input type="checkbox" name="concerns" value="digestion">
                            <span class="checkbox-label">ì†Œí™”ê°€ ì˜ ì•ˆë˜ê³  ì†ì´ ë¶ˆí¸í•˜ë‹¤</span>
                        </label>
                    </div>

                    <div class="concern-item">
                        <label class="checkbox-option">
                            <input type="checkbox" name="concerns" value="sleep">
                            <span class="checkbox-label">ì ì„ ì˜ ìì§€ ëª»í•˜ê³  ìˆ˜ë©´ì˜ ì§ˆì´ ë‚˜ì˜ë‹¤</span>
                        </label>
                    </div>

                    <div class="concern-item">
                        <label class="checkbox-option">
                            <input type="checkbox" name="concerns" value="joints">
                            <span class="checkbox-label">ê´€ì ˆì´ë‚˜ ë¼ˆê°€ ì•„í”„ê³  ë¶ˆí¸í•˜ë‹¤</span>
                        </label>
                    </div>

                    <div class="concern-item">
                        <label class="checkbox-option">
                            <input type="checkbox" name="concerns" value="skin">
                            <span class="checkbox-label">í”¼ë¶€ íŠ¸ëŸ¬ë¸”ì´ë‚˜ ë…¸í™”ê°€ ì‹ ê²½ì“°ì¸ë‹¤</span>
                        </label>
                    </div>

                    <div class="concern-item">
                        <label class="checkbox-option">
                            <input type="checkbox" name="concerns" value="memory">
                            <span class="checkbox-label">ê¸°ì–µë ¥ì´ ì˜ˆì „ë³´ë‹¤ ë–¨ì–´ì§„ ê²ƒ ê°™ë‹¤</span>
                        </label>
                    </div>

                    <div class="concern-item">
                        <label class="checkbox-option">
                            <input type="checkbox" name="concerns" value="eyes">
                            <span class="checkbox-label">ëˆˆì´ ìì£¼ í”¼ë¡œí•˜ê³  ì‹œë ¥ì´ ê±±ì •ëœë‹¤</span>
                        </label>
                    </div>

                    <div class="concern-item">
                        <label class="checkbox-option">
                            <input type="checkbox" name="concerns" value="stress">
                            <span class="checkbox-label">ìŠ¤íŠ¸ë ˆìŠ¤ê°€ ë§ê³  ë§ˆìŒì´ ë¶ˆì•ˆí•˜ë‹¤</span>
                        </label>
                    </div>

                    <!-- ì§ì ‘ ì…ë ¥ ê±´ê°• ê³ ë¯¼ -->
                    <div class="concern-item">
                        <div class="custom-concern">
                            <label class="input-label" for="customConcern">ê¸°íƒ€ ê±´ê°• ê³ ë¯¼ (ì§ì ‘ ì…ë ¥)</label>
                            <div class="custom-input-container">
                                <input 
                                    type="text" 
                                    id="customConcern" 
                                    class="input-field" 
                                    placeholder="ë‹¤ë¥¸ ê±´ê°• ê³ ë¯¼ì´ ìˆë‹¤ë©´ ì…ë ¥í•´ì£¼ì„¸ìš”"
                                >
                                <button type="button" class="add-button" id="addConcernBtn">ì¶”ê°€</button>
                            </div>
                            <div class="custom-concerns-list" id="customConcernsList"></div>
                        </div>
                    </div>
                </div>

                <div class="form-navigation">
                    <button type="button" class="nav-button back" id="healthConcernsBackBtn">ì´ì „</button>
                    <button type="submit" class="nav-button create" id="healthConcernsNextBtn">ë‹¤ìŒ</button>
                </div>

                <div class="required-notice">
                    ìµœì†Œ 1ê°œ ì´ìƒ ì„ íƒí•´ì£¼ì„¸ìš”
                </div>
            </form>
        </div>

        <!-- Chatbot Settings Screen -->
        <div class="chatbot-settings-screen screen inactive" id="chatbotSettingsScreen">
            <div class="signup-header">
                <div class="app-logo"></div>
                <h2 class="signup-title">ì±—ë´‡ ì„¤ì •</h2>
                <p class="signup-subtitle">ì±—ë´‡ì˜ ì—­í• ê³¼ ë§íˆ¬ë¥¼ ì„¤ì •í•´ì£¼ì„¸ìš”</p>
            </div>

            <form class="signup-form" id="chatbotSettingsForm">
                <div class="chatbot-settings-content">
                    <!-- ì±—ë´‡ ì—­í•  ì„¤ì • -->
                    <div class="input-group">
                        <label class="input-label">ì±—ë´‡ì—ê²Œ ì—­í• ì„ ì •í•´ì¤„ê¹Œìš”? *</label>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="setRole" value="yes" required id="setRoleYes">
                                <span class="radio-label">ë„¤</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="setRole" value="no" required id="setRoleNo">
                                <span class="radio-label">ì•„ë‹ˆì˜¤</span>
                            </label>
                        </div>
                    </div>

                    <!-- ë§íˆ¬ ì„ íƒ -->
                    <div class="input-group" id="toneSelectionGroup" style="display: none;">
                        <label class="input-label">ë§íˆ¬ëŠ” ì–´ë–»ê²Œ í• ê¹Œìš”? *</label>
                        <div class="tone-options">
                            <label class="tone-option">
                                <input type="radio" name="tone" value="friendly" required>
                                <span class="tone-label">
                                    <span class="tone-title">ë‹¤ì •í•œ ë²„ì „</span>
                                    <span class="tone-description">ì¹œê·¼í•˜ê³  ë”°ëœ»í•œ ë§íˆ¬ë¡œ ëŒ€í™”í•´ìš”</span>
                                </span>
                            </label>

                            <label class="tone-option">
                                <input type="radio" name="tone" value="strict" required>
                                <span class="tone-label">
                                    <span class="tone-title">ì—„ê²©í•œ ë²„ì „</span>
                                    <span class="tone-description">ì •í™•í•˜ê³  ì „ë¬¸ì ì¸ ë§íˆ¬ë¡œ ì¡°ì–¸í•´ìš”</span>
                                </span>
                            </label>

                            <label class="tone-option">
                                <input type="radio" name="tone" value="casual" required>
                                <span class="tone-label">
                                    <span class="tone-title">í¸ì•ˆí•œ ë²„ì „</span>
                                    <span class="tone-description">ì¹œêµ¬ê°™ì´ í¸ì•ˆí•˜ê³  ìì—°ìŠ¤ëŸ¬ìš´ ë§íˆ¬ì˜ˆìš”</span>
                                </span>
                            </label>

                            <label class="tone-option">
                                <input type="radio" name="tone" value="professional" required>
                                <span class="tone-label">
                                    <span class="tone-title">ì „ë¬¸ê°€ ë²„ì „</span>
                                    <span class="tone-description">ì˜ë£Œì§„ì²˜ëŸ¼ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ë§íˆ¬ë¡œ ì„¤ëª…í•´ìš”</span>
                                </span>
                            </label>

                            <label class="tone-option">
                                <input type="radio" name="tone" value="cheerful" required>
                                <span class="tone-label">
                                    <span class="tone-title">ë°ì€ ë²„ì „</span>
                                    <span class="tone-description">í™œê¸°ì°¨ê³  ê¸ì •ì ì¸ ì—ë„ˆì§€ë¡œ ì‘ì›í•´ìš”</span>
                                </span>
                            </label>

                            <label class="tone-option">
                                <input type="radio" name="tone" value="calm" required>
                                <span class="tone-label">
                                    <span class="tone-title">ì°¨ë¶„í•œ ë²„ì „</span>
                                    <span class="tone-description">ì•ˆì •ê° ìˆê³  ì¹¨ì°©í•œ ë§íˆ¬ë¡œ ì•ˆë‚´í•´ìš”</span>
                                </span>
                            </label>

                            <!-- ì§ì ‘ ì…ë ¥ ë§íˆ¬ ì˜µì…˜ -->
                            <label class="tone-option">
                                <input type="radio" name="tone" value="custom" required id="customToneRadio">
                                <span class="tone-label">
                                    <span class="tone-title">ì§ì ‘ ì„¤ì •</span>
                                    <span class="tone-description">ì›í•˜ëŠ” ë§íˆ¬ë¥¼ ì§ì ‘ ì…ë ¥í•´ë³´ì„¸ìš”</span>
                                </span>
                            </label>
                        </div>

                        <!-- ì»¤ìŠ¤í…€ ë§íˆ¬ ì…ë ¥ ì˜ì—­ -->
                        <div class="input-group" id="customToneGroup" style="display: none; margin-top: 15px;">
                            <label class="input-label" for="customToneInput">ì–´ë–¤ ë§íˆ¬ë¡œ ëŒ€í™”í•˜ê³  ì‹¶ìœ¼ì‹ ê°€ìš”?</label>
                            <input 
                                type="text" 
                                id="customToneInput" 
                                class="input-field" 
                                placeholder="ì˜ˆ: ì¡´ëŒ“ë§ë¡œ ì •ì¤‘í•˜ê²Œ, ë°˜ë§ë¡œ ì¹œê·¼í•˜ê²Œ, ì˜ì‚¬ì„ ìƒë‹˜ì²˜ëŸ¼ ë“±"
                            >
                            <div class="tone-examples">
                                <p style="font-size: 12px; color: #666; margin-top: 8px; line-height: 1.4;">
                                    <strong>ì˜ˆì‹œ:</strong> "ì¡´ëŒ“ë§ë¡œ ì •ì¤‘í•˜ê²Œ", "ë°˜ë§ë¡œ ì¹œê·¼í•˜ê²Œ", "ì˜ì‚¬ì„ ìƒë‹˜ì²˜ëŸ¼ ì „ë¬¸ì ìœ¼ë¡œ", 
                                    "í• ë¨¸ë‹ˆì²˜ëŸ¼ ë”°ëœ»í•˜ê²Œ", "ì½”ì¹˜ì²˜ëŸ¼ ë™ê¸°ë¶€ì—¬ í•´ì£¼ë©´ì„œ" ë“±
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-navigation">
                    <button type="button" class="nav-button back" id="chatbotSettingsBackBtn">ì´ì „</button>
                    <button type="submit" class="nav-button create" id="chatbotSettingsNextBtn">ë‹¤ìŒ</button>
                </div>

                <div class="required-notice">
                    * í•„ìˆ˜ì„ íƒ
                </div>
            </form>
        </div>

        <!-- Current Supplements Screen -->
        <div class="current-supplements-screen screen inactive" id="currentSupplementsScreen">
            <div class="signup-header">
                <div class="app-logo"></div>
                <h2 class="signup-title">í˜„ì¬ ë³µìš© ì¤‘ì¸ ì˜ì–‘ì œ</h2>
                <p class="signup-subtitle">í˜„ì¬ ë³µìš© ì¤‘ì¸ ì˜ì–‘ì œë¥¼ ì•Œë ¤ì£¼ì„¸ìš”</p>
            </div>

            <form class="signup-form" id="currentSupplementsForm">
                <div class="supplements-content">
                    <!-- ë³µìš© ì—¬ë¶€ -->
                    <div class="input-group">
                        <label class="input-label">í˜„ì¬ ì˜ì–‘ì œë¥¼ ë³µìš©í•˜ê³  ê³„ì‹ ê°€ìš”? *</label>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="takingSupplements" value="yes" required id="takingSupplementsYes">
                                <span class="radio-label">ë„¤</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="takingSupplements" value="no" required id="takingSupplementsNo">
                                <span class="radio-label">ì•„ë‹ˆì˜¤</span>
                            </label>
                        </div>
                    </div>

                    <!-- ì˜ì–‘ì œ ëª©ë¡ -->
                    <div class="supplements-list" id="supplementsList" style="display: none;">
                        <div class="input-group">
                            <label class="input-label">ë³µìš© ì¤‘ì¸ ì˜ì–‘ì œë¥¼ ì„ íƒí•˜ê±°ë‚˜ ì§ì ‘ ì…ë ¥í•´ì£¼ì„¸ìš”</label>
                            
                            <!-- ì¼ë°˜ì ì¸ ì˜ì–‘ì œ ì²´í¬ë°•ìŠ¤ ëª©ë¡ -->
                            <div class="supplements-checkboxes">
                                <label class="supplement-checkbox">
                                    <input type="checkbox" name="supplements" value="vitamin-c">
                                    <span class="supplement-label">ë¹„íƒ€ë¯¼ C</span>
                                </label>
                                <label class="supplement-checkbox">
                                    <input type="checkbox" name="supplements" value="vitamin-d">
                                    <span class="supplement-label">ë¹„íƒ€ë¯¼ D</span>
                                </label>
                                <label class="supplement-checkbox">
                                    <input type="checkbox" name="supplements" value="vitamin-b">
                                    <span class="supplement-label">ë¹„íƒ€ë¯¼ Bë³µí•©ì²´</span>
                                </label>
                                <label class="supplement-checkbox">
                                    <input type="checkbox" name="supplements" value="omega-3">
                                    <span class="supplement-label">ì˜¤ë©”ê°€3</span>
                                </label>
                                <label class="supplement-checkbox">
                                    <input type="checkbox" name="supplements" value="probiotics">
                                    <span class="supplement-label">ìœ ì‚°ê· </span>
                                </label>
                                <label class="supplement-checkbox">
                                    <input type="checkbox" name="supplements" value="magnesium">
                                    <span class="supplement-label">ë§ˆê·¸ë„¤ìŠ˜</span>
                                </label>
                                <label class="supplement-checkbox">
                                    <input type="checkbox" name="supplements" value="calcium">
                                    <span class="supplement-label">ì¹¼ìŠ˜</span>
                                </label>
                                <label class="supplement-checkbox">
                                    <input type="checkbox" name="supplements" value="iron">
                                    <span class="supplement-label">ì² ë¶„</span>
                                </label>
                                <label class="supplement-checkbox">
                                    <input type="checkbox" name="supplements" value="zinc">
                                    <span class="supplement-label">ì•„ì—°</span>
                                </label>
                                <label class="supplement-checkbox">
                                    <input type="checkbox" name="supplements" value="collagen">
                                    <span class="supplement-label">ì½œë¼ê²</span>
                                </label>
                                <label class="supplement-checkbox">
                                    <input type="checkbox" name="supplements" value="lutein">
                                    <span class="supplement-label">ë£¨í…Œì¸</span>
                                </label>
                                <label class="supplement-checkbox">
                                    <input type="checkbox" name="supplements" value="coq10">
                                    <span class="supplement-label">ì½”ì—”ìì„ Q10</span>
                                </label>
                            </div>

                            <!-- ì§ì ‘ ì…ë ¥ ì˜ì—­ -->
                            <div class="custom-supplement">
                                <label class="input-label" for="customSupplement">ê¸°íƒ€ (ì§ì ‘ ì…ë ¥)</label>
                                <div class="custom-input-container">
                                    <input 
                                        type="text" 
                                        id="customSupplement" 
                                        class="input-field" 
                                        placeholder="ë³µìš© ì¤‘ì¸ ë‹¤ë¥¸ ì˜ì–‘ì œê°€ ìˆë‹¤ë©´ ì…ë ¥í•´ì£¼ì„¸ìš”"
                                    >
                                    <button type="button" class="add-button" id="addSupplementBtn">ì¶”ê°€</button>
                                </div>
                                <div class="custom-supplements-list" id="customSupplementsList"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-navigation">
                    <button type="button" class="nav-button back" id="currentSupplementsBackBtn">ì´ì „</button>
                    <button type="submit" class="nav-button create" id="currentSupplementsNextBtn">ì™„ë£Œ</button>
                </div>

                <div class="required-notice">
                    * í•„ìˆ˜ì„ íƒ
                </div>
            </form>
        </div>

        <!-- Signup Complete Screen -->
        <div class="signup-complete-screen screen inactive" id="signupCompleteScreen">
            <div class="fireworks-container" id="fireworksContainer"></div>
            <div class="complete-content">
                <div class="celebration-icon">ğŸ‰</div>
                <h2 class="complete-title">íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!</h2>
                <p class="complete-message">
                    ê°™ì´ ê±´ê°• ì±™ê¸°ëŸ¬ ê°€ìš”!<br>
                    ê°œì¸ ë§ì¶¤í˜• ì˜ì–‘ì œ ì¶”ì²œì„ ìœ„í•œ<br>
                    ëª¨ë“  ì •ë³´ê°€ ì„±ê³µì ìœ¼ë¡œ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤
                </p>
                
                <div class="complete-summary" id="completeSummary">
                    <!-- ì—¬ê¸°ì— ì‚¬ìš©ì ì •ë³´ ìš”ì•½ì´ í‘œì‹œë©ë‹ˆë‹¤ -->
                </div>

                <button class="complete-button" id="goToMainBtn">ë©”ì¸ í˜ì´ì§€ë¡œ ì´ë™</button>
            </div>
        </div>

        <!-- Modal for Guest Access Confirmation -->
        <div class="modal-overlay" id="guestModal">
            <div class="modal-content">
                <div class="modal-icon">âš ï¸</div>
                <h3 class="modal-title">ì ì‹œë§Œìš”!</h3>
                <p class="modal-message">ì •ë³´ê°€ ì—†ìœ¼ë©´<br>ì˜ì–‘ì œ ì¶”ì²œì´ ì–´ë ¤ìš¸ ìˆ˜ ìˆì–´ìš”</p>
                <div class="modal-buttons">
                    <button class="modal-button primary" id="provideInfoBtn">ì •ë³´ì£¼ê¸°</button>
                    <button class="modal-button secondary" id="continueGuestBtn">ê´œì°®ì•„ìš”</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // DOM ìš”ì†Œë“¤ ê°€ì ¸ì˜¤ê¸°
        const startBtn = document.getElementById('startBtn');
        const introScreen = document.getElementById('introScreen');
        const loginScreen = document.getElementById('loginScreen');
        const signupScreen = document.getElementById('signupScreen');
        const personalInfoScreen = document.getElementById('personalInfoScreen');
        const healthConcernsScreen = document.getElementById('healthConcernsScreen');
        const chatbotSettingsScreen = document.getElementById('chatbotSettingsScreen');
        const currentSupplementsScreen = document.getElementById('currentSupplementsScreen');
        const signupCompleteScreen = document.getElementById('signupCompleteScreen');
        const loginForm = document.getElementById('loginForm');
        const signupForm = document.getElementById('signupForm');
        const personalInfoForm = document.getElementById('personalInfoForm');
        const healthConcernsForm = document.getElementById('healthConcernsForm');
        const chatbotSettingsForm = document.getElementById('chatbotSettingsForm');
        const currentSupplementsForm = document.getElementById('currentSupplementsForm');
        const signupLink = document.getElementById('signupLink');
        const guestBtn = document.getElementById('guestBtn');
        const guestModal = document.getElementById('guestModal');
        const provideInfoBtn = document.getElementById('provideInfoBtn');
        const continueGuestBtn = document.getElementById('continueGuestBtn');
        const backBtn = document.getElementById('backBtn');
        const personalInfoBackBtn = document.getElementById('personalInfoBackBtn');
        const healthConcernsBackBtn = document.getElementById('healthConcernsBackBtn');
        const chatbotSettingsBackBtn = document.getElementById('chatbotSettingsBackBtn');
        const currentSupplementsBackBtn = document.getElementById('currentSupplementsBackBtn');
        const goToMainBtn = document.getElementById('goToMainBtn');
        const recommendBtn = document.getElementById('recommendBtn');
        const checkNicknameBtn = document.getElementById('checkNicknameBtn');

        // ìë…€/ë¶€ëª¨ë‹˜ ì •ë³´ ê´€ë ¨ ìš”ì†Œë“¤
        const hasChildrenYes = document.getElementById('hasChildrenYes');
        const hasChildrenNo = document.getElementById('hasChildrenNo');
        const childrenInfoGroup = document.getElementById('childrenInfoGroup');
        const childrenInfoContainer = document.getElementById('childrenInfoContainer');
        const addChildBtn = document.getElementById('addChildBtn');
        
        const forParentsYes = document.getElementById('forParentsYes');
        const forParentsNo = document.getElementById('forParentsNo');
        const parentsInfoGroup = document.getElementById('parentsInfoGroup');
        const parentsInfoContainer = document.getElementById('parentsInfoContainer');
        const addParentBtn = document.getElementById('addParentBtn');

        // ì„ì‹  ì •ë³´ ê´€ë ¨ ìš”ì†Œë“¤
        const pregnancyYes = document.getElementById('pregnancyYes');
        const pregnancyNo = document.getElementById('pregnancyNo');
        const pregnancyInfoGroup = document.getElementById('pregnancyInfoGroup');
        const dueDateInput = document.getElementById('dueDate');

        // ì»¤ìŠ¤í…€ ê±´ê°• ê³ ë¯¼ ê´€ë ¨ ìš”ì†Œë“¤
        const customConcernInput = document.getElementById('customConcern');
        const addConcernBtn = document.getElementById('addConcernBtn');
        const customConcernsList = document.getElementById('customConcernsList');

        // ì»¤ìŠ¤í…€ ë§íˆ¬ ê´€ë ¨ ìš”ì†Œë“¤
        const customToneRadio = document.getElementById('customToneRadio');
        const customToneGroup = document.getElementById('customToneGroup');
        const customToneInput = document.getElementById('customToneInput');

        // ìë…€ ì •ë³´ ì¹´ìš´í„°
        let childCounter = 0;
        let parentCounter = 0;

        // ì‹œì‘í•˜ê¸° ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
        startBtn.addEventListener('click', function() {
            console.log('ì‹œì‘í•˜ê¸° ë²„íŠ¼ í´ë¦­ë¨');
            showLoginScreen();
        });

        // ì»¤ìŠ¤í…€ ê±´ê°• ê³ ë¯¼ ì¶”ê°€ ê¸°ëŠ¥
        addConcernBtn.addEventListener('click', function() {
            const concernText = customConcernInput.value.trim();
            if (concernText) {
                addCustomConcern(concernText);
                customConcernInput.value = '';
            }
        });

        customConcernInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                const concernText = this.value.trim();
                if (concernText) {
                    addCustomConcern(concernText);
                    this.value = '';
                }
            }
        });

        function addCustomConcern(text) {
            const tag = document.createElement('div');
            tag.className = 'custom-concern-tag';
            tag.innerHTML = `
                ${text}
                <button type="button" class="remove-concern" onclick="this.parentElement.remove()">Ã—</button>
            `;
            customConcernsList.appendChild(tag);
        }

        // ì»¤ìŠ¤í…€ ë§íˆ¬ ë¼ë””ì˜¤ ë²„íŠ¼ ì´ë²¤íŠ¸
        const allToneRadios = document.querySelectorAll('input[name="tone"]');
        
        allToneRadios.forEach(radio => {
            radio.addEventListener('change', function() {
                if (this.value === 'custom') {
                    customToneGroup.style.display = 'block';
                    customToneInput.required = true;
                } else {
                    customToneGroup.style.display = 'none';
                    customToneInput.required = false;
                    customToneInput.value = '';
                }
            });
        });

        // í™”ë©´ ì „í™˜ í•¨ìˆ˜ë“¤
        function showLoginScreen() {
            introScreen.classList.remove('active');
            introScreen.classList.add('inactive');
            
            loginScreen.classList.remove('inactive');
            loginScreen.classList.add('active');
        }

        function showSignupPage() {
            loginScreen.classList.remove('active');
            loginScreen.classList.add('inactive');
            
            signupScreen.classList.remove('inactive');
            signupScreen.classList.add('active');
        }

        function showPersonalInfoPage() {
            signupScreen.classList.remove('active');
            signupScreen.classList.add('inactive');
            
            personalInfoScreen.classList.remove('inactive');
            personalInfoScreen.classList.add('active');
        }

        function showHealthConcernsPage() {
            personalInfoScreen.classList.remove('active');
            personalInfoScreen.classList.add('inactive');
            
            healthConcernsScreen.classList.remove('inactive');
            healthConcernsScreen.classList.add('active');
        }

        function showChatbotSettingsPage() {
            healthConcernsScreen.classList.remove('active');
            healthConcernsScreen.classList.add('inactive');
            
            chatbotSettingsScreen.classList.remove('inactive');
            chatbotSettingsScreen.classList.add('active');
        }

        function showCurrentSupplementsPage() {
            chatbotSettingsScreen.classList.remove('active');
            chatbotSettingsScreen.classList.add('inactive');
            
            currentSupplementsScreen.classList.remove('inactive');
            currentSupplementsScreen.classList.add('active');
        }

        function showSignupCompletePage() {
            currentSupplementsScreen.classList.remove('active');
            currentSupplementsScreen.classList.add('inactive');
            
            signupCompleteScreen.classList.remove('inactive');
            signupCompleteScreen.classList.add('active');
            
            // í­ì£½ ì• ë‹ˆë©”ì´ì…˜ ì‹œì‘
            startFireworks();
            
            // ì‚¬ìš©ì ì •ë³´ ìš”ì•½ ìƒì„±
            setTimeout(() => {
                generateCompleteSummary();
            }, 1000);
        }

        // í­ì£½ ì• ë‹ˆë©”ì´ì…˜ í•¨ìˆ˜
        function startFireworks() {
            const container = document.getElementById('fireworksContainer');
            container.innerHTML = ''; // ê¸°ì¡´ í­ì£½ ì œê±°
            
            // ì—¬ëŸ¬ ë²ˆì˜ í­ì£½ ë°œì‚¬
            setTimeout(() => createFirework(150, 200), 300);
            setTimeout(() => createFirework(250, 150), 600);
            setTimeout(() => createFirework(100, 250), 900);
            setTimeout(() => createFirework(300, 180), 1200);
            setTimeout(() => createFirework(200, 100), 1500);
            setTimeout(() => createFirework(80, 300), 1800);
            setTimeout(() => createFirework(320, 250), 2100);
            
            // ë°˜ì§ì„ íš¨ê³¼ ì¶”ê°€
            for (let i = 0; i < 20; i++) {
                setTimeout(() => createSparkle(), Math.random() * 3000);
            }
        }

        function createFirework(x, y) {
            const container = document.getElementById('fireworksContainer');
            const colors = ['color1', 'color2', 'color3', 'color4', 'color5', 'color6', 'color7', 'color8'];
            
            // ì¤‘ì‹¬ì ì—ì„œ í¼ì§€ëŠ” íŒŒí‹°í´ë“¤ ìƒì„±
            for (let i = 0; i < 12; i++) {
                const firework = document.createElement('div');
                firework.className = `firework ${colors[Math.floor(Math.random() * colors.length)]}`;
                
                // ëœë¤í•œ ë°©í–¥ìœ¼ë¡œ í¼ì§€ëŠ” íš¨ê³¼
                const angle = (i * 30) * Math.PI / 180;
                const distance = 80 + Math.random() * 40;
                const dx = Math.cos(angle) * distance;
                const dy = Math.sin(angle) * distance;
                
                firework.style.left = x + 'px';
                firework.style.top = y + 'px';
                firework.style.setProperty('--dx', dx + 'px');
                firework.style.setProperty('--dy', dy + 'px');
                
                container.appendChild(firework);
                
                // ì• ë‹ˆë©”ì´ì…˜ ì™„ë£Œ í›„ ì œê±°
                setTimeout(() => {
                    if (firework.parentNode) {
                        firework.parentNode.removeChild(firework);
                    }
                }, 2000);
            }
        }

        function createSparkle() {
            const container = document.getElementById('fireworksContainer');
            const sparkle = document.createElement('div');
            sparkle.className = 'sparkle';
            
            // ëœë¤ ìœ„ì¹˜
            sparkle.style.left = Math.random() * 375 + 'px';
            sparkle.style.top = Math.random() * 500 + 100 + 'px';
            
            container.appendChild(sparkle);
            
            // ì• ë‹ˆë©”ì´ì…˜ ì™„ë£Œ í›„ ì œê±°
            setTimeout(() => {
                if (sparkle.parentNode) {
                    sparkle.parentNode.removeChild(sparkle);
                }
            }, 1500);
        }

        // ë’¤ë¡œê°€ê¸° í•¨ìˆ˜ë“¤
        function showSignupPageFromPersonalInfo() {
            personalInfoScreen.classList.remove('active');
            personalInfoScreen.classList.add('inactive');
            
            signupScreen.classList.remove('inactive');
            signupScreen.classList.add('active');
        }

        function showPersonalInfoPageFromHealthConcerns() {
            healthConcernsScreen.classList.remove('active');
            healthConcernsScreen.classList.add('inactive');
            
            personalInfoScreen.classList.remove('inactive');
            personalInfoScreen.classList.add('active');
        }

        function showHealthConcernsPageFromChatbotSettings() {
            chatbotSettingsScreen.classList.remove('active');
            chatbotSettingsScreen.classList.add('inactive');
            
            healthConcernsScreen.classList.remove('inactive');
            healthConcernsScreen.classList.add('active');
        }

        function showChatbotSettingsPageFromCurrentSupplements() {
            currentSupplementsScreen.classList.remove('active');
            currentSupplementsScreen.classList.add('inactive');
            
            chatbotSettingsScreen.classList.remove('inactive');
            chatbotSettingsScreen.classList.add('active');
        }

        function showLoginPage() {
            signupScreen.classList.remove('active');
            signupScreen.classList.add('inactive');
            
            loginScreen.classList.remove('inactive');
            loginScreen.classList.add('active');
        }

        function goToMainPage() {
            signupCompleteScreen.classList.remove('active');
            signupCompleteScreen.classList.add('inactive');
            
            loginScreen.classList.remove('inactive');
            loginScreen.classList.add('active');
        }
        

        // ìë…€ ì •ë³´ ì…ë ¥ ê¸°ëŠ¥
        function createChildInfo(index) {
            const childDiv = document.createElement('div');
            childDiv.className = 'person-info-item';
            childDiv.innerHTML = `
                <div class="person-info-header">
                    <span class="person-info-title">ìë…€ ${index}</span>
                    <button type="button" class="remove-person-btn" onclick="removeChild(this)">Ã—</button>
                </div>
                <div class="person-info-fields">
                    <div class="input-group">
                        <label class="input-label">ì´ë¦„</label>
                        <input type="text" name="childName_${index}" class="input-field" placeholder="ìë…€ ì´ë¦„">
                    </div>
                    <div class="input-group">
                        <label class="input-label">ë‚˜ì´</label>
                        <input type="number" name="childAge_${index}" class="input-field" placeholder="ë‚˜ì´" min="0" max="30">
                    </div>
                    <div class="input-group">
                        <label class="input-label">ì„±ë³„</label>
                        <select name="childGender_${index}" class="input-field">
                            <option value="">ì„ íƒ</option>
                            <option value="male">ë‚¨</option>
                            <option value="female">ì—¬</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label class="input-label">íŠ¹ì´ì‚¬í•­</label>
                        <input type="text" name="childNotes_${index}" class="input-field" placeholder="ì•Œë ˆë¥´ê¸°, ê±´ê°•ìƒíƒœ ë“±">
                    </div>
                </div>
            `;
            return childDiv;
        }

        // ë¶€ëª¨ë‹˜ ì •ë³´ ì…ë ¥ ê¸°ëŠ¥
        function createParentInfo(index) {
            const parentDiv = document.createElement('div');
            parentDiv.className = 'person-info-item';
            parentDiv.innerHTML = `
                <div class="person-info-header">
                    <span class="person-info-title">ë¶€ëª¨ë‹˜ ${index}</span>
                    <button type="button" class="remove-person-btn" onclick="removeParent(this)">Ã—</button>
                </div>
                <div class="person-info-fields">
                    <div class="input-group">
                        <label class="input-label">ê´€ê³„</label>
                        <select name="parentRelation_${index}" class="input-field">
                            <option value="">ì„ íƒ</option>
                            <option value="father">ì•„ë²„ì§€</option>
                            <option value="mother">ì–´ë¨¸ë‹ˆ</option>
                            <option value="stepfather">ê³„ë¶€</option>
                            <option value="stepmother">ê³„ëª¨</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label class="input-label">ë‚˜ì´</label>
                        <input type="number" name="parentAge_${index}" class="input-field" placeholder="ë‚˜ì´" min="40" max="100">
                    </div>
                    <div class="input-group">
                        <label class="input-label">ê±´ê°•ìƒíƒœ</label>
                        <select name="parentHealth_${index}" class="input-field">
                            <option value="">ì„ íƒ</option>
                            <option value="good">ì–‘í˜¸</option>
                            <option value="normal">ë³´í†µ</option>
                            <option value="poor">ë‚˜ì¨</option>
                            <option value="chronic">ë§Œì„±ì§ˆí™˜ ìˆìŒ</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label class="input-label">íŠ¹ì´ì‚¬í•­</label>
                        <input type="text" name="parentNotes_${index}" class="input-field" placeholder="ë³µìš© ì¤‘ì¸ ì•½, ì•Œë ˆë¥´ê¸° ë“±">
                    </div>
                </div>
            `;
            return parentDiv;
        }

        // ìë…€ ì¶”ê°€ ë²„íŠ¼ ì´ë²¤íŠ¸
        addChildBtn.addEventListener('click', function() {
            childCounter++;
            const childInfo = createChildInfo(childCounter);
            childrenInfoContainer.appendChild(childInfo);
        });

        // ë¶€ëª¨ë‹˜ ì¶”ê°€ ë²„íŠ¼ ì´ë²¤íŠ¸
        addParentBtn.addEventListener('click', function() {
            parentCounter++;
            const parentInfo = createParentInfo(parentCounter);
            parentsInfoContainer.appendChild(parentInfo);
        });

        // ìë…€ ì‚­ì œ í•¨ìˆ˜
        function removeChild(button) {
            button.closest('.person-info-item').remove();
        }

        // ë¶€ëª¨ë‹˜ ì‚­ì œ í•¨ìˆ˜
        function removeParent(button) {
            button.closest('.person-info-item').remove();
        }

        // ìë…€ ì—¬ë¶€ ë¼ë””ì˜¤ ë²„íŠ¼ ì´ë²¤íŠ¸
        hasChildrenYes.addEventListener('change', function() {
            if (this.checked) {
                childrenInfoGroup.style.display = 'block';
                // ê¸°ë³¸ì ìœ¼ë¡œ ì²« ë²ˆì§¸ ìë…€ ì •ë³´ ì¶”ê°€
                if (childrenInfoContainer.children.length === 0) {
                    childCounter++;
                    const childInfo = createChildInfo(childCounter);
                    childrenInfoContainer.appendChild(childInfo);
                }
            }
        });

        hasChildrenNo.addEventListener('change', function() {
            if (this.checked) {
                childrenInfoGroup.style.display = 'none';
                // ìë…€ ì •ë³´ ëª¨ë‘ ì‚­ì œ
                childrenInfoContainer.innerHTML = '';
                childCounter = 0;
            }
        });

        // ë¶€ëª¨ë‹˜ ì˜ì–‘ì œ ë¼ë””ì˜¤ ë²„íŠ¼ ì´ë²¤íŠ¸
        forParentsYes.addEventListener('change', function() {
            if (this.checked) {
                parentsInfoGroup.style.display = 'block';
                // ê¸°ë³¸ì ìœ¼ë¡œ ì²« ë²ˆì§¸ ë¶€ëª¨ë‹˜ ì •ë³´ ì¶”ê°€
                if (parentsInfoContainer.children.length === 0) {
                    parentCounter++;
                    const parentInfo = createParentInfo(parentCounter);
                    parentsInfoContainer.appendChild(parentInfo);
                }
            }
        });

        forParentsNo.addEventListener('change', function() {
            if (this.checked) {
                parentsInfoGroup.style.display = 'none';
                // ë¶€ëª¨ë‹˜ ì •ë³´ ëª¨ë‘ ì‚­ì œ
                parentsInfoContainer.innerHTML = '';
                parentCounter = 0;
            }
        });

        // ì„ì‹  ì •ë³´ ë¼ë””ì˜¤ ë²„íŠ¼ ì´ë²¤íŠ¸
        pregnancyYes.addEventListener('change', function() {
            if (this.checked) {
                pregnancyInfoGroup.style.display = 'block';
                setDateLimits();
            }
        });

        pregnancyNo.addEventListener('change', function() {
            if (this.checked) {
                pregnancyInfoGroup.style.display = 'none';
                // ì„ì‹  ì •ë³´ ì´ˆê¸°í™”
                document.getElementById('dueDate').value = '';
                document.getElementById('pregnancyWeeks').value = '';
                document.getElementById('pregnancySymptoms').value = '';
                document.getElementById('pregnancyNotes').value = '';
            }
        });

        // ì¶œì‚° ì˜ˆì •ì¼ ë‚ ì§œ ì œí•œ ì„¤ì •
        function setDateLimits() {
            const today = new Date();
            const minDate = new Date(today.getTime() + (30 * 24 * 60 * 60 * 1000)); // 30ì¼ í›„
            const maxDate = new Date(today.getTime() + (280 * 24 * 60 * 60 * 1000)); // ì•½ 40ì£¼ í›„
            
            dueDateInput.min = minDate.toISOString().split('T')[0];
            dueDateInput.max = maxDate.toISOString().split('T')[0];
        }

        // ì¶œì‚° ì˜ˆì •ì¼ ì…ë ¥ ì‹œ ìë™ìœ¼ë¡œ ì„ì‹  ì£¼ì°¨ ê³„ì‚°
        dueDateInput.addEventListener('change', function() {
            if (this.value) {
                const dueDate = new Date(this.value);
                const today = new Date();
                const diffTime = dueDate.getTime() - today.getTime();
                const diffWeeks = Math.ceil(diffTime / (1000 * 60 * 60 * 24 * 7));
                const currentWeek = 40 - diffWeeks; // ì„ì‹ ì€ ì•½ 40ì£¼
                
                const pregnancyWeeksSelect = document.getElementById('pregnancyWeeks');
                
                // ê³„ì‚°ëœ ì£¼ì°¨ì— ë§ëŠ” ì˜µì…˜ ìë™ ì„ íƒ
                if (currentWeek >= 1 && currentWeek <= 4) {
                    pregnancyWeeksSelect.value = '1-4';
                } else if (currentWeek >= 5 && currentWeek <= 8) {
                    pregnancyWeeksSelect.value = '5-8';
                } else if (currentWeek >= 9 && currentWeek <= 12) {
                    pregnancyWeeksSelect.value = '9-12';
                } else if (currentWeek >= 13 && currentWeek <= 16) {
                    pregnancyWeeksSelect.value = '13-16';
                } else if (currentWeek >= 17 && currentWeek <= 20) {
                    pregnancyWeeksSelect.value = '17-20';
                } else if (currentWeek >= 21 && currentWeek <= 24) {
                    pregnancyWeeksSelect.value = '21-24';
                } else if (currentWeek >= 25 && currentWeek <= 28) {
                    pregnancyWeeksSelect.value = '25-28';
                } else if (currentWeek >= 29 && currentWeek <= 32) {
                    pregnancyWeeksSelect.value = '29-32';
                } else if (currentWeek >= 33 && currentWeek <= 36) {
                    pregnancyWeeksSelect.value = '33-36';
                } else if (currentWeek >= 37 && currentWeek <= 40) {
                    pregnancyWeeksSelect.value = '37-40';
                } else if (currentWeek > 40) {
                    pregnancyWeeksSelect.value = '41+';
                }
            }
        });

        // ë¡œê·¸ì¸ í¼ ì œì¶œ ì´ë²¤íŠ¸
        loginForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const userId = document.getElementById('userId').value;
            const password = document.getElementById('password').value;
            
            if (userId && password) {
                alert(`${userId}ë‹˜, ë¡œê·¸ì¸ ì„±ê³µ! ì´ì œ ì±—ë´‡ í™”ë©´ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.`);
            }
        });

        // íšŒì›ê°€ì… ë§í¬ í´ë¦­ ì´ë²¤íŠ¸
        signupLink.addEventListener('click', function(e) {
            e.preventDefault();
            showSignupPage();
        });

        // ê²ŒìŠ¤íŠ¸ ëª¨ë“œ ê´€ë ¨ ì´ë²¤íŠ¸ë“¤
        guestBtn.addEventListener('click', function() {
            showGuestModal();
        });

        function showGuestModal() {
            guestModal.classList.add('show');
        }

        function hideGuestModal() {
            guestModal.classList.remove('show');
        }

        provideInfoBtn.addEventListener('click', function() {
            hideGuestModal();
            showSignupPage();
        });

        continueGuestBtn.addEventListener('click', function() {
            hideGuestModal();
            alert('ê²ŒìŠ¤íŠ¸ ëª¨ë“œë¡œ ì±—ë´‡ì„ ì´ìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\në§ì¶¤ ì¶”ì²œì€ ì œí•œì ì¼ ìˆ˜ ìˆì–´ìš”.');
        });

        // ì´ì „ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ë“¤
        backBtn.addEventListener('click', function() {
            showLoginPage();
        });

        personalInfoBackBtn.addEventListener('click', function() {
            showSignupPageFromPersonalInfo();
        });

        healthConcernsBackBtn.addEventListener('click', function() {
            showPersonalInfoPageFromHealthConcerns();
        });

        chatbotSettingsBackBtn.addEventListener('click', function() {
            showHealthConcernsPageFromChatbotSettings();
        });

        currentSupplementsBackBtn.addEventListener('click', function() {
            showChatbotSettingsPageFromCurrentSupplements();
        });

        goToMainBtn.addEventListener('click', function() {
            goToMainPage();
        });

        // ë‹‰ë„¤ì„ ì¶”ì²œ ê¸°ëŠ¥
        const nicknamePool = [
            'ê±´ê°•í•œí† ë¼', 'í™œë ¥ì¶©ì „', 'ì˜ì–‘ë§Œì ', 'í—¬ì‹œë¼ì´í”„', 'ë¹„íƒ€ë¯¼í‚¹',
            'ì›°ë¹™ë§ˆìŠ¤í„°', 'ê±´ê°•ì§€í‚´ì´', 'ì—ë„ˆì§€ë¶€ìŠ¤í„°', 'ë¼ì´í”„ì¼€ì–´', 'í—¬ìŠ¤ê°€ë””ì–¸',
            'ì˜ì–‘ì‚¬ì¹œêµ¬', 'ê±´ê°•í•œí•˜ë£¨', 'í™œê¸°ì°¬ìƒí™œ', 'ì›°ë‹ˆìŠ¤ë§¨', 'í—¬ìŠ¤ë©”ì´íŠ¸'
        ];

        recommendBtn.addEventListener('click', function() {
            const suggestions = document.getElementById('nicknameSuggestions');
            const randomNicknames = [];
            
            while (randomNicknames.length < 5) {
                const randomNick = nicknamePool[Math.floor(Math.random() * nicknamePool.length)];
                if (!randomNicknames.includes(randomNick)) {
                    randomNicknames.push(randomNick);
                }
            }
            
            suggestions.innerHTML = '';
            randomNicknames.forEach(nick => {
                const item = document.createElement('div');
                item.className = 'suggestion-item';
                item.textContent = nick;
                item.addEventListener('click', function() {
                    document.getElementById('nickname').value = nick;
                    suggestions.style.display = 'none';
                });
                suggestions.appendChild(item);
            });
            
            suggestions.style.display = 'block';
        });

        // ë‹‰ë„¤ì„ ì¤‘ë³µí™•ì¸ ê¸°ëŠ¥
        const existingNicknames = ['admin', 'test', 'ê±´ê°•ì´', 'user123'];

        checkNicknameBtn.addEventListener('click', function() {
            const nickname = document.getElementById('nickname').value;
            const validation = document.getElementById('nicknameValidation');
            
            if (!nickname) {
                validation.textContent = 'ë‹‰ë„¤ì„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.';
                validation.className = 'validation-message error';
                return;
            }
            
            if (existingNicknames.includes(nickname)) {
                validation.textContent = 'ì´ë¯¸ ì‚¬ìš©ì¤‘ì¸ ë‹‰ë„¤ì„ì…ë‹ˆë‹¤.';
                validation.className = 'validation-message error';
                checkNicknameBtn.textContent = 'ì¤‘ë³µí™•ì¸';
                checkNicknameBtn.className = 'action-button';
            } else {
                validation.textContent = 'ì‚¬ìš© ê°€ëŠ¥í•œ ë‹‰ë„¤ì„ì…ë‹ˆë‹¤.';
                validation.className = 'validation-message success';
                checkNicknameBtn.textContent = 'í™•ì¸ì™„ë£Œ';
                checkNicknameBtn.className = 'action-button success';
            }
        });

        // íšŒì›ê°€ì… í¼ ì œì¶œ ì´ë²¤íŠ¸
        signupForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const nickname = document.getElementById('nickname').value;
            const realName = document.getElementById('realName').value;
            const userId = document.getElementById('signupUserId').value;
            const password = document.getElementById('signupPassword').value;
            
            if (!nickname || !realName || !userId || !password) {
                alert('ëª¨ë“  í•„ìˆ˜ í•­ëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            if (checkNicknameBtn.textContent !== 'í™•ì¸ì™„ë£Œ') {
                alert('ë‹‰ë„¤ì„ ì¤‘ë³µí™•ì¸ì„ ì™„ë£Œí•´ì£¼ì„¸ìš”.');
                return;
            }
            
            showPersonalInfoPage();
        });

        // ê°œì¸ì •ë³´ í¼ ì œì¶œ ì´ë²¤íŠ¸
        personalInfoForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const gender = document.querySelector('input[name="gender"]:checked');
            const age = document.getElementById('age').value;
            const pregnancy = document.querySelector('input[name="pregnancy"]:checked');
            const hasChildren = document.querySelector('input[name="hasChildren"]:checked');
            const forParents = document.querySelector('input[name="forParents"]:checked');
            
            if (!gender || !age || !pregnancy || !hasChildren || !forParents) {
                alert('ëª¨ë“  í•„ìˆ˜ í•­ëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            if (age < 1 || age > 120) {
                alert('ì˜¬ë°”ë¥¸ ë‚˜ì´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            // ì„ì‚°ë¶€ì¸ ê²½ìš° ì¶œì‚° ì˜ˆì •ì¼ í™•ì¸
            if (pregnancy.value === 'yes') {
                const dueDate = document.getElementById('dueDate').value;
                if (!dueDate) {
                    alert('ì¶œì‚° ì˜ˆì •ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                    return;
                }
            }
            
            showHealthConcernsPage();
        });

        // ê±´ê°•ê³ ë¯¼ í¼ ì œì¶œ ì´ë²¤íŠ¸
        healthConcernsForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const selectedConcerns = document.querySelectorAll('input[name="concerns"]:checked');
            const customConcerns = document.querySelectorAll('.custom-concern-tag');
            
            if (selectedConcerns.length === 0 && customConcerns.length === 0) {
                alert('ìµœì†Œ 1ê°œ ì´ìƒì˜ ê±´ê°• ê³ ë¯¼ì„ ì„ íƒí•˜ê±°ë‚˜ ì§ì ‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            showChatbotSettingsPage();
        });

        // ì±—ë´‡ì„¤ì • ê´€ë ¨ ì´ë²¤íŠ¸
        const setRoleYes = document.getElementById('setRoleYes');
        const setRoleNo = document.getElementById('setRoleNo');
        const toneSelectionGroup = document.getElementById('toneSelectionGroup');
        const toneRadios = document.querySelectorAll('input[name="tone"]');

        setRoleYes.addEventListener('change', function() {
            if (this.checked) {
                toneSelectionGroup.style.display = 'block';
                toneRadios.forEach(radio => {
                    radio.required = true;
                });
            }
        });

        setRoleNo.addEventListener('change', function() {
            if (this.checked) {
                toneSelectionGroup.style.display = 'none';
                toneRadios.forEach(radio => {
                    radio.required = false;
                    radio.checked = false;
                });
            }
        });

        // ì±—ë´‡ì„¤ì • í¼ ì œì¶œ ì´ë²¤íŠ¸
        chatbotSettingsForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const setRole = document.querySelector('input[name="setRole"]:checked');
            
            if (!setRole) {
                alert('ì±—ë´‡ ì—­í•  ì„¤ì • ì—¬ë¶€ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.');
                return;
            }
            
            if (setRole.value === 'yes') {
                const tone = document.querySelector('input[name="tone"]:checked');
                if (!tone) {
                    alert('ë§íˆ¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.');
                    return;
                }
                
                // ì»¤ìŠ¤í…€ ë§íˆ¬ ì„ íƒ ì‹œ ì…ë ¥ê°’ í™•ì¸
                if (tone.value === 'custom') {
                    const customTone = customToneInput.value.trim();
                    if (!customTone) {
                        alert('ì›í•˜ëŠ” ë§íˆ¬ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                        return;
                    }
                }
            }
            
            showCurrentSupplementsPage();
        });

        // ì˜ì–‘ì œ ê´€ë ¨ ì´ë²¤íŠ¸
        const takingSupplementsYes = document.getElementById('takingSupplementsYes');
        const takingSupplementsNo = document.getElementById('takingSupplementsNo');
        const supplementsList = document.getElementById('supplementsList');

        takingSupplementsYes.addEventListener('change', function() {
            if (this.checked) {
                supplementsList.style.display = 'block';
            }
        });

        takingSupplementsNo.addEventListener('change', function() {
            if (this.checked) {
                supplementsList.style.display = 'none';
                document.querySelectorAll('input[name="supplements"]').forEach(checkbox => {
                    checkbox.checked = false;
                });
                const customList = document.getElementById('customSupplementsList');
                customList.innerHTML = '';
                document.getElementById('customSupplement').value = '';
            }
        });

        // ì»¤ìŠ¤í…€ ì˜ì–‘ì œ ì¶”ê°€ ê¸°ëŠ¥
        const addSupplementBtn = document.getElementById('addSupplementBtn');
        const customSupplementInput = document.getElementById('customSupplement');
        const customSupplementsList = document.getElementById('customSupplementsList');

        addSupplementBtn.addEventListener('click', function() {
            const supplementName = customSupplementInput.value.trim();
            if (supplementName) {
                addCustomSupplement(supplementName);
                customSupplementInput.value = '';
            }
        });

        customSupplementInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                const supplementName = this.value.trim();
                if (supplementName) {
                    addCustomSupplement(supplementName);
                    this.value = '';
                }
            }
        });

        function addCustomSupplement(name) {
            const tag = document.createElement('div');
            tag.className = 'custom-supplement-tag';
            tag.innerHTML = `
                ${name}
                <button type="button" class="remove-supplement" onclick="this.parentElement.remove()">Ã—</button>
            `;
            customSupplementsList.appendChild(tag);
        }

        // í˜„ì¬ì˜ì–‘ì œ í¼ ì œì¶œ ì´ë²¤íŠ¸
        currentSupplementsForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const takingSupplements = document.querySelector('input[name="takingSupplements"]:checked');
            
            if (!takingSupplements) {
                alert('ì˜ì–‘ì œ ë³µìš© ì—¬ë¶€ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.');
                return;
            }
            
            showSignupCompletePage();
        });

        // ìŠ¤í¬ë¡¤ ì¸ë””ì¼€ì´í„° ê´€ë¦¬
        const concernsContainer = document.querySelector('.concerns-container');
        const scrollIndicator = document.querySelector('.scroll-indicator');

        if (concernsContainer && scrollIndicator) {
            concernsContainer.addEventListener('scroll', function() {
                if (this.scrollTop > 50) {
                    scrollIndicator.style.opacity = '0';
                    scrollIndicator.style.transform = 'translateY(-10px)';
                } else {
                    scrollIndicator.style.opacity = '1';
                    scrollIndicator.style.transform = 'translateY(0)';
                }
            });
        }

        // ì‚¬ìš©ì ì •ë³´ ìš”ì•½ ìƒì„± í•¨ìˆ˜
        function generateCompleteSummary() {
            const nickname = document.getElementById('nickname').value;
            const realName = document.getElementById('realName').value;
            const age = document.getElementById('age').value;
            const gender = document.querySelector('input[name="gender"]:checked');
            const selectedConcerns = document.querySelectorAll('input[name="concerns"]:checked');
            const customConcerns = document.querySelectorAll('.custom-concern-tag');
            const setRole = document.querySelector('input[name="setRole"]:checked');
            const tone = document.querySelector('input[name="tone"]:checked');
            const takingSupplements = document.querySelector('input[name="takingSupplements"]:checked');
            const hasChildren = document.querySelector('input[name="hasChildren"]:checked');
            const forParents = document.querySelector('input[name="forParents"]:checked');
            
            let summaryHTML = '';
            
            // ê¸°ë³¸ ì •ë³´
            summaryHTML += `
                <div class="summary-item">
                    <span class="summary-label">ì´ë¦„</span>
                    <span class="summary-value">${realName} (${nickname})</span>
                </div>
                <div class="summary-item">
                    <span class="summary-label">ë‚˜ì´/ì„±ë³„</span>
                    <span class="summary-value">${age}ì„¸ / ${gender.value === 'male' ? 'ë‚¨ì„±' : 'ì—¬ì„±'}</span>
                </div>
            `;

            // ì„ì‹  ì •ë³´
            if (document.querySelector('input[name="pregnancy"]:checked').value === 'yes') {
                const dueDate = document.getElementById('dueDate').value;
                const pregnancyWeeks = document.getElementById('pregnancyWeeks').value;
                
                if (dueDate) {
                    const dueDateObj = new Date(dueDate);
                    const formattedDate = `${dueDateObj.getMonth() + 1}ì›” ${dueDateObj.getDate()}ì¼`;
                    summaryHTML += `
                        <div class="summary-item">
                            <span class="summary-label">ì„ì‹  ìƒíƒœ</span>
                            <span class="summary-value">ì˜ˆì •ì¼: ${formattedDate}</span>
                        </div>
                    `;
                }
                
                if (pregnancyWeeks) {
                    const weekLabels = {
                        '1-4': '1~4ì£¼ (1ê°œì›”)',
                        '5-8': '5~8ì£¼ (2ê°œì›”)',
                        '9-12': '9~12ì£¼ (3ê°œì›”)',
                        '13-16': '13~16ì£¼ (4ê°œì›”)',
                        '17-20': '17~20ì£¼ (5ê°œì›”)',
                        '21-24': '21~24ì£¼ (6ê°œì›”)',
                        '25-28': '25~28ì£¼ (7ê°œì›”)',
                        '29-32': '29~32ì£¼ (8ê°œì›”)',
                        '33-36': '33~36ì£¼ (9ê°œì›”)',
                        '37-40': '37~40ì£¼ (10ê°œì›”)',
                        '41+': '41ì£¼ ì´ìƒ'
                    };
                    summaryHTML += `
                        <div class="summary-item">
                            <span class="summary-label">ì„ì‹  ì£¼ì°¨</span>
                            <span class="summary-value">${weekLabels[pregnancyWeeks]}</span>
                        </div>
                    `;
                }
            }

            summaryHTML += `
                <div class="summary-item">
                    <span class="summary-label">ê±´ê°• ê³ ë¯¼</span>
                    <span class="summary-value">${selectedConcerns.length + customConcerns.length}ê°œ ì„ íƒ</span>
                </div>
            `;

            // ìë…€ ì •ë³´
            if (hasChildren && hasChildren.value === 'yes') {
                const childrenCount = childrenInfoContainer.children.length;
                summaryHTML += `
                    <div class="summary-item">
                        <span class="summary-label">ìë…€</span>
                        <span class="summary-value">${childrenCount}ëª…</span>
                    </div>
                `;
            }

            // ë¶€ëª¨ë‹˜ ì •ë³´
            if (forParents && forParents.value === 'yes') {
                const parentsCount = parentsInfoContainer.children.length;
                summaryHTML += `
                    <div class="summary-item">
                        <span class="summary-label">ë¶€ëª¨ë‹˜</span>
                        <span class="summary-value">${parentsCount}ë¶„</span>
                    </div>
                `;
            }
            
            // ì±—ë´‡ ì„¤ì •
            if (setRole.value === 'yes' && tone) {
                let toneDisplay = '';
                if (tone.value === 'custom') {
                    const customTone = customToneInput.value.trim();
                    toneDisplay = `ì»¤ìŠ¤í…€ (${customTone})`;
                } else {
                    const toneNames = {
                        'friendly': 'ë‹¤ì •í•œ ë²„ì „',
                        'strict': 'ì—„ê²©í•œ ë²„ì „',
                        'casual': 'í¸ì•ˆí•œ ë²„ì „',
                        'professional': 'ì „ë¬¸ê°€ ë²„ì „',
                        'cheerful': 'ë°ì€ ë²„ì „',
                        'calm': 'ì°¨ë¶„í•œ ë²„ì „'
                    };
                    toneDisplay = toneNames[tone.value];
                }
                
                summaryHTML += `
                    <div class="summary-item">
                        <span class="summary-label">ì±—ë´‡ ë§íˆ¬</span>
                        <span class="summary-value">${toneDisplay}</span>
                    </div>
                `;
            } else {
                summaryHTML += `
                    <div class="summary-item">
                        <span class="summary-label">ì±—ë´‡ ë§íˆ¬</span>
                        <span class="summary-value">ê¸°ë³¸ ì„¤ì •</span>
                    </div>
                `;
            }
            
            // ì˜ì–‘ì œ ì •ë³´
            if (takingSupplements.value === 'yes') {
                const selectedSupplements = document.querySelectorAll('input[name="supplements"]:checked');
                const customSupplements = document.querySelectorAll('.custom-supplement-tag');
                const totalSupplements = selectedSupplements.length + customSupplements.length;
                summaryHTML += `
                    <div class="summary-item">
                        <span class="summary-label">ë³µìš© ì¤‘ì¸ ì˜ì–‘ì œ</span>
                        <span class="summary-value">${totalSupplements}ê°œ</span>
                    </div>
                `;
            } else {
                summaryHTML += `
                    <div class="summary-item">
                        <span class="summary-label">ë³µìš© ì¤‘ì¸ ì˜ì–‘ì œ</span>
                        <span class="summary-value">ì—†ìŒ</span>
                    </div>
                `;
            }
            
            document.getElementById('completeSummary').innerHTML = summaryHTML;
        }

        // ì…ë ¥ í•„ë“œ ì‹¤ì‹œê°„ ìœ íš¨ì„± ê²€ì‚¬
        document.getElementById('signupUserId').addEventListener('input', function() {
            const userId = this.value;
            const validation = document.getElementById('userIdValidation');
            
            if (userId.length < 4) {
                validation.textContent = 'ì•„ì´ë””ëŠ” 4ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.';
                validation.className = 'validation-message error';
            } else {
                validation.textContent = 'ì‚¬ìš© ê°€ëŠ¥í•œ ì•„ì´ë””ì…ë‹ˆë‹¤.';
                validation.className = 'validation-message success';
            }
        });

        document.getElementById('signupPassword').addEventListener('input', function() {
            const password = this.value;
            const validation = document.getElementById('passwordValidation');
            
            if (password.length < 6) {
                validation.textContent = 'ë¹„ë°€ë²ˆí˜¸ëŠ” 6ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.';
                validation.className = 'validation-message error';
            } else {
                validation.textContent = 'ì‚¬ìš© ê°€ëŠ¥í•œ ë¹„ë°€ë²ˆí˜¸ì…ë‹ˆë‹¤.';
                validation.className = 'validation-message success';
            }
        });

        // ì™¸ë¶€ í´ë¦­ ì‹œ ë‹‰ë„¤ì„ ì¶”ì²œ ëª©ë¡ ìˆ¨ê¸°ê¸°
        document.addEventListener('click', function(e) {
            const suggestions = document.getElementById('nicknameSuggestions');
            if (!e.target.closest('.input-group')) {
                suggestions.style.display = 'none';
            }
        });

        // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
        guestModal.addEventListener('click', function(e) {
            if (e.target === guestModal) {
                hideGuestModal();
            }
        });

        // ì…ë ¥ í•„ë“œ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼
        const inputs = document.querySelectorAll('.input-field');
        inputs.forEach(input => {
            input.addEventListener('focus', function() {
                this.style.transform = 'scale(1.02)';
            });
            
            input.addEventListener('blur', function() {
                this.style.transform = 'scale(1)';
            });
        });

        // í˜ì´ì§€ ë¡œë“œ í™•ì¸
        document.addEventListener('DOMContentLoaded', function() {
            console.log('í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ');
        });
    </script>
</body>
</html>