<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI ì±—ë´‡</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #F2E9E0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .chatbot-container {
            width: 400px;
            height: 700px;
            background: #f5f5f5;
            border-radius: 25px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .header {
            background: #f0e6d6;
            padding: 12px 20px; /* íŒ¨ë”© ì¡°ì • */
            text-align: center;
            position: relative;
            flex-shrink: 0; /* ê³ ì • ë†’ì´ ìœ ì§€ */
            min-height: 120px; /* ë†’ì´ ì¡°ì • */
            border-radius: 25px 25px 0 0; /* ìƒë‹¨ ëª¨ì„œë¦¬ ë‘¥ê¸€ê²Œ */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        /* ìƒë‹¨ ê³° ì•„ì´ì½˜ ìŠ¤íƒ€ì¼ */
        .header-bear-icon {
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .header-bear-icon svg {
            filter: drop-shadow(0 2px 4px rgba(229, 141, 135, 0.3));
            transition: transform 0.3s ease;
        }

        .header-bear-icon svg:hover {
            transform: scale(1.05);
        }

        .robot-icon {
            width: 50px; /* í¬ê¸° ì¤„ì„ */
            height: 50px;
            background: #ff9999;
            border-radius: 15px;
            margin: 0 auto 10px; /* ë§ˆì§„ ì¤„ì„ */
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px; /* í°íŠ¸ í¬ê¸° ì¤„ì„ */
            color: white;
            position: relative;
        }

        .robot-icon::before {
            content: '';
        }
        
        .robot-icon::after {
            content: '';
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3C!-- ë©”ì¸ ì–¼êµ´ --%3E%3Crect x='130' y='150' width='252' height='212' rx='60' fill='white'/%3E%3C!-- ì™¼ìª½ ê·€ --%3E%3Cellipse cx='160' cy='130' rx='35' ry='45' fill='white'/%3E%3C!-- ì˜¤ë¥¸ìª½ ê·€ --%3E%3Cellipse cx='350' cy='130' rx='35' ry='45' fill='white'/%3E%3C!-- ì‘ì€ í•˜íŠ¸ --%3E%3Cpath d='M256 110 C250 100, 240 100, 240 110 C240 100, 230 100, 230 110 C230 120, 240 130, 256 140 C270 130, 280 120, 280 110 C280 100, 270 100, 270 110 C270 100, 260 100, 256 110 Z' fill='%23ffb3ba'/%3E%3C!-- ì™¼ìª½ ëˆˆ --%3E%3Ccircle cx='190' cy='220' r='20' fill='%23E58D87'/%3E%3Ccircle cx='190' cy='210' r='8' fill='white'/%3E%3C!-- ì˜¤ë¥¸ìª½ ëˆˆ --%3E%3Ccircle cx='320' cy='220' r='20' fill='%23E58D87'/%3E%3Ccircle cx='320' cy='210' r='8' fill='white'/%3E%3C!-- ì… (ë‘ ê°œì˜ ë‘¥ê·¼ ì‚¬ê°í˜•) --%3E%3Crect x='190' y='300' width='50' height='35' rx='17' fill='%23E58D87'/%3E%3Crect x='270' y='300' width='50' height='35' rx='17' fill='%23E58D87'/%3E%3Cline x1='255' y1='300' x2='255' y2='335' stroke='white' stroke-width='6'/%3E%3C/svg%3E");
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        }

        .title {
            font-size: 20px; /* í°íŠ¸ í¬ê¸° ì¤„ì„ */
            font-weight: bold;
            color: #333;
            margin-bottom: 10px; /* ë§ˆì§„ ì¡°ì • */
            margin-top: 0;
        }

        .controls {
            display: flex;
            gap: 10px; /* ê°„ê²© ì¤„ì„ */
            justify-content: center;
            align-items: center;
            flex-wrap: wrap; /* ì¤„ë°”ê¿ˆ í—ˆìš© */
        }

        .control-btn {
            padding: 8px 15px; /* íŒ¨ë”© ì¤„ì„ */
            background: white;
            border: none;
            border-radius: 20px; /* ë‘¥ê¸€ê¸° ì¤„ì„ */
            font-size: 12px; /* í°íŠ¸ í¬ê¸° ì¤„ì„ */
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); /* ê·¸ë¦¼ì ì¤„ì„ */
            white-space: nowrap;
        }

        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .toggle-switch {
            position: relative;
            width: 50px; /* í¬ê¸° ì¤„ì„ */
            height: 25px;
            background: #4CAF50;
            border-radius: 12px; /* ë‘¥ê¸€ê¸° ì¤„ì„ */
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .toggle-switch::before {
            content: '';
            position: absolute;
            width: 21px; /* í¬ê¸° ì¤„ì„ */
            height: 21px;
            background: white;
            border-radius: 50%;
            top: 2px;
            right: 2px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); /* ê·¸ë¦¼ì ì¤„ì„ */
        }

        .toggle-switch.off {
            background: #ccc;
        }

        .toggle-switch.off::before {
            right: 27px; /* ìœ„ì¹˜ ì¡°ì • */
        }

        .chat-area {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: white;
            margin: 0;
            border-radius: 0;
            position: relative;
        }

        .placeholder {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #999;
            font-size: 16px;
        }

        .message {
            margin-bottom: 15px;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }

        .message.user {
            justify-content: flex-end;
        }

        .message.bot {
            justify-content: flex-start;
        }

        .message-bubble {
            max-width: 70%;
            padding: 12px 16px;
            border-radius: 18px;
            font-size: 14px;
            line-height: 1.4;
        }

        .message.user .message-bubble {
            background: #007AFF;
            color: white;
            border-bottom-right-radius: 4px;
        }

        .message.bot .message-bubble {
            background: #f0f0f0;
            color: #333;
            border-bottom-left-radius: 4px;
        }

        .bot-avatar {
            width: 30px;
            height: 30px;
            background: #ff9999;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            color: white;
            flex-shrink: 0;
            position: relative;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3C!-- ë©”ì¸ ì–¼êµ´ --%3E%3Crect x='130' y='150' width='252' height='212' rx='60' fill='white'/%3E%3C!-- ì™¼ìª½ ê·€ --%3E%3Cellipse cx='160' cy='130' rx='35' ry='45' fill='white'/%3E%3C!-- ì˜¤ë¥¸ìª½ ê·€ --%3E%3Cellipse cx='350' cy='130' rx='35' ry='45' fill='white'/%3E%3C!-- ì‘ì€ í•˜íŠ¸ --%3E%3Cpath d='M256 110 C250 100, 240 100, 240 110 C240 100, 230 100, 230 110 C230 120, 240 130, 256 140 C270 130, 280 120, 280 110 C280 100, 270 100, 270 110 C270 100, 260 100, 256 110 Z' fill='%23ffb3ba'/%3E%3C!-- ì™¼ìª½ ëˆˆ --%3E%3Ccircle cx='190' cy='220' r='20' fill='%23ff9999'/%3E%3Ccircle cx='190' cy='210' r='8' fill='white'/%3E%3C!-- ì˜¤ë¥¸ìª½ ëˆˆ --%3E%3Ccircle cx='320' cy='220' r='20' fill='%23ff9999'/%3E%3Ccircle cx='320' cy='210' r='8' fill='white'/%3E%3C!-- ì… (ë‘ ê°œì˜ ë‘¥ê·¼ ì‚¬ê°í˜•) --%3E%3Crect x='190' y='300' width='50' height='35' rx='17' fill='%23ff9999'/%3E%3Crect x='270' y='300' width='50' height='35' rx='17' fill='%23ff9999'/%3E%3Cline x1='255' y1='300' x2='255' y2='335' stroke='white' stroke-width='6'/%3E%3C/svg%3E");
            background-size: 70%;
            background-repeat: no-repeat;
            background-position: center;
        }
        
        .bot-avatar::after {
            display: none;
        }

        .input-area {
            padding: 20px;
            background: #f0e6d6;
            border-radius: 0 0 25px 25px;
        }

        .input-container {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .input-field {
            flex: 1;
            padding: 15px 20px;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            background: white;
            outline: none;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .send-btn {
            width: 50px;
            height: 50px;
            background: #EC9787;
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .send-btn:hover {
            background: #e8826f;
            transform: scale(1.05);
        }

        .send-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .typing-indicator {
            display: none;
            padding: 10px 16px;
            background: #f0f0f0;
            border-radius: 18px;
            border-bottom-left-radius: 4px;
            max-width: 70%;
        }

        .typing-dots {
            display: flex;
            gap: 4px;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: #999;
            border-radius: 50%;
            animation: typing 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }

        @keyframes typing {
            0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
            40% { transform: scale(1); opacity: 1; }
        }

        .footer {
            display: none; /* ê¸°ì¡´ í‘¸í„° ìˆ¨ê¸°ê¸° */
        }

        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 390px;
            background: white;
            border-top: 1px solid #eee;
            display: flex;
            padding: 8px 0;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            z-index: 1000; /* ë‹¤ë¥¸ ìš”ì†Œ ìœ„ì— í‘œì‹œ */
        }
        
        .nav-item {
            flex: 1;
            text-align: center;
            padding: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 8px;
            margin: 0 3px;
        }
        
        .nav-item:hover {
            background: #faf8f6;
            transform: translateY(-1px);
        }
        
        .nav-item.active {
            background: linear-gradient(135deg, #e9bf94, #d4a574);
            color: white;
        }
        
        .nav-icon {
            font-size: 20px;
            margin-bottom: 2px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            height: 24px;
        }
        
        .nav-icon svg {
            transition: all 0.3s ease;
            width: 20px;
            height: 20px;
        }
        
        .nav-item:hover .nav-icon svg {
            transform: scale(1.05);
        }
        
        .nav-label {
            font-size: 10px;
            font-weight: 500;
            line-height: 1;
        }

        /* ì±—ë´‡ ì»¨í…Œì´ë„ˆ í•˜ë‹¨ ì—¬ë°± ì¡°ì • */
        .chatbot-container {
            margin-bottom: 150px; /* ê¸°ë³¸ ì—¬ë°± */
            transition: margin-bottom 0.3s ease;
        }

        .chatbot-container.suggestions-expanded {
            margin-bottom: 280px; /* í™•ì¥ ì‹œ ì—¬ë°± */
        }

        /* ì¶”ì²œ ì§ˆë¬¸ ì»¨í…Œì´ë„ˆ */
        .suggestions-container {
            position: fixed;
            bottom: 135px; /* ì…ë ¥ì°½ ìœ„ì— ìœ„ì¹˜ */
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 390px;
            height: 60px; /* ê¸°ë³¸ ì¶•ì†Œ ë†’ì´ */
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(15px);
            border: 1px solid #e5e0db;
            border-radius: 15px 15px 0 0;
            box-shadow: 0 -3px 15px rgba(0,0,0,0.1);
            display: block;
            z-index: 100;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .suggestions-container.expanded {
            height: 200px; /* í™•ì¥ ë†’ì´ */
            cursor: default;
        }

        .suggestions-header {
            position: sticky;
            top: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 12px 20px;
            border-bottom: 1px solid #f0f0f0;
            z-index: 101;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .suggestions-title {
            font-size: 13px;
            font-weight: 600;
            color: #666;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .expand-indicator {
            font-size: 16px;
            color: #999;
            transition: transform 0.3s ease;
            user-select: none;
        }

        .suggestions-container.expanded .expand-indicator {
            transform: rotate(180deg);
        }

        .suggestions-preview {
            padding: 8px 20px;
            overflow: hidden;
            height: calc(100% - 49px);
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .suggestions-scroll {
            height: calc(100% - 49px); /* í—¤ë” ë†’ì´ë¥¼ ì œì™¸í•œ ë‚˜ë¨¸ì§€ */
            overflow-y: auto;
            overflow-x: hidden;
            padding: 8px 20px 12px;
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .suggestions-container.expanded .suggestions-scroll {
            opacity: 1;
        }

        .suggestions-container.expanded .suggestions-preview {
            display: none;
        }

        /* ë¯¸ë¦¬ë³´ê¸°ìš© ì•„ì´í…œ */
        .suggestion-preview-item {
            background: linear-gradient(135deg, #f8f6f4, #f0ede8);
            border: 1px solid #e5e0db;
            border-radius: 15px;
            padding: 6px 12px;
            font-size: 12px;
            color: #666;
            text-overflow: ellipsis;
            white-space: nowrap;
            overflow: hidden;
            pointer-events: none;
            opacity: 0.8;
        }

        /* ì»¤ìŠ¤í…€ ìŠ¤í¬ë¡¤ë°” */
        .suggestions-scroll::-webkit-scrollbar {
            width: 4px;
        }

        .suggestions-scroll::-webkit-scrollbar-track {
            background: transparent;
        }

        .suggestions-scroll::-webkit-scrollbar-thumb {
            background: rgba(200, 200, 200, 0.6);
            border-radius: 2px;
        }

        .suggestions-scroll::-webkit-scrollbar-thumb:hover {
            background: rgba(170, 170, 170, 0.8);
        }

        .suggestion-item {
            background: linear-gradient(135deg, #f8f6f4, #f0ede8);
            border: 1px solid #e5e0db;
            border-radius: 20px;
            padding: 12px 16px;
            margin-bottom: 8px;
            font-size: 14px;
            color: #555;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            text-align: left;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            display: block;
            line-height: 1.3;
        }

        .suggestion-item:last-child {
            margin-bottom: 0;
        }

        .suggestion-item:hover {
            background: linear-gradient(135deg, #EC9787, #e8826f);
            color: white;
            transform: translateX(4px);
            box-shadow: 0 3px 12px rgba(236, 151, 135, 0.25);
            border-color: #EC9787;
        }

        .suggestion-item:active {
            transform: translateX(2px);
        }

        /* ì…ë ¥ ì˜ì—­ ìœ„ì¹˜ ì¡°ì • */
        .input-area {
            position: fixed;
            bottom: 60px; /* ë„¤ë¹„ê²Œì´ì…˜ë°” ìœ„ì— ìœ„ì¹˜ */
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 390px;
            padding: 15px 20px;
            background: #f0e6d6;
            border-radius: 0;
            z-index: 200;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
        }

        /* í™•ì¥ ì‹œ ë°°ê²½ ì˜¤ë²„ë ˆì´ */
        .suggestions-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.3);
            z-index: 99;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .suggestions-overlay.show {
            opacity: 1;
            visibility: visible;
        }

        /* ìŠ¤í¬ë¡¤ë°” ì»¤ìŠ¤í…€ */
        .chat-area::-webkit-scrollbar {
            width: 6px;
        }

        .chat-area::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 3px;
        }

        .chat-area::-webkit-scrollbar-thumb {
            background: #ccc;
            border-radius: 3px;
        }

        .chat-area::-webkit-scrollbar-thumb:hover {
            background: #999;
        }

        /* ë§íˆ¬ ì„¤ì • ëª¨ë‹¬ */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal {
            background: white;
            border-radius: 20px;
            padding: 30px;
            width: 350px;
            max-width: 90%;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px) scale(0.8);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .modal-header {
            text-align: center;
            margin-bottom: 25px;
        }

        .modal-title {
            font-size: 20px;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }

        .modal-subtitle {
            font-size: 14px;
            color: #666;
        }

        .tone-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 25px;
        }

        .tone-option {
            padding: 15px 20px;
            border: 2px solid #f0f0f0;
            border-radius: 15px;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-size: 16px;
            font-weight: 500;
        }

        .tone-option:hover {
            border-color: #EC9787;
            background: #fef8f7;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(236, 151, 135, 0.2);
        }

        .tone-option.selected {
            border-color: #EC9787;
            background: #EC9787;
            color: white;
        }

        .modal-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        .modal-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .modal-btn.cancel {
            background: #f0f0f0;
            color: #666;
        }

        .modal-btn.cancel:hover {
            background: #e0e0e0;
        }

        .modal-btn.confirm {
            background: #EC9787;
            color: white;
        }

        .modal-btn.confirm:hover {
            background: #e8826f;
        }
    </style>
</head>
<body>
    <div class="chatbot-container">
        <div class="header">
            <!-- ìƒë‹¨ ê³° ì•„ì´ì½˜ -->
            <div class="header-bear-icon">
                <svg width="40" height="40" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                    <!-- ë©”ì¸ ì–¼êµ´ -->
                    <rect x="130" y="180" width="252" height="200" rx="60" fill="#E58D87"/>
                    <!-- ì™¼ìª½ ê·€ -->
                    <ellipse cx="160" cy="160" rx="35" ry="45" fill="#E58D87"/>
                    <!-- ì˜¤ë¥¸ìª½ ê·€ -->
                    <ellipse cx="350" cy="160" rx="35" ry="45" fill="#E58D87"/>
                    <!-- ì‘ì€ í•˜íŠ¸ -->
                    <path d="M256 120 C250 110, 240 110, 240 120 C240 110, 230 110, 230 120 C230 130, 240 140, 256 150 C270 140, 280 130, 280 120 C280 110, 270 110, 270 120 C270 110, 260 110, 256 120 Z" fill="#ffb3ba"/>
                    <!-- ì™¼ìª½ ëˆˆ -->
                    <circle cx="190" cy="240" r="18" fill="white"/>
                    <circle cx="190" cy="235" r="7" fill="#E58D87"/>
                    <!-- ì˜¤ë¥¸ìª½ ëˆˆ -->
                    <circle cx="320" cy="240" r="18" fill="white"/>
                    <circle cx="320" cy="235" r="7" fill="#E58D87"/>
                    <!-- ì… (ë‘ ê°œì˜ ë‘¥ê·¼ ì‚¬ê°í˜•) -->
                    <rect x="200" y="310" width="45" height="30" rx="15" fill="white"/>
                    <rect x="265" y="310" width="45" height="30" rx="15" fill="white"/>
                    <line x1="255" y1="310" x2="255" y2="340" stroke="#E58D87" stroke-width="5"/>
                </svg>
            </div>
            <div class="robot-icon"></div>
            <h1 class="title">AIì™€ ëŒ€í™”</h1>
            <div class="controls">
                <button class="control-btn" id="voiceBtn">ë§íˆ¬ ì„¤ì •</button>
                <button class="control-btn" id="memoryBtn">ì—­í• </button>
                <div class="toggle-switch" id="toggleSwitch"></div>
            </div>
        </div>

        <div class="chat-area" id="chatArea">
            <div class="placeholder" id="placeholder">í”„ë¡¬í”„íŠ¸</div>
            <div class="message bot" style="display: none;">
                <div class="bot-avatar">ğŸ¤–</div>
                <div class="typing-indicator" id="typingIndicator">
                    <div class="typing-dots">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- í•˜ë‹¨ í†µí•© ì»¨í…Œì´ë„ˆ -->
        <div class="bottom-container" id="bottomContainer">
            <!-- ì¶”ì²œ ì§ˆë¬¸ ì»¨í…Œì´ë„ˆ -->
            <div class="suggestions-container" id="suggestionsContainer">
                <div class="suggestions-header" id="suggestionsHeader">
                    <div class="suggestions-title">ğŸ’¡ ì¶”ì²œ ì§ˆë¬¸</div>
                    <div class="expand-indicator">â–²</div>
                </div>
                <div class="suggestions-scroll" id="suggestionsScroll">
                    <!-- ì¶”ì²œ ì§ˆë¬¸ë“¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                </div>
            </div>

            <!-- ì…ë ¥ ì˜ì—­ -->
            <div class="input-area">
                <div class="input-container">
                    <input type="text" class="input-field" id="messageInput" placeholder="ë©”ì‹œì§€ ì…ë ¥">
                    <button class="send-btn" id="sendBtn">
                        <span>â†’</span>
                    </button>
                </div>
            </div>
        </div>

        <div class="footer">
            <!-- ê¸°ì¡´ í‘¸í„°ëŠ” ìˆ¨ê²¨ì§ -->
        </div>
    </div>

    <!-- ì¶”ì²œ ì§ˆë¬¸ ë°°ê²½ ì˜¤ë²„ë ˆì´ ì œê±°ë¨ -->

    <!-- í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
    <nav class="bottom-nav">
        <div class="nav-item" onclick="navigateTo('community')">
            <div class="nav-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                    <circle cx="18.5" cy="10" r="2.5"/>
                    <circle cx="5.5" cy="10" r="2.5"/>
                    <path d="M18.5 12.5c-1.33 0-4 0.67-4 2v1.5h8V14.5c0-1.33-2.67-2-4-2z"/>
                    <path d="M5.5 12.5c-1.33 0-4 0.67-4 2v1.5h8V14.5c0-1.33-2.67-2-4-2z"/>
                </svg>
            </div>
            <div class="nav-label">ì»¤ë®¤ë‹ˆí‹°</div>
        </div>
        
        <div class="nav-item" onclick="navigateTo('home')">
            <div class="nav-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
                </svg>
            </div>
            <div class="nav-label">í™ˆ</div>
        </div>
        
        <div class="nav-item active" onclick="navigateTo('chatbot')">
            <div class="nav-icon">
                <svg width="20" height="20" viewBox="0 0 512 512" fill="currentColor">
                    <!-- ë°°ê²½ ì‚¬ê°í˜• (ë” ì§§ì•„ì§) -->
                    <rect x="120" y="130" width="272" height="252" rx="50" fill="currentColor"/>
                    <!-- ê·€ (ë” ì‘ì•„ì§) -->
                    <circle cx="150" cy="130" r="35" fill="currentColor"/>
                    <circle cx="360" cy="130" r="35" fill="currentColor"/>
                    <!-- ëˆˆ (ì•½ê°„ ì‘ì•„ì§) -->
                    <ellipse cx="200" cy="220" rx="18" ry="30" fill="white"/>
                    <ellipse cx="310" cy="220" rx="18" ry="30" fill="white"/>
                    <rect x="196" y="208" width="8" height="24" fill="currentColor"/>
                    <rect x="306" y="208" width="8" height="24" fill="currentColor"/>
                    <!-- ì… (ë” ì‘ì•„ì§) -->
                    <rect x="210" y="320" width="45" height="30" rx="4" fill="white"/>
                    <rect x="260" y="320" width="45" height="30" rx="4" fill="white"/>
                    <line x1="255" y1="320" x2="255" y2="350" stroke="currentColor" stroke-width="8" />
                </svg>
            </div>
            <div class="nav-label">ì±—ë´‡</div>
        </div>
        
        <div class="nav-item" onclick="navigateTo('more')">
            <div class="nav-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                    <circle cx="5" cy="12" r="2"/>
                    <circle cx="12" cy="12" r="2"/>
                    <circle cx="19" cy="12" r="2"/>
                </svg>
            </div>
            <div class="nav-label">ë”ë³´ê¸°</div>
        </div>
    </nav>

    <!-- ë§íˆ¬ ì„¤ì • ëª¨ë‹¬ -->
    <div class="modal-overlay" id="toneModal">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-title">ë§íˆ¬ ì„¤ì •</div>
                <div class="modal-subtitle">ì›í•˜ëŠ” ë§íˆ¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</div>
            </div>
            <div class="tone-options">
                <div class="tone-option" data-tone="friendly">ë‹¤ì •í•œ ë²„ì „</div>
                <div class="tone-option" data-tone="casual">ì¹œê·¼í•œ ë²„ì „</div>
                <div class="tone-option" data-tone="professional">ì „ë¬¸ê°€ ë²„ì „</div>
                <div class="tone-option" data-tone="calm">ì°¨ë¶„í•œ ë²„ì „</div>
            </div>
            <div class="modal-buttons">
                <button class="modal-btn cancel" id="cancelTone">ì·¨ì†Œ</button>
                <button class="modal-btn confirm" id="confirmTone">í™•ì¸</button>
            </div>
        </div>
    </div>

    <!-- ì—­í•  ì„¤ì • ëª¨ë‹¬ -->
    <div class="modal-overlay" id="roleModal">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-title">ì—­í•  ì„¤ì •</div>
                <div class="modal-subtitle">AIì˜ ì—­í• ì„ ì„ íƒí•´ì£¼ì„¸ìš”</div>
            </div>
            <div class="tone-options">
                <div class="tone-option" data-role="general">ğŸ’¬ ì¼ë°˜ ëŒ€í™”</div>
                <div class="tone-option" data-role="tutor">ğŸ“š í•™ìŠµ ë„ìš°ë¯¸</div>
                <div class="tone-option" data-role="counselor">ğŸ’ ìƒë‹´ì‚¬</div>
                <div class="tone-option" data-role="career">ğŸ’¼ ì»¤ë¦¬ì–´ ì½”ì¹˜</div>
                <div class="tone-option" data-role="creative">ğŸ¨ ì°½ì‘ íŒŒíŠ¸ë„ˆ</div>
                <div class="tone-option" data-role="health">ğŸ¥ ê±´ê°• ê´€ë¦¬ì‚¬</div>
            </div>
            <div class="modal-buttons">
                <button class="modal-btn cancel" id="cancelRole">ì·¨ì†Œ</button>
                <button class="modal-btn confirm" id="confirmRole">í™•ì¸</button>
            </div>
        </div>
    </div>

    <script>
        // DOM ìš”ì†Œë“¤
        const chatArea = document.getElementById('chatArea');
        const messageInput = document.getElementById('messageInput');
        const sendBtn = document.getElementById('sendBtn');
        const placeholder = document.getElementById('placeholder');
        const toggleSwitch = document.getElementById('toggleSwitch');
        const typingIndicator = document.getElementById('typingIndicator');
        const voiceBtn = document.getElementById('voiceBtn');
        const memoryBtn = document.getElementById('memoryBtn');
        const toneModal = document.getElementById('toneModal');
        const toneOptions = document.querySelectorAll('.tone-option');
        const cancelTone = document.getElementById('cancelTone');
        const confirmTone = document.getElementById('confirmTone');
        const roleModal = document.getElementById('roleModal');
        const roleOptions = document.querySelectorAll('[data-role]');
        const cancelRole = document.getElementById('cancelRole');
        const confirmRole = document.getElementById('confirmRole');
        const navItems = document.querySelectorAll('.nav-item');
        const suggestionsContainer = document.getElementById('suggestionsContainer');
        const suggestionsScroll = document.getElementById('suggestionsScroll');
        const suggestionsHeader = document.getElementById('suggestionsHeader');
        const bottomContainer = document.getElementById('bottomContainer');

        // ë©”ì‹œì§€ ë°°ì—´
        let messages = [];
        let isTyping = false;
        let selectedTone = 'friendly'; // ê¸°ë³¸ ë§íˆ¬
        let currentTone = 'friendly';
        let selectedRole = 'general'; // ê¸°ë³¸ ì—­í• 
        let currentRole = 'general';
        let suggestionsExpanded = false;

        // ì—­í• ë³„ ì¶”ì²œ ì§ˆë¬¸ ë°ì´í„°
        const suggestionsByRole = {
            general: [
                "ì•ˆë…•í•˜ì„¸ìš”! ì–´ë–»ê²Œ ì§€ë‚´ì‹œë‚˜ìš”?",
                "ì˜¤ëŠ˜ ë‚ ì”¨ëŠ” ì–´ë•Œìš”?",
                "ì¬ë¯¸ìˆëŠ” ì´ì•¼ê¸° ë“¤ë ¤ì£¼ì„¸ìš”",
                "ì¶”ì²œí•  ë§Œí•œ ì˜í™”ê°€ ìˆë‚˜ìš”?",
                "ì¢‹ì€ ìŒì•… ì¶”ì²œí•´ì£¼ì„¸ìš”",
                "ì·¨ë¯¸ê°€ ë­ì˜ˆìš”?",
                "ë§›ìˆëŠ” ìŒì‹ ì¶”ì²œí•´ì£¼ì„¸ìš”"
            ],
            tutor: [
                "ìˆ˜í•™ ê³µë¶€ë²• ì•Œë ¤ì£¼ì„¸ìš”",
                "ì˜ì–´ ë‹¨ì–´ ì•”ê¸° ë°©ë²•ì€?",
                "íš¨ê³¼ì ì¸ ë…¸íŠ¸ ì •ë¦¬ë²•ì´ ìˆë‚˜ìš”?",
                "ì‹œí—˜ ì¤€ë¹„ëŠ” ì–´ë–»ê²Œ í•´ì•¼ í•˜ë‚˜ìš”?",
                "ì§‘ì¤‘ë ¥ì„ ë†’ì´ëŠ” ë°©ë²•ì€?",
                "ì˜¨ë¼ì¸ í•™ìŠµ ë„êµ¬ ì¶”ì²œí•´ì£¼ì„¸ìš”",
                "ê¸°ì–µë ¥ì„ í–¥ìƒì‹œí‚¤ëŠ” ë°©ë²•ì€?"
            ],
            counselor: [
                "ìš”ì¦˜ ìŠ¤íŠ¸ë ˆìŠ¤ê°€ ë§ì•„ìš”",
                "ë¶ˆì•ˆí•œ ë§ˆìŒì„ ë‹¬ë˜ëŠ” ë°©ë²•ì€?",
                "ê¸°ë¶„ì´ ìš°ìš¸í•  ë•ŒëŠ” ì–´ë–»ê²Œ í•˜ë‚˜ìš”?",
                "ì¸ê°„ê´€ê³„ê°€ í˜ë“¤ì–´ìš”",
                "ìì‹ ê°ì„ ê¸°ë¥´ëŠ” ë°©ë²•ì€?",
                "ê°ì • ì¡°ì ˆí•˜ëŠ” ë²• ì•Œë ¤ì£¼ì„¸ìš”",
                "ë§ˆìŒì˜ í‰í™”ë¥¼ ì°¾ê³  ì‹¶ì–´ìš”"
            ],
            career: [
                "ì´ë ¥ì„œ ì‘ì„±ë²• ì•Œë ¤ì£¼ì„¸ìš”",
                "ë©´ì ‘ ì¤€ë¹„ëŠ” ì–´ë–»ê²Œ í•˜ë‚˜ìš”?",
                "ì»¤ë¦¬ì–´ ì „í™˜ì„ ê³ ë¯¼í•˜ê³  ìˆì–´ìš”",
                "ì§ì¥ì—ì„œ ì„±ê³¼ë¥¼ ë‚´ëŠ” ë°©ë²•ì€?",
                "ë„¤íŠ¸ì›Œí‚¹ì€ ì–´ë–»ê²Œ í•´ì•¼ í•˜ë‚˜ìš”?",
                "ìŠ¹ì§„ì„ ìœ„í•œ ì „ëµì´ ìˆë‚˜ìš”?",
                "ì—…ë¬´ íš¨ìœ¨ì„±ì„ ë†’ì´ëŠ” ë°©ë²•ì€?"
            ],
            creative: [
                "ì°½ì˜ì ì¸ ì•„ì´ë””ì–´ëŠ” ì–´ë–»ê²Œ ì–»ë‚˜ìš”?",
                "ê¸€ì“°ê¸° ì‹¤ë ¥ì„ ëŠ˜ë¦¬ê³  ì‹¶ì–´ìš”",
                "ê·¸ë¦¼ ê·¸ë¦¬ê¸° íŒ ì•Œë ¤ì£¼ì„¸ìš”",
                "ìŒì•… ì‘ê³¡ì— ëŒ€í•´ ì•Œê³  ì‹¶ì–´ìš”",
                "ë””ìì¸ ì˜ê°ì„ ì°¾ëŠ” ë°©ë²•ì€?",
                "ì°½ì‘ í™œë™ì„ ì‹œì‘í•˜ê³  ì‹¶ì–´ìš”",
                "ì˜ˆìˆ ì  ê°ê°ì„ ê¸°ë¥´ëŠ” ë°©ë²•ì€?"
            ],
            health: [
                "ê±´ê°•í•œ ì‹ë‹¨ ì§œëŠ” ë²• ì•Œë ¤ì£¼ì„¸ìš”",
                "ìš´ë™ ë£¨í‹´ ì¶”ì²œí•´ì£¼ì„¸ìš”",
                "ìŠ¤íŠ¸ë ˆìŠ¤ í•´ì†Œë²•ì´ ìˆë‚˜ìš”?",
                "ìˆ˜ë©´ì˜ ì§ˆì„ ë†’ì´ëŠ” ë°©ë²•ì€?",
                "ë‹¤ì´ì–´íŠ¸ íŒ ì•Œë ¤ì£¼ì„¸ìš”",
                "ë©´ì—­ë ¥ ë†’ì´ëŠ” ë°©ë²•ì€?",
                "ê±´ê°•í•œ ìƒí™œìŠµê´€ì€ ë­ê°€ ìˆë‚˜ìš”?"
            ]
        };

        // ë„¤ë¹„ê²Œì´ì…˜ í•¨ìˆ˜
        function navigateTo(page) {
            // í™œì„± ìƒíƒœ ë³€ê²½
            navItems.forEach(nav => nav.classList.remove('active'));
            
            // í´ë¦­ëœ ì•„ì´í…œ ì°¾ì•„ì„œ í™œì„±í™”
            const clickedItem = event.target.closest('.nav-item');
            if (clickedItem) {
                clickedItem.classList.add('active');
            }
            
            // ê° ë©”ë‰´ë³„ ë™ì‘
            switch(page) {
                case 'community':
                    addMessage('ì»¤ë®¤ë‹ˆí‹° ê¸°ëŠ¥ì€ ê°œë°œ ì¤‘ì…ë‹ˆë‹¤! ğŸ˜ï¸', 'bot');
                    break;
                case 'home':
                    addMessage('í™ˆ í™”ë©´ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤! ğŸ ', 'bot');
                    break;
                case 'chatbot':
                    addMessage('ì±—ë´‡ í™”ë©´ì…ë‹ˆë‹¤! í¸í•˜ê²Œ ëŒ€í™”í•´ë³´ì„¸ìš”! ğŸ¤–', 'bot');
                    break;
                case 'more':
                    addMessage('ë”ë³´ê¸° ë©”ë‰´ë¥¼ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤! âš™ï¸', 'bot');
                    break;
            }
        }

        // ì¶”ì²œ ì§ˆë¬¸ í‘œì‹œ í•¨ìˆ˜
        function showSuggestions() {
            const suggestions = suggestionsByRole[currentRole] || suggestionsByRole.general;
            
            // ì „ì²´ ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸ ìƒì„±
            suggestionsScroll.innerHTML = '';
            suggestions.forEach(suggestion => {
                const item = document.createElement('div');
                item.className = 'suggestion-item';
                item.textContent = suggestion;
                item.addEventListener('click', () => {
                    sendSuggestion(suggestion);
                });
                suggestionsScroll.appendChild(item);
            });
        }

        // ì¶”ì²œ ì§ˆë¬¸ í™•ì¥/ì¶•ì†Œ í•¨ìˆ˜
        function toggleSuggestions() {
            suggestionsExpanded = !suggestionsExpanded;
            
            if (suggestionsExpanded) {
                suggestionsContainer.classList.add('expanded');
                bottomContainer.classList.add('expanded');
            } else {
                suggestionsContainer.classList.remove('expanded');
                bottomContainer.classList.remove('expanded');
            }
        }

        // ì¶”ì²œ ì§ˆë¬¸ ì „ì†¡ í•¨ìˆ˜
        function sendSuggestion(suggestion) {
            // ì…ë ¥ì°½ì— í…ìŠ¤íŠ¸ ì„¤ì •
            messageInput.value = suggestion;
            
            // ë©”ì‹œì§€ ì „ì†¡
            sendMessage();
            
            // í™•ì¥ ìƒíƒœë¼ë©´ ì¶•ì†Œ
            if (suggestionsExpanded) {
                toggleSuggestions();
            }
        }

        // í† ê¸€ ìŠ¤ìœ„ì¹˜ ì´ë²¤íŠ¸
        toggleSwitch.addEventListener('click', function() {
            this.classList.toggle('off');
        });

        // ë©”ì‹œì§€ ì „ì†¡ í•¨ìˆ˜
        function sendMessage() {
            const message = messageInput.value.trim();
            if (message === '' || isTyping) return;

            // í”Œë ˆì´ìŠ¤í™€ë” ìˆ¨ê¸°ê¸°
            placeholder.style.display = 'none';

            // ì‚¬ìš©ì ë©”ì‹œì§€ ì¶”ê°€
            addMessage(message, 'user');
            messageInput.value = '';

            // ë´‡ ì‘ë‹µ ì‹œë®¬ë ˆì´ì…˜
            simulateBotResponse(message);
        }

        // ë©”ì‹œì§€ ì¶”ê°€ í•¨ìˆ˜
        function addMessage(text, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;

            if (sender === 'bot') {
                messageDiv.innerHTML = `
                    <div class="bot-avatar"></div>
                    <div class="message-bubble">${text}</div>
                `;
            } else {
                messageDiv.innerHTML = `
                    <div class="message-bubble">${text}</div>
                `;
            }

            chatArea.appendChild(messageDiv);
            chatArea.scrollTop = chatArea.scrollHeight;
            messages.push({ text, sender });
        }

        // ë´‡ ì‘ë‹µ ì‹œë®¬ë ˆì´ì…˜
        function simulateBotResponse(userMessage) {
            isTyping = true;
            sendBtn.disabled = true;

            // íƒ€ì´í•‘ ì¸ë””ì¼€ì´í„° í‘œì‹œ
            const typingMessage = document.createElement('div');
            typingMessage.className = 'message bot typing-message';
            typingMessage.innerHTML = `
                <div class="bot-avatar"></div>
                <div class="typing-indicator">
                    <div class="typing-dots">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                </div>
            `;
            chatArea.appendChild(typingMessage);
            chatArea.scrollTop = chatArea.scrollHeight;

            // 2ì´ˆ í›„ ì‘ë‹µ ìƒì„±
            setTimeout(() => {
                // íƒ€ì´í•‘ ì¸ë””ì¼€ì´í„° ì œê±°
                chatArea.removeChild(typingMessage);

                // ë§íˆ¬ë³„ ì‘ë‹µ ìƒì„±
                const responses = getRoleBasedResponses(userMessage, currentRole, currentTone);
                const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                addMessage(randomResponse, 'bot');

                isTyping = false;
                sendBtn.disabled = false;
            }, 2000);
        }

        // ì—­í• ê³¼ ë§íˆ¬ë¥¼ ì¡°í•©í•œ ì‘ë‹µ ìƒì„± í•¨ìˆ˜
        function getRoleBasedResponses(userMessage, role, tone) {
            const roleResponses = {
                general: {
                    friendly: [
                        "ì•ˆë…•í•˜ì„¸ìš”! ğŸ˜Š ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”?",
                        "ì™€, ì •ë§ í¥ë¯¸ë¡œìš´ ì§ˆë¬¸ì´ë„¤ìš”! ë” ìì„¸íˆ ì•Œë ¤ì£¼ì„¸ìš”~",
                        "ê·¸ë ‡ê²Œ ìƒê°í•˜ì‹œëŠ”êµ°ìš”! ë‹¤ë¥¸ ê´€ì ì—ì„œ ë³´ë©´ ì–´ë–¨ê¹Œìš”? ğŸ˜„",
                        "ì¢‹ì€ ì•„ì´ë””ì–´ì—ìš”! êµ¬ì²´ì ìœ¼ë¡œ ì–´ë–¤ ë¶€ë¶„ì´ ê¶ê¸ˆí•˜ì‹ ê°€ìš”?",
                        `"${userMessage}"ì— ëŒ€í•´ ìƒê°í•´ë³´ë‹ˆ ì •ë§ ì¢‹ì€ í¬ì¸íŠ¸ë„¤ìš”! ğŸ’­`
                    ],
                    casual: [
                        "ì•ˆë…•! ë­ ë„ì™€ì¤„ê¹Œ?",
                        "ì˜¤ ì¬ë°ŒëŠ” ì–˜ê¸°ë„¤! ì¢€ ë” ì–˜ê¸°í•´ë´",
                        "ê·¸ëŸ° ìƒê°ì´êµ¬ë‚˜? ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ë³´ë©´ ì–´ë•Œ?",
                        "ì¢‹ì€ë°? êµ¬ì²´ì ìœ¼ë¡œ ë­ê°€ ê¶ê¸ˆí•´?",
                        `"${userMessage}" ì´ê±° ì§„ì§œ ì¢‹ì€ ì–˜ê¸°ì•¼!`
                    ],
                    professional: [
                        "ì•ˆë…•í•˜ì‹­ë‹ˆê¹Œ. ì–´ë–¤ ì‚¬í•­ì— ëŒ€í•´ ë„ì›€ì„ ë“œë¦´ê¹Œìš”?",
                        "ë§¤ìš° í¥ë¯¸ë¡œìš´ ì£¼ì œì…ë‹ˆë‹¤. ë³´ë‹¤ êµ¬ì²´ì ì¸ ì •ë³´ë¥¼ ì œê³µí•´ ì£¼ì‹œê² ìŠµë‹ˆê¹Œ?",
                        "í•´ë‹¹ ê´€ì ì— ëŒ€í•´ ë§ì”€ë“œë¦¬ìë©´, ë‹¤ê°ë„ë¡œ ê²€í† í•´ ë³¼ í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤.",
                        `"${userMessage}"ì— ê´€í•œ ë¶„ì„ì´ ë§¤ìš° ì ì ˆí•˜ë‹¤ê³  íŒë‹¨ë©ë‹ˆë‹¤.`
                    ],
                    calm: [
                        "ì•ˆë…•í•˜ì„¸ìš”. ì°¨ê·¼ì°¨ê·¼ ë„ì™€ë“œë¦¬ê² ìŠµë‹ˆë‹¤.",
                        "í¥ë¯¸ë¡œìš´ ì§ˆë¬¸ì´êµ°ìš”. ì²œì²œíˆ ìƒê°í•´ë³´ì‹œë©´ ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.",
                        "ê·¸ëŸ° ê´€ì ë„ ìˆë„¤ìš”. ì¡°ê¸ˆ ë” ê¹Šì´ ìƒê°í•´ë³´ë©´ ì–´ë–¨ê¹Œìš”?",
                        `"${userMessage}"ì— ëŒ€í•´ ì‹ ì¤‘í•˜ê²Œ ìƒê°í•´ë³´ì‹  ê²ƒ ê°™ë„¤ìš”.`
                    ]
                },
                tutor: {
                    friendly: [
                        "ê³µë¶€ì— ê´€í•œ ì§ˆë¬¸ì´êµ°ìš”! ğŸ˜Š í•¨ê»˜ í•´ê²°í•´ë´ìš”!",
                        "ì¢‹ì€ ì§ˆë¬¸ì´ì—ìš”! ì´ëŸ° ë°©ì‹ìœ¼ë¡œ ì ‘ê·¼í•´ë³´ë©´ ì–´ë–¨ê¹Œìš”?",
                        "ì´í•´ê°€ ì•ˆ ë˜ëŠ” ë¶€ë¶„ì´ ìˆë‚˜ìš”? ì°¨ê·¼ì°¨ê·¼ ì„¤ëª…í•´ë“œë¦´ê²Œìš”! ğŸ“š",
                        "ì™€! ì •ë§ ì¢‹ì€ í•™ìŠµ íƒœë„ë„¤ìš”! ë” ê¶ê¸ˆí•œ ê±´ ì—†ë‚˜ìš”?",
                        "ì´ ê°œë…ì„ ë‹¤ë¥¸ ì˜ˆì‹œë¡œ ì„¤ëª…í•´ë“œë¦´ê¹Œìš”? ğŸ¤”"
                    ],
                    casual: [
                        "ê³µë¶€ ì§ˆë¬¸ì´êµ¬ë‚˜! ê°™ì´ í’€ì–´ë³´ì",
                        "ì´ê±° ì¢‹ì€ ì§ˆë¬¸ì´ì•¼! ì´ë ‡ê²Œ ìƒê°í•´ë´",
                        "ì˜ ëª¨ë¥´ê² ì–´? ê´œì°®ì•„, ì²œì²œíˆ í•´ë³´ì!",
                        "ì˜¤ ì •ë§ ì—´ì‹¬íˆ í•˜ëŠ”êµ¬ë‚˜! ë” ê¶ê¸ˆí•œ ê±° ìˆì–´?",
                        "ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œë„ ì„¤ëª…í•´ì¤„ê¹Œ?"
                    ],
                    professional: [
                        "í•™ìŠµê³¼ ê´€ë ¨ëœ ì§ˆë¬¸ì…ë‹ˆë‹¤. ì²´ê³„ì ìœ¼ë¡œ ì ‘ê·¼í•´ë³´ê² ìŠµë‹ˆë‹¤.",
                        "í•´ë‹¹ ê°œë…ì— ëŒ€í•´ ë‹¨ê³„ë³„ë¡œ ì„¤ëª…ë“œë¦¬ê² ìŠµë‹ˆë‹¤.",
                        "í•™ìŠµ íš¨ê³¼ë¥¼ ë†’ì´ê¸° ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì€ ë°©ë²•ì„ ê¶Œì¥í•©ë‹ˆë‹¤.",
                        "ì¶”ê°€ì ì¸ í•™ìŠµ ìë£Œê°€ í•„ìš”í•˜ì‹œë©´ ë§ì”€í•´ ì£¼ì‹­ì‹œì˜¤."
                    ],
                    calm: [
                        "í•™ìŠµì— ëŒ€í•œ ì§ˆë¬¸ì´êµ°ìš”. ì°¨ë¶„íˆ ì„¤ëª…í•´ë“œë¦´ê²Œìš”.",
                        "ì²œì²œíˆ í•˜ë‚˜ì”© ì´í•´í•´ë‚˜ê°€ë©´ ë©ë‹ˆë‹¤.",
                        "ì–´ë ¤ìš´ ë¶€ë¶„ì´ ìˆì–´ë„ ê´œì°®ì•„ìš”. í•¨ê»˜ í•´ê²°í•´ë´…ì‹œë‹¤.",
                        "í•™ìŠµì€ ê¸‰í•˜ê²Œ í•˜ëŠ” ê²ƒë³´ë‹¤ ê¾¸ì¤€íˆ í•˜ëŠ” ê²Œ ì¤‘ìš”í•´ìš”."
                    ]
                },
                counselor: {
                    friendly: [
                        "ë§ˆìŒì´ í˜ë“œì‹œêµ°ìš”. ğŸ˜Œ ì œê°€ ì˜†ì—ì„œ ë“¤ì–´ë“œë¦´ê²Œìš”.",
                        "ê·¸ëŸ° ê¸°ë¶„ì´ ë“œëŠ” ê²Œ ë‹¹ì—°í•´ìš”. ì¶©ë¶„íˆ ì´í•´í•´ìš” ğŸ’™",
                        "í˜¼ì ë™ë™ ì•“ì§€ ë§ˆì‹œê³  í¸í•˜ê²Œ ì´ì•¼ê¸°í•´ì£¼ì„¸ìš”~",
                        "ì •ë§ í˜ë“œì…¨ì„ í…ë° ìš©ê¸° ë‚´ì–´ ë§ì”€í•´ì£¼ì…”ì„œ ê³ ë§ˆì›Œìš” ğŸ¤—",
                        "ì§€ê¸ˆ ì´ ìˆœê°„ì˜ ê°ì •ë„ ì†Œì¤‘í•´ìš”. ë¬´ì—‡ì´ë“  ë“¤ì–´ë“œë¦´ê²Œìš”."
                    ],
                    casual: [
                        "í˜ë“  ì¼ ìˆì—ˆêµ¬ë‚˜. ë‚˜í•œí…Œ í„¸ì–´ë†”ë´",
                        "ê·¸ëŸ° ê¸°ë¶„ ë“œëŠ” ê±° ì •ë§ ì´í•´í•´",
                        "í˜¼ì ë™ë™ ì•“ì§€ ë§ê³  í¸í•˜ê²Œ ì–˜ê¸°í•´",
                        "ì§„ì§œ í˜ë“¤ì—ˆê² ë‹¤. ê´œì°®ì•„, ê°™ì´ ì–˜ê¸°í•´ë³´ì",
                        "ë¬´ìŠ¨ ì¼ì¸ì§€ ì²œì²œíˆ ë§í•´ì¤˜"
                    ],
                    professional: [
                        "í˜„ì¬ ìƒí™©ì— ëŒ€í•´ ìì„¸íˆ ë§ì”€í•´ ì£¼ì‹œê² ìŠµë‹ˆê¹Œ?",
                        "ê°ì •ì„ í‘œí˜„í•˜ëŠ” ê²ƒì€ ë§¤ìš° ê±´ê°•í•œ í–‰ë™ì…ë‹ˆë‹¤.",
                        "ì´ëŸ¬í•œ ê°ì •ì„ ëŠë¼ì‹œëŠ” ê²ƒì€ ìì—°ìŠ¤ëŸ¬ìš´ ë°˜ì‘ì…ë‹ˆë‹¤.",
                        "ìƒí™©ì„ ê°ê´€ì ìœ¼ë¡œ ë¶„ì„í•´ë³´ëŠ” ì‹œê°„ì„ ê°€ì ¸ë³´ì‹œê² ìŠµë‹ˆê¹Œ?"
                    ],
                    calm: [
                        "ë§ˆìŒì´ ë§ì´ í˜ë“œì‹œêµ°ìš”. ì²œì²œíˆ ë§ì”€í•´ì£¼ì„¸ìš”.",
                        "ì§€ê¸ˆ ëŠë¼ëŠ” ê°ì •ë“¤ì„ ìˆëŠ” ê·¸ëŒ€ë¡œ ë°›ì•„ë“¤ì—¬ë³´ì„¸ìš”.",
                        "í˜¼ìê°€ ì•„ë‹ˆì—ìš”. í•¨ê»˜ ì´ ì‹œê°„ì„ ê²¬ëŒë‚´ë´ìš”.",
                        "ê¹Šê²Œ ìˆ¨ì„ í•œ ë²ˆ ì‰¬ê³ , í¸ì•ˆí•œ ë§ˆìŒìœ¼ë¡œ ì´ì•¼ê¸°í•´ì£¼ì„¸ìš”."
                    ]
                },
                career: {
                    friendly: [
                        "ì»¤ë¦¬ì–´ ê³ ë¯¼ì´ ìˆìœ¼ì‹œêµ°ìš”! ğŸ˜Š í•¨ê»˜ í•´ê²°ì±…ì„ ì°¾ì•„ë´ìš”!",
                        "ì§ì¥ ìƒí™œì´ë‚˜ ì§„ë¡œì— ëŒ€í•´ ê³ ë¯¼ì´ ë§ìœ¼ì‹œê² ì–´ìš”. ë„ì™€ë“œë¦´ê²Œìš”! ğŸ’¼",
                        "ì„±ì¥í•˜ê³  ì‹¶ì€ ë§ˆìŒì´ ë³´ì—¬ì„œ ì •ë§ ì¢‹ë„¤ìš”! ì–´ë–¤ ë¶€ë¶„ì´ ê¶ê¸ˆí•˜ì„¸ìš”?",
                        "ì»¤ë¦¬ì–´ëŠ” ë‹¨ê±°ë¦¬ê°€ ì•„ë‹ˆë¼ ë§ˆë¼í†¤ì´ì—ìš”. ì°¨ê·¼ì°¨ê·¼ ê³„íší•´ë´ìš”! ğŸ¯",
                        "ì¢‹ì€ ê¸°íšŒë¥¼ ë§Œë“¤ì–´ê°€ëŠ” ê³¼ì •ì´ë„¤ìš”! í•¨ê»˜ ì „ëµì„ ì„¸ì›Œë´ìš”!"
                    ],
                    casual: [
                        "ì¼ ì–˜ê¸°êµ¬ë‚˜! ë­ê°€ ê³ ë¯¼ì´ì•¼?",
                        "ì»¤ë¦¬ì–´ ê³ ë¯¼? ë‚˜ë„ ê°™ì´ ìƒê°í•´ë³¼ê²Œ",
                        "ì§ì¥ ìƒí™œ í˜ë“¤ì§€? ì–´ë–¤ ê²Œ ë¬¸ì œì•¼?",
                        "ì§„ë¡œ ê³ ë¯¼í•˜ëŠ” ê±°ì•¼? ì¢‹ì€ ìƒê°ì´ì•¼!",
                        "ì„±ì¥í•˜ê³  ì‹¶ì–´í•˜ëŠ”êµ¬ë‚˜! ì–´ë–¤ ìª½ìœ¼ë¡œ?"
                    ],
                    professional: [
                        "ì»¤ë¦¬ì–´ ë°œì „ì— ëŒ€í•œ êµ¬ì²´ì ì¸ ê³„íšì„ ìˆ˜ë¦½í•´ë³´ê² ìŠµë‹ˆë‹¤.",
                        "í˜„ì¬ ì§ë¬´ ê²½í—˜ê³¼ ëª©í‘œë¥¼ ë¶„ì„í•˜ì—¬ ìµœì ì˜ ë°©í–¥ì„ ì œì‹œí•˜ê² ìŠµë‹ˆë‹¤.",
                        "ì‹œì¥ ë™í–¥ê³¼ ìš”êµ¬ ì—­ëŸ‰ì„ ê³ ë ¤í•œ ì „ëµì  ì ‘ê·¼ì´ í•„ìš”í•©ë‹ˆë‹¤.",
                        "ì¥ê¸°ì ì¸ ì»¤ë¦¬ì–´ ë¡œë“œë§µì„ í•¨ê»˜ ì„¤ê³„í•´ë³´ì‹œê² ìŠµë‹ˆê¹Œ?"
                    ],
                    calm: [
                        "ì»¤ë¦¬ì–´ ê³ ë¯¼ì€ ëˆ„êµ¬ì—ê²Œë‚˜ ìˆëŠ” ìì—°ìŠ¤ëŸ¬ìš´ ê³¼ì •ì´ì—ìš”.",
                        "ì²œì²œíˆ ìì‹ ì˜ ê°•ì ê³¼ ê´€ì‹¬ì‚¬ë¥¼ íŒŒì•…í•´ë³´ëŠ” ê²ƒë¶€í„° ì‹œì‘í•´ë´ìš”.",
                        "ê¸‰í•˜ê²Œ ê²°ì •í•˜ì§€ ë§ˆì‹œê³  ì¶©ë¶„íˆ ê³ ë¯¼í•˜ê³  ê³„íší•˜ì„¸ìš”.",
                        "ì§€ê¸ˆê¹Œì§€ì˜ ê²½í—˜ë“¤ë„ ëª¨ë‘ ì†Œì¤‘í•œ ìì‚°ì´ë¼ëŠ” ê±¸ ìŠì§€ ë§ˆì„¸ìš”."
                    ]
                },
                creative: {
                    friendly: [
                        "ì°½ì‘ í™œë™ì— ê´€ì‹¬ì´ ìˆìœ¼ì‹œêµ°ìš”! ğŸ¨ ì •ë§ ë©‹ì ¸ìš”!",
                        "ìƒìƒë ¥ì„ ë°œíœ˜í•  ì‹œê°„ì´ë„¤ìš”! âœ¨ ì–´ë–¤ ê±¸ ë§Œë“¤ì–´ë³¼ê¹Œìš”?",
                        "ì°½ì˜ì ì¸ ì•„ì´ë””ì–´ê°€ ë– ì˜¤ë¥´ëŠ” ê²ƒ ê°™ì•„ìš”! í•¨ê»˜ ë°œì „ì‹œì¼œë´ìš”! ğŸ’¡",
                        "ì˜ˆìˆ ì€ ë§ˆìŒì„ í‘œí˜„í•˜ëŠ” ê±°ì˜ˆìš”! ììœ ë¡­ê²Œ ìƒê°í•´ë´ìš”! ğŸŒˆ",
                        "ì°½ì‘ì˜ ì¦ê±°ì›€ì„ í•¨ê»˜ ë‚˜ëˆ ìš”! ì–´ë–¤ ì˜ê°ì´ í•„ìš”í•˜ì„¸ìš”?"
                    ],
                    casual: [
                        "ì°½ì‘ ì–˜ê¸°êµ¬ë‚˜! ë­”ê°€ ì¬ë°ŒëŠ” ê±¸ ë§Œë“¤ì–´ë³´ì!",
                        "ì•„ì´ë””ì–´ ë¸Œë ˆì¸ìŠ¤í† ë°í•´ë³¼ê¹Œ?",
                        "ì°½ì˜ì ì¸ ìƒê°í•˜ëŠ”êµ¬ë‚˜! ë©‹ì ¸!",
                        "ë­”ê°€ ë§Œë“¤ê³  ì‹¶ì–´? ê°™ì´ ì•„ì´ë””ì–´ ë‚´ë³´ì!",
                        "ìƒìƒë ¥ ë°œíœ˜í•  ì‹œê°„ì´ì•¼! ì–´ë–¤ ê²Œ ì¢‹ì„ê¹Œ?"
                    ],
                    professional: [
                        "ì°½ì‘ í”„ë¡œì íŠ¸ì˜ êµ¬ì²´ì ì¸ ë°©í–¥ì„±ì„ ì„¤ì •í•´ë³´ê² ìŠµë‹ˆë‹¤.",
                        "ì°½ì˜ì  ê³¼ì •ì—ì„œ ì²´ê³„ì ì¸ ì ‘ê·¼ ë°©ë²•ì„ ì œì•ˆë“œë¦¬ê² ìŠµë‹ˆë‹¤.",
                        "ì‹œì¥ ë¶„ì„ê³¼ íƒ€ê²Ÿ ì„¤ì •ì„ í†µí•œ ì „ëµì  ì°½ì‘ì„ ê³ ë ¤í•´ë³´ì‹œê² ìŠµë‹ˆê¹Œ?",
                        "ì°½ì‘ë¬¼ì˜ ì™„ì„±ë„ë¥¼ ë†’ì´ê¸° ìœ„í•œ ë‹¨ê³„ë³„ ê³„íšì„ ìˆ˜ë¦½í•´ë³´ê² ìŠµë‹ˆë‹¤."
                    ],
                    calm: [
                        "ì°½ì‘ì€ ë‚´ë©´ì˜ ëª©ì†Œë¦¬ë¥¼ ë“£ëŠ” ê³¼ì •ì´ì—ìš”. ì²œì²œíˆ í•´ë³´ì„¸ìš”.",
                        "ì™„ë²½í•˜ì§€ ì•Šì•„ë„ ê´œì°®ì•„ìš”. ê³¼ì • ìì²´ë¥¼ ì¦ê²¨ë³´ì„¸ìš”.",
                        "ì˜ê°ì€ ì˜ˆìƒì¹˜ ëª»í•œ ìˆœê°„ì— ì°¾ì•„ì™€ìš”. ë§ˆìŒì„ ì—´ì–´ë‘ì„¸ìš”.",
                        "ì°½ì‘ í™œë™ì„ í†µí•´ ìì‹ ì„ ë” ê¹Šì´ ì•Œì•„ê°€ëŠ” ì‹œê°„ì´ ë˜ê¸¸ ë°”ë¼ìš”."
                    ]
                },
                health: {
                    friendly: [
                        "ê±´ê°• ê´€ë¦¬ì— ê´€ì‹¬ì„ ê°€ì§€ì‹œëŠ”êµ°ìš”! ğŸ˜Š ì •ë§ ì¢‹ì€ ìŠµê´€ì´ì—ìš”!",
                        "ëª¸ê³¼ ë§ˆìŒì˜ ê±´ê°•ì´ ê°€ì¥ ì¤‘ìš”í•˜ì£ ! ğŸƒâ€â™€ï¸ ì–´ë–¤ ë¶€ë¶„ì´ ê¶ê¸ˆí•˜ì„¸ìš”?",
                        "ê±´ê°•í•œ ìƒí™œìŠµê´€ì„ ë§Œë“¤ì–´ê°€ëŠ” ê³¼ì •ì´ë„¤ìš”! í•¨ê»˜ ê³„íší•´ë´ìš”! ğŸ’ª",
                        "ì‘ì€ ë³€í™”ë¶€í„° ì‹œì‘í•˜ëŠ” ê²Œ ì¢‹ì•„ìš”! ê¾¸ì¤€íˆ í•  ìˆ˜ ìˆëŠ” ê²ƒë¶€í„° í•´ë´ìš”! âœ¨",
                        "ê±´ê°•ì€ í•˜ë£¨ì•„ì¹¨ì— ë§Œë“¤ì–´ì§€ì§€ ì•Šì•„ìš”. ì°¨ê·¼ì°¨ê·¼ í•´ë‚˜ê°€ìš”! ğŸŒ±"
                    ],
                    casual: [
                        "ê±´ê°• ì–˜ê¸°êµ¬ë‚˜! ëª¸ ê´€ë¦¬ ì–´ë–»ê²Œ í•˜ê³  ìˆì–´?",
                        "ìš´ë™ì´ë‚˜ ì‹ë‹¨ ê°™ì€ ê±° ê¶ê¸ˆí•´?",
                        "ê±´ê°• ê´€ë¦¬ ì‹œì‘í•˜ë ¤ëŠ”êµ¬ë‚˜! ì¢‹ì€ ìƒê°ì´ì•¼!",
                        "ëª¸ì´ ì¢€ ì•ˆ ì¢‹ì•„? ì–´ë–¤ ê²Œ ë¬¸ì œì•¼?",
                        "ê±´ê°•í•œ ìŠµê´€ ë§Œë“¤ê³  ì‹¶ì–´? ê°™ì´ ê³„íší•´ë³´ì!"
                    ],
                    professional: [
                        "ê±´ê°• ê´€ë¦¬ì— ëŒ€í•œ ê³¼í•™ì ì´ê³  ì²´ê³„ì ì¸ ì ‘ê·¼ì„ ì œì•ˆë“œë¦¬ê² ìŠµë‹ˆë‹¤.",
                        "ê°œì¸ì˜ ìƒí™œ íŒ¨í„´ì„ ë¶„ì„í•˜ì—¬ ë§ì¶¤í˜• ê±´ê°• ê³„íšì„ ìˆ˜ë¦½í•´ë³´ê² ìŠµë‹ˆë‹¤.",
                        "ì˜í•™ì  ê·¼ê±°ì— ê¸°ë°˜í•œ ê±´ê°• ì •ë³´ë¥¼ ì œê³µí•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.",
                        "ì „ë¬¸ì˜ ìƒë‹´ì´ í•„ìš”í•œ ê²½ìš° ì ì ˆí•œ ì‹œê¸°ë¥¼ ì•ˆë‚´í•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤."
                    ],
                    calm: [
                        "ê±´ê°• ê´€ë¦¬ëŠ” ë§ˆìŒì˜ í‰í™”ì—ì„œ ì‹œì‘ë¼ìš”. ìŠ¤íŠ¸ë ˆìŠ¤ë¶€í„° ê´€ë¦¬í•´ë³´ì„¸ìš”.",
                        "ëª¸ì˜ ì‹ í˜¸ë¥¼ ì£¼ì˜ ê¹Šê²Œ ë“¤ì–´ë³´ëŠ” ì‹œê°„ì„ ê°€ì ¸ë³´ì„¸ìš”.",
                        "ê¸‰í•œ ë³€í™”ë³´ë‹¤ëŠ” ì§€ì† ê°€ëŠ¥í•œ ìŠµê´€ì„ ë§Œë“œëŠ” ê²ƒì´ ì¤‘ìš”í•´ìš”.",
                        "ê±´ê°•ì€ ì‹ ì²´ë¿ë§Œ ì•„ë‹ˆë¼ ì •ì‹ ì , ì‚¬íšŒì  ì›°ë¹™ì„ ëª¨ë‘ í¬í•¨í•´ìš”."
                    ]
                }
            };

            return roleResponses[role]?.[tone] || roleResponses.general[tone];
        }

        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
        sendBtn.addEventListener('click', sendMessage);

        messageInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // ì»¨íŠ¸ë¡¤ ë²„íŠ¼ ì´ë²¤íŠ¸
        voiceBtn.addEventListener('click', function() {
            toneModal.style.display = 'flex';
            // í˜„ì¬ ì„ íƒëœ ë§íˆ¬ í‘œì‹œ
            toneOptions.forEach(option => {
                option.classList.remove('selected');
                if (option.dataset.tone === currentTone) {
                    option.classList.add('selected');
                }
            });
        });

        memoryBtn.addEventListener('click', function() {
            roleModal.style.display = 'flex';
            // í˜„ì¬ ì„ íƒëœ ì—­í•  í‘œì‹œ
            roleOptions.forEach(option => {
                option.classList.remove('selected');
                if (option.dataset.role === currentRole) {
                    option.classList.add('selected');
                }
            });
        });

        // ì—­í•  ì„ íƒ ì´ë²¤íŠ¸
        roleOptions.forEach(option => {
            option.addEventListener('click', function() {
                roleOptions.forEach(opt => opt.classList.remove('selected'));
                this.classList.add('selected');
                selectedRole = this.dataset.role;
            });
        });

        // ì—­í•  ëª¨ë‹¬ ë‹«ê¸° ì´ë²¤íŠ¸
        cancelRole.addEventListener('click', function() {
            roleModal.style.display = 'none';
        });

        confirmRole.addEventListener('click', function() {
            currentRole = selectedRole;
            roleModal.style.display = 'none';
            
            // ì—­í•  ë³€ê²½ ì•Œë¦¼ ë©”ì‹œì§€
            const roleNames = {
                general: 'ì¼ë°˜ ëŒ€í™”',
                tutor: 'í•™ìŠµ ë„ìš°ë¯¸',
                counselor: 'ìƒë‹´ì‚¬',
                career: 'ì»¤ë¦¬ì–´ ì½”ì¹˜',
                creative: 'ì°½ì‘ íŒŒíŠ¸ë„ˆ',
                health: 'ê±´ê°• ê´€ë¦¬ì‚¬'
            };
            
            addMessage(`ì—­í• ì„ ${roleNames[currentRole]}ë¡œ ë³€ê²½í–ˆìŠµë‹ˆë‹¤! ì´ì œ ${roleNames[currentRole]} ëª¨ë“œë¡œ ëŒ€í™”í•´ìš”! ğŸ˜Š`, 'bot');
            
            // ì¶”ì²œ ì§ˆë¬¸ ì—…ë°ì´íŠ¸
            showSuggestions();
        });

        // ì—­í•  ëª¨ë‹¬ ì˜¤ë²„ë ˆì´ í´ë¦­ì‹œ ë‹«ê¸°
        roleModal.addEventListener('click', function(e) {
            if (e.target === roleModal) {
                roleModal.style.display = 'none';
            }
        });

        // ì¶”ì²œ ì§ˆë¬¸ í—¤ë” í´ë¦­ ì´ë²¤íŠ¸
        suggestionsHeader.addEventListener('click', function() {
            toggleSuggestions();
        });

        // ê¸°ì¡´ ë„¤ë¹„ê²Œì´ì…˜ ì´ë²¤íŠ¸ (ì‚¬ìš©í•˜ì§€ ì•ŠìŒ)
        // navItems.forEach(item => {
        //     item.addEventListener('click', function() {
        //         navItems.forEach(nav => nav.classList.remove('active'));
        //         this.classList.add('active');
        //     });
        // });

        // ë§íˆ¬ ì„ íƒ ì´ë²¤íŠ¸
        toneOptions.forEach(option => {
            option.addEventListener('click', function() {
                toneOptions.forEach(opt => opt.classList.remove('selected'));
                this.classList.add('selected');
                selectedTone = this.dataset.tone;
            });
        });

        // ëª¨ë‹¬ ë‹«ê¸° ì´ë²¤íŠ¸
        cancelTone.addEventListener('click', function() {
            toneModal.style.display = 'none';
        });

        confirmTone.addEventListener('click', function() {
            currentTone = selectedTone;
            toneModal.style.display = 'none';
            
            // ë§íˆ¬ ë³€ê²½ ì•Œë¦¼ ë©”ì‹œì§€
            const toneNames = {
                friendly: 'ë‹¤ì •í•œ',
                casual: 'ì¹œê·¼í•œ', 
                professional: 'ì „ë¬¸ê°€',
                calm: 'ì°¨ë¶„í•œ'
            };
            
            addMessage(`ë§íˆ¬ë¥¼ ${toneNames[currentTone]} ë²„ì „ìœ¼ë¡œ ë³€ê²½í–ˆìŠµë‹ˆë‹¤! ğŸ˜Š`, 'bot');
        });

        // ëª¨ë‹¬ ì˜¤ë²„ë ˆì´ í´ë¦­ì‹œ ë‹«ê¸°
        toneModal.addEventListener('click', function(e) {
            if (e.target === toneModal) {
                toneModal.style.display = 'none';
            }
        });

        // ì´ˆê¸° í™˜ì˜ ë©”ì‹œì§€
        setTimeout(() => {
            placeholder.style.display = 'none';
            addMessage('ì•ˆë…•í•˜ì„¸ìš”! ğŸ˜Š AI ì±—ë´‡ì…ë‹ˆë‹¤. ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”?', 'bot');
            
            // ì´ˆê¸° ì¶”ì²œ ì§ˆë¬¸ í‘œì‹œ
            showSuggestions();
        }, 1000);
    </script>
</body>
</html>